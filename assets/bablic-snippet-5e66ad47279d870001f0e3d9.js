window.bablic=window.bablic||{};bablic.Site='5e66ad47279d870001f0e3d9';bablic.version=3.9;bablic.conf=[1613472874633,"en",0,0,1,1,1,1,[[0,0,0,0,"es","Español",0,"",["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"],0,0,[1,4,2,3],[],[],"es",[]],[0,0,0,"www.stellar.org/","en","English",0,0,["January","February","March","April","May","June","July","August","September","October","November","December"],0,0,[],0,0,"en",[]]],[[0,0,1,3,0,0,[2,350,"px",0],["#3e1bdb","#262e30","#ffffff","#262626"],0,0],[0,0,1,2,0,0,[6,20,"px",0],["#01AEDA","#262e30","#ffffff","#262626"],0,0]],1,".gm-style,.gm-sm,.pac-container","",0,0,0,0,"stellar.org/",[],{"1":["/api/"],"2":["/blog/2018-ecosystem-updates-community-vision-part-1/","/blog/2018-stellar-roadmap/","/blog/3-common-misconceptions-about-ico-law/","/blog/bitcoin-claim-lumens-2/","/blog/bitcoin-claim-lumens/","/blog/multisig-and-simple-contracts-stellar/","/blog/sdf-ecosystem-updates-developer-programs/","/blog/tokens-on-stellar/"],"3":["/blog/a-look-back-and-a-look-forward-for-2020/","/blog/announcing-first-stellar-auction/","/blog/announcing-the-new-stellar-logo/","/blog/announcing-the-new-stellar-org/","/blog/cowries-cross-border-payment-services-for-nigeria-powered-by-stellar/","/blog/global-partnerships/","/blog/introducing-stellar-partnership-grant-program/","/blog/lightyear-announcement/","/blog/roadmap/","/blog/safety-liveness-and-fault-tolerance-consensus-choice/","/blog/sdf-ecosystem-updates-lumen-distribution-programs/","/blog/stellar-security-guide-protect-scammers/","/blog/together-we-can-a-decentralized-vision-for-financial-inclusion/","/blog/understanding-initial-coin-offerings/","/blog/why-btc-giveaway/","/foundation/academic-research-grants/"],"4":["/blog/announcing-the-7th-stellar-build-challenge/","/community/community-fund/","/ecosystem/projects/","/foundation/mandate/"],"5":["/blog/build-challenge/","/blog/on-worldwide-consensus/","/developers-blog/intuitive-stellar-consensus-protocol/","/developers-blog/why-quorums-matter-and-how-stellar-approaches-them/"],"6":["/blog/first-year/","/blog/introducing-stellar/","/blog/issuer-enforced-finality-explained/","/blog/our-proposal-to-disable-inflation/","/blog/protocol-11-improvements-stellar/","/blog/sixth-stellar-build-challenge-results/","/blog/stellar-outage-9-20-14/","/blog/using-stellar-for-ico/"],"7":["/blog/blockchain-policy-getting-it-right/","/blog/bringing-lumens-to-millions/","/blog/ibm-klickex-partnership/","/blog/introducing-meridian/","/blog/introducing-stellar-orgs-new-features/","/blog/keybase-and-stellar-partnership/","/blog/keybase-stellar-lumens-spacedrop/","/blog/removal-of-partial-payments/","/blog/sdf-at-consensus-distributed/","/blog/sdf-donation-matching-program/","/blog/sdf-joins-the-blockchain-association/","/blog/stellar-coinbase-earn/","/blog/stellar-development-foundation-q1-in-review/","/blog/stellar-network-upgrade/","/blog/stellar-receives-sharia-compliance-certification-transfers-tokenization/","/blog/stellar-roadmap-2019/","/blog/the-right-time-for-open-source/","/blog/upgraded-network-is-here/","/blog/where-we-are-headed/","/blog/why-ibm-built-world-wire-on-stellar/","/blog/why-im-joining-stellar/","/case-studies/","/events/consensus-fireside-chat-ama-with-jed-mccaleb-on-financial-inclusion/","/events/cowries-cross-border-payment-services-for-nigeria-powered-by-stellar/","/events/creating-usable-stellar-applications/","/events/episode-13/","/events/fireside-chat-with-jed-mccaleb/","/events/intuitive-stellar-consensus-protocol/","/events/jed-mccaleb-speaks-at-money20-20-asia/","/events/meridian-2019/","/events/sdf-at-consensus-distributed/","/events/sdf-end-of-the-year-catch-up-cloudflare/","/events/stellar-at-hacknyu/","/events/stellar-austria-developers-meetup/","/events/stellar-development-foundation-q1-in-review/","/events/stellar-w-blockchain-sydney-enterprise-focus/","/events/workshop-build-your-own-stellar-wallet/","/files/sharia-certification-stellar/","/papers/fast-and-secure-global-payments-with-stellar/","/papers/stellar-consensus-protocol/"],"8":["/blog/q1-2018-stellar-and-state-of-crypto/","/blog/sdfs-next-steps/","/blog/stellar-build-challenge-7-results/","/blog/stellar-consensus-protocol-proof-code/","/community/faq/","/foundation/","/lumens/wallets/","/newsletters/december-2018/","/newsletters/february-2020/","/newsletters/march-2020/","/newsletters/winter-2019/","/tools/"],"9":["/case-studies/ibm-world-wire/","/case-studies/saldo/","/case-studies/satoshipay/","/community/","/foundation/careers/","/lumens/exchanges/","/newsletters/august-2018/","/newsletters/july-2018/","/newsletters/june-2018/","/start/"],"10":["/cdn-cgi/l/email-protection/","/cross-border-payments/","/developers/software/","/developers/stellar-core/software/performance.html","/developers/stellar-core/software/testnet.html","/developers/tools/","/incidents/8pt7sm3g0wgm/","/incidents/b0dwhcvyrpd2/","/incidents/b4bzqn7wq98j/","/incidents/hmsd2ss48lf2/","/incidents/md67vk6wv91s/"],"11":["/contact/","/developers-blog//stellar-protocol-11-public-network-upgrade/","/developers-blog/how-stellar-org-recovers-from-a-testnet-reset/","/developers-blog/may-15th-network-halt/","/developers-blog/new-releases-stellar-core-v12-0-0-horizon-v0-21-0/","/developers-blog/stellar-protocol-11-public-network-upgrade/","/events/continued-discussion-creating-a-stellar-ecosystem-standard-for-send-receive-transactions/","/events/crea-tu-primer-transaccion-con-stellar/","/events/new-stellar-ecosystem-standard-for-send-receive-transactions/","/events/practical-path-payments/","/lumens/","/newsroom/","/press-releases/sdf-announces-strategic-investment-in-dstoq/","/press-releases/sdf-appoints-denelle-dixon-as-executive-director-and-ceo/","/press-releases/stellar-development-foundation-announces-exclusive-partnership-with-elliptic/","/press-releases/stellar-development-foundation-announces-two-new-members-to-board-of-directors/","/press-releases/stellar-development-foundation-releases-first-quarterly-review/","/roadmap/"],"12":["/developers-blog/a-new-go-sdk-for-the-stellar-network/","/developers-blog/a-new-ticker-for-the-stellar-community/","/developers-blog/beta-test-our-new-dev-docs/","/developers-blog/fixing-memo-less-payments/","/developers-blog/horizon-v0-22-0-released-protocol-12-support/","/developers-blog/our-new-horizon-ingestion-engine/","/developers-blog/surge-pricing-on-stellar-faq/","/developers-blog/zkvm-a-new-design-for-fast-confidential-smart-contracts/"],"13":["/developers-blog/guide-to-protocol-13-prep/","/developers-blog/introducing-horizon-1-0/","/developers-blog/kelp-why-we-built-it-the-liquidity-problem/","/foundation/team/","/newsletters/july-2019/","/newsletters/june-2019/","/newsletters/march-2019/","/newsletters/may-2019/"],"14":["/developers-blog/lightning-on-stellar-roadmap/","/roadmap/2019/"],"15":["/developers/go/reference/examples.html","/developers/horizon/reference/resources/effect.html","/developers/horizon/reference/resources/offer.html","/developers/horizon/reference/resources/trade.html"],"16":["/developers/guides/anchor/","/developers/guides/anchor/3-federation-server.html","/developers/guides/concepts/assets.html","/developers/guides/concepts/exchange.html","/developers/guides/concepts/federation.html","/developers/guides/get-started/create-account.html","/developers/learn/concepts/federation.html"],"17":["/developers/guides/anchor/2-bridge-server.html","/developers/guides/anchor/4-compliance-server.html"],"18":["/developers/guides/","/developers/guides/anchor/5-conclusion.html","/developers/guides/concepts/accounts.html","/developers/guides/concepts/inflation.html","/developers/guides/concepts/networks.html","/developers/guides/concepts/scp.html","/developers/guides/concepts/stellar-toml.html","/developers/guides/concepts/xdr.html","/developers/guides/get-started/index.html","/developers/guides/hardware.html","/developers/guides/security.html","/docs/","/docs/building-apps/","/docs/building-apps/connect-to-anchors/","/docs/building-apps/key-management/","/docs/enabling-deposit-and-withdrawal/","/docs/enabling-deposit-and-withdrawal/reference-implementations/","/docs/glossary/fees/","/docs/glossary/minimum-balance/","/docs/glossary/network-passphrase/","/docs/glossary/xdr/","/docs/issuing-assets/","/docs/run-api-server/","/docs/run-api-server/configuring/","/docs/run-api-server/installing/","/docs/run-api-server/prerequisites/","/docs/run-api-server/quickstart/","/docs/run-core-node/installation/","/docs/software-and-sdks/","/docs/start/digital-assets/"],"19":["/developers/guides/attachment.html","/developers/guides/concepts/transactions.html","/developers/guides/things-to-build.html","/developers/guides/walkthroughs/connect-to-wallets.html"],"20":["/developers/guides/channels.html","/developers/guides/concepts/fees.html","/developers/guides/concepts/ledger.html","/developers/guides/concepts/test-net.html","/developers/guides/concepts/versioning.html","/developers/guides/contributing.html","/developers/guides/lumen-supply-metrics.html","/developers/guides/walkthroughs/securing-web-projects.html"],"21":["/developers/guides/compliance-protocol.html","/developers/guides/walkthroughs/stellar-smart-contracts.html","/developers/stellar-core/architecture.html","/developers/stellar-core/software/security-protocol-release-notes.html","/developers/stellar-core/versioning.html"],"22":["/developers/guides/concepts/list-of-operations.html"],"23":["/developers/guides/concepts/multi-sig.html","/developers/guides/walkthroughs/custom-assets.html","/developers/guides/walkthroughs/how-to-complete-stellar-toml.html"],"24":["/developers/guides/concepts/operations.html","/developers/guides/walkthroughs/bifrost-server-setup.html","/developers/software/known-issues.html","/developers/stellar-core/software/commands.html"],"25":["/developers/guides/exchange.html","/developers/guides/issuing-assets.html"],"26":["/developers/guides/get-started/transactions.html"],"27":["/developers/go/reference/index.html","/developers/horizon/reference/","/developers/horizon/reference/endpoints/accounts-single.html","/developers/horizon/reference/endpoints/accounts.html","/developers/horizon/reference/endpoints/effects-all.html","/developers/horizon/reference/endpoints/effects-for-account.html","/developers/horizon/reference/endpoints/effects-for-ledger.html","/developers/horizon/reference/endpoints/effects-for-operation.html","/developers/horizon/reference/endpoints/effects-for-transaction.html","/developers/horizon/reference/endpoints/ledgers-all.html","/developers/horizon/reference/endpoints/ledgers-single.html","/developers/horizon/reference/endpoints/offer-details.html","/developers/horizon/reference/endpoints/offers-for-account.html","/developers/horizon/reference/endpoints/offers.html","/developers/horizon/reference/endpoints/operations-all.html","/developers/horizon/reference/endpoints/operations-for-account.html","/developers/horizon/reference/endpoints/operations-for-ledger.html","/developers/horizon/reference/endpoints/operations-for-transaction.html","/developers/horizon/reference/endpoints/operations-single.html","/developers/horizon/reference/endpoints/payments-all.html","/developers/horizon/reference/endpoints/payments-for-account.html","/developers/horizon/reference/endpoints/payments-for-ledger.html","/developers/horizon/reference/endpoints/payments-for-transaction.html","/developers/horizon/reference/endpoints/transactions-all.html","/developers/horizon/reference/endpoints/transactions-for-account.html","/developers/horizon/reference/endpoints/transactions-for-ledger.html","/developers/horizon/reference/endpoints/transactions-single.html","/developers/horizon/reference/errors.html","/developers/horizon/reference/errors/bad-request.html","/developers/horizon/reference/errors/before-history.html","/developers/horizon/reference/errors/not-acceptable.html","/developers/horizon/reference/errors/not-found.html","/developers/horizon/reference/errors/not-implemented.html","/developers/horizon/reference/errors/rate-limit-exceeded.html","/developers/horizon/reference/errors/server-error.html","/developers/horizon/reference/errors/stale-history.html","/developers/horizon/reference/errors/timeout.html","/developers/horizon/reference/errors/transaction-failed.html","/developers/horizon/reference/errors/transaction-malformed.html","/developers/horizon/reference/paging.html","/developers/horizon/reference/rate-limiting.html","/developers/horizon/reference/resources/data.html","/developers/horizon/reference/resources/page.html","/developers/horizon/reference/responses.html","/developers/horizon/reference/streaming.html","/developers/horizon/reference/xdr.html","/developers/reference/"],"28":["/developers/horizon/reference/endpoints/assets-all.html","/developers/horizon/reference/endpoints/data-for-account.html","/developers/horizon/reference/endpoints/orderbook-details.html","/developers/horizon/reference/endpoints/trade_aggregations.html","/developers/horizon/reference/endpoints/trades-for-account.html","/developers/horizon/reference/endpoints/trades-for-offer.html","/developers/horizon/reference/endpoints/trades.html"],"29":["/developers/horizon/reference/endpoints/fee-stats.html","/developers/horizon/reference/endpoints/path-finding-strict-receive.html","/developers/horizon/reference/endpoints/path-finding-strict-send.html","/developers/horizon/reference/endpoints/path-finding.html","/developers/horizon/reference/endpoints/transactions-create.html","/developers/horizon/reference/resources/orderbook.html","/developers/horizon/reference/resources/trade_aggregation.html"],"30":["/developers/horizon/reference/endpoints/metrics.html","/developers/horizon/reference/tutorials/follow-received-payments.html"],"31":["/developers/horizon/reference/resources/account.html","/developers/horizon/reference/resources/asset.html","/developers/horizon/reference/resources/ledger.html","/developers/horizon/reference/resources/path.html","/developers/horizon/reference/resources/transaction.html"],"32":["/developers/horizon/reference/resources/operation.html"],"33":["/developers/js-stellar-base/reference/base-examples.html","/developers/js-stellar-base/reference/building-transactions.html","/developers/js-stellar-sdk/reference/","/developers/js-stellar-sdk/reference/examples.html"],"34":["/developers/stellar-core/software/admin.html"],"35":["/docs/building-apps/basic-wallet/"],"36":["/docs/building-apps/connect-to-anchors/deposit-anchored-assets/","/docs/building-apps/connect-to-anchors/withdraw-anchored-assets/","/docs/run-core-node/monitoring/"],"37":["/docs/building-apps/connect-to-anchors/setup-for-anchored-assets/","/docs/building-apps/project-setup/"],"38":["/docs/building-apps/custom-assets/","/docs/building-apps/xlm-payments/"],"39":["/docs/enabling-deposit-and-withdrawal/launch/","/docs/glossary/accounts/","/docs/glossary/operations/","/docs/glossary/versioning/","/docs/run-core-node/network-upgrades/","/docs/run-core-node/prerequisites/","/docs/run-core-node/publishing-history-archives/","/docs/run-core-node/tier-1-orgs/"],"40":["/docs/enabling-deposit-and-withdrawal/setting-up-production-server/","/docs/run-api-server/monitoring/","/docs/run-api-server/running/","/docs/run-core-node/running-node/"],"41":["/docs/enabling-deposit-and-withdrawal/setting-up-test-server/","/docs/run-core-node/configuring/"],"42":["/docs/glossary/ledger/","/docs/glossary/testnet/","/docs/glossary/transactions/","/docs/issuing-assets/anatomy-of-an-asset/","/docs/issuing-assets/control-asset-access/","/docs/issuing-assets/how-to-issue-an-asset/","/docs/run-core-node/","/docs/tutorials/create-account/"],"43":["/docs/issuing-assets/publishing-asset-info/","/docs/tutorials/send-and-receive-payments/"],"44":["/learn/anchor-basics/","/learn/blockchain-basics/","/learn/intro-to-stellar/","/learn/the-power-of-stellar/","/newsletters/april-2019/","/newsletters/august-2019/","/newsletters/january-2019/","/newsletters/september-2019/"]},["/uptime/","/terms-of-service/","/privacy-policy/","/press-releases","/newsletters","/incidents","/history/","/graphiql/","/foundation/previous-mandate/","/files","/events","/ecosystem/wallet-guidelines/","/ecosystem/bug-bounty-program/","/developers-blog","/developers","/community/code-of-conduct/","/community/blog-guidelines/","/cdn-cgi","/brand-policy/","/blog/","/blog","/app/","/agenda/"],["/tools/","/start/","/roadmap/","/newsroom/","/newsletters/","/lumens/","/foundation/","/events/","/developers/","/contact/","/community/","/case-studies/"],["www.stellar.org","*.stellar.org"],0,"",0,"en",1,["es"],0,[],["_v",1.2]];
var bablic=window.bablic||window._bab||{};!function(){var loadAll=function(bablic,WIN,PARENT,TOP){if(!bablic.ignoreAll)if(bablic.Mutation&&bablic.Site){bablic.isActivated=!0,console.log("Bablic already loaded");try{if(top!=window&&parent.editor&&parent.editor.snippetDetected)parent.editor.snippetDetected();else if(bablic.preview)var interval=setInterval(function(){for(var e,t=0;t<window.frames.length;t++){var n=window.frames[t];try{if(n&&n.editor&&n.editor.snippetDetected){e=n;break}}catch(e){}}e&&(clearInterval(interval),e.editor.snippetDetected())},300)}catch(e){}}else{var HAS_LOCAL_STORAGE=!!WIN.localStorage,EDITOR;try{EDITOR=TOP.editor}catch(e){}var DOC=WIN.document,LOC=WIN.location,PROXY=bablic.proxy=/pipe(\.staging)?\.bablic\.com$/.test(LOC.hostname),strundefined="undefined",Modernizr;if(PROXY&&"bablic.com"!=DOC.domain)try{DOC.domain="bablic.com"}catch(e){}try{DOC.getElementById("BABLIC_CHECK")&&(bablic.preview=!0),TOP!=WIN&&TOP.editor&&(bablic.preview=!0)}catch(e){}window.bablic=window.bablic||{},function(){var e=window.Modernizr;try{!function(e,t,n){function a(e,t){return typeof e===t}function r(e){return e.replace(/([a-z])-([a-z])/g,function(e,t,n){return t+n.toUpperCase()}).replace(/^-/,"")}function i(){return"function"!=typeof t.createElement?t.createElement(arguments[0]):L?t.createElementNS.call(t,"http://www.w3.org/2000/svg",arguments[0]):t.createElement.apply(t,arguments)}function o(e,t){return function(){return e.apply(t,arguments)}}function l(e,n,a,r){var o,l,c,s,u,d="modernizr",b=i("div"),f=((u=t.body)||((u=i(L?"svg":"body")).fake=!0),u);if(parseInt(a,10))for(;a--;)(c=i("div")).id=r?r[a]:d+(a+1),b.appendChild(c);return(o=i("style")).type="text/css",o.id="s"+d,(f.fake?f:b).appendChild(o),f.appendChild(b),o.styleSheet?o.styleSheet.cssText=e:o.appendChild(t.createTextNode(e)),b.id=d,f.fake&&(f.style.background="",f.style.overflow="hidden",s=T.style.overflow,T.style.overflow="hidden",T.appendChild(f)),l=n(b,e),f.fake?(f.parentNode.removeChild(f),T.style.overflow=s,T.offsetHeight):b.parentNode.removeChild(b),!!l}function c(e){return e.replace(/([A-Z])/g,function(e,t){return"-"+t.toLowerCase()}).replace(/^ms-/,"-ms-")}function s(t,o,s,u){function d(){f&&(delete O.style,delete O.modElem)}if(u=!a(u,"undefined")&&u,!a(s,"undefined")){var b=function(t,a){var r=t.length;if(e&&"CSS"in e&&"supports"in e.CSS){for(;r--;)if(e.CSS.supports(c(t[r]),a))return!0;return!1}if(e&&"CSSSupportsRule"in e){for(var i=[];r--;)i.push("("+c(t[r])+":"+a+")");return l("@supports ("+(i=i.join(" or "))+") { #modernizr { position: absolute; } }",function(e){return"absolute"==getComputedStyle(e,null).position})}return n}(t,s);if(!a(b,"undefined"))return b}for(var f,p,g,h,m,v=["modernizr","tspan","samp"];!O.style&&v.length;)f=!0,O.modElem=i(v.shift()),O.style=O.modElem.style;for(g=t.length,p=0;g>p;p++)if(h=t[p],m=O.style[h],!!~(""+h).indexOf("-")&&(h=r(h)),O.style[h]!==n){if(u||a(s,"undefined"))return d(),"pfx"!=o||h;try{O.style[h]=s}catch(e){}if(O.style[h]!=m)return d(),"pfx"!=o||h}return d(),!1}function u(e,t,n,r,i){var l=e.charAt(0).toUpperCase()+e.slice(1),c=(e+" "+y.join(l+" ")+l).split(" ");return a(t,"string")||a(t,"undefined")?s(c,t,r,i):function(e,t,n){var r;for(var i in e)if(e[i]in t)return!1===n?e[i]:a(r=t[e[i]],"function")?o(r,n||t):r;return!1}(c=(e+" "+v.join(l+" ")+l).split(" "),t,n)}function d(e,t,a){return u(e,n,n,t,a)}var b=[],f={_version:"3.3.1",_config:{classPrefix:"",enableClasses:!0,enableJSClass:!0,usePrefixes:!0},_q:[],on:function(e,t){var n=this;setTimeout(function(){t(n[e])},0)},addTest:function(e,t,n){b.push({name:e,fn:t,options:n})},addAsyncTest:function(e){b.push({name:null,fn:e})}},p=function(){};p.prototype=f,(p=new p).addTest("localstorage",function(){var e="modernizr";try{return localStorage.setItem(e,e),localStorage.removeItem(e),!0}catch(e){return!1}});var g=f._config.usePrefixes?" -webkit- -moz- -o- -ms- ".split(" "):["",""];f._prefixes=g;var h=[],m="Moz O ms Webkit",v=f._config.usePrefixes?m.toLowerCase().split(" "):[];f._domPrefixes=v;var y=f._config.usePrefixes?m.split(" "):[];f._cssomPrefixes=y;var _=function(t){var a,r=g.length,i=e.CSSRule;if(void 0===i)return n;if(!t)return!1;if((a=(t=t.replace(/^@/,"")).replace(/-/g,"_").toUpperCase()+"_RULE")in i)return"@"+t;for(var o=0;r>o;o++){var l=g[o];if(l.toUpperCase()+"_"+a in i)return"@-"+l.toLowerCase()+"-"+t}return!1};f.atRule=_;var A,T=t.documentElement,L="svg"===T.nodeName.toLowerCase(),E=(A=!("onblur"in t.documentElement),function(e,t){var a;return!!e&&(t&&"string"!=typeof t||(t=i(t||"div")),!(a=(e="on"+e)in t)&&A&&(t.setAttribute||(t=i("div")),t.setAttribute(e,""),a="function"==typeof t[e],t[e]!==n&&(t[e]=n),t.removeAttribute(e)),a)});f.hasEvent=E;var C=i("input"),S="autocomplete autofocus list placeholder max min multiple pattern required step".split(" "),D={};p.input=function(t){for(var n=0,a=t.length;a>n;n++)D[t[n]]=!!(t[n]in C);return D.list&&(D.list=!(!i("datalist")||!e.HTMLDataListElement)),D}(S);var x=f.testStyles=l;p.addTest("touchevents",function(){var n;if("ontouchstart"in e||e.DocumentTouch&&t instanceof DocumentTouch)n=!0;else{var a=["@media (",g.join("touch-enabled),("),"heartz",")","{#modernizr{top:9px;position:absolute}}"].join("");x(a,function(e){n=9===e.offsetTop})}return n});var N={elem:i("modernizr")};p._q.push(function(){delete N.elem});var O={style:N.elem.style};p._q.unshift(function(){delete O.style}),f.testAllProps=u,f.testAllProps=d,p.addTest("cssanimations",d("animationName","a",!0)),p.addTest("csstransforms",function(){return-1===navigator.userAgent.indexOf("Android 2.")&&d("transform","scale(1)",!0)}),p.addTest("csstransitions",d("transition","all",!0));var w,I=f.prefixed=function(e,t,n){return 0===e.indexOf("@")?_(e):(-1!=e.indexOf("-")&&(e=r(e)),t?u(e,t,n):u(e,"pfx"))};try{w=I("indexedDB",e)}catch(e){}p.addTest("indexeddb",!!w),w&&p.addTest("indexeddb.deletedatabase","deleteDatabase"in w),function(){var e,t,n,r,i,o;for(var l in b)if(b.hasOwnProperty(l)){if(e=[],(t=b[l]).name&&(e.push(t.name.toLowerCase()),t.options&&t.options.aliases&&t.options.aliases.length))for(n=0;n<t.options.aliases.length;n++)e.push(t.options.aliases[n].toLowerCase());for(r=a(t.fn,"function")?t.fn():t.fn,i=0;i<e.length;i++)1===(o=e[i].split(".")).length?p[o[0]]=r:(!p[o[0]]||p[o[0]]instanceof Boolean||(p[o[0]]=new Boolean(p[o[0]])),p[o[0]][o[1]]=r),h.push((r?"":"no-")+o.join("-"))}}(),delete f.addTest,delete f.addAsyncTest;for(var R=0;R<p._q.length;R++)p._q[R]();e.Modernizr=p}(window,document)}catch(e){Modernizr={touchevents:!1}}Modernizr=bablic.Modernizr=window.Modernizr,window.Modernizr=e}();var d=DOC,$;!function(){d.contains||(d.contains=function(e){do{if("HTML"==e.tagName)return!0;e=e.parentNode}while(e);return!1});var e,t=function(){},n=typeof HTMLCollection==strundefined?t:HTMLCollection,a=typeof NodeList==strundefined?t:NodeList;e=function(t,r){if(!(this instanceof e))return new e(t,r);if(t){var i;if("string"==typeof t)i="<"==t[0]?l(t):(r||d).querySelectorAll(t);else{if(t instanceof e)return t;t===WIN||t.self&&t.self==t?i=[t]:t.nodeType?i=[t]:(Array.isArray(t)||t instanceof n||"HTMLCollection"==t.constructor.name||t instanceof a||t===d||"number"==typeof t.length)&&(i=t)}this.element=i}};var r=/^\s+/,i=/\s+$/,o=function(e){return e.trim?e.trim():e.replace(r,"").replace(i,"")};String.prototype.trim||(String.prototype.trim=function(){return this.replace(r,"").replace(i,"")});var l=function(e){return c.innerHTML=o(e),c.childNodes[0]},c=d.createElement("div"),s=function(e,t){for(var n in t)e[n]=t[n]};e.extend=function(e,t){for(var n=1;n<arguments.length;n++)s(e,arguments[n]);return e},e.each=function(e,t){if(void 0!==e.length)for(var n=0;n<e.length;n++)t(n,e[n]);else for(var a in e)t(a,e[a]);return e},e.map=function(e,t){var n=new Array;if(void 0!==e.length)for(var a=0;a<e.length;a++){var r=t(e[a],a);null!==r&&(Array.isArray(r)?Array.prototype.push.apply(n,r):n.push(r))}else for(var i in e)n.push(t(e[i],i));return n},e.grep=function(e,t){for(var n=new Array,a=0;a<e.length;a++)t(e[a])&&n.push(e[a]);return n},e.isEmptyObject=function(e){return!e||0==Object.keys(e).length},e.isArray=function(e){return Array.isArray(e)},e.byTag=function(t,n){return new e((n||d).getElementsByTagName(t))},e.byId=function(t,n){return new e((n||d).getElementById(t))},e.byClass=function(t,n){return new e("."+t,n)},e.makeArray=function(e){return Array.prototype.slice.apply(e,[])},e.inArray=function(e,t){if(t.indexOf)return t.indexOf(e);for(var n=0;n<t.length;n++)if(t[n]===e)return n;return-1},e.trim=o;var u=/^-ms-/,b=/-([\da-z])/gi,f=function(e,t){return t.toUpperCase()};function p(e){return e.element?"number"==typeof e.element.length?e.element[0]:e.element:null}e.camelCase=function(e){return e.replace(u,"ms-").replace(b,f)},e.window={width:function(){return WIN.innerWidth},height:function(){return WIN.innerHeight}};var g=d.removeEventListener?function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)}:function(e,t,n){var a="on"+t;e.detachEvent&&(typeof e[a]===strundefined&&(e[a]=null),e.detachEvent(a,n))},h=function(e){var t,n="",a=0,r=e.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=h(e)}else if(3===r||4===r)return e.nodeValue}else for(;t=e[a++];)n+=h(t);return n};e.prototype.length=function(){return this.element?"number"==typeof this.element.length?this.element.length:this.element?1:0:0},e.prototype.parent=function(){var t=p(this);if(!t)return new e;var n=t.parentElement;return new e(n)},e.prototype.hasParent=function(e){var t=p(this);if(!t)return!1;for(;t.parentNode;){if(m(t.parentNode,e))return!0;t=t.parentNode}return!1},e.prototype.parents=function(e){var t=[],n=p(this);if(!n)return t;for(;n.parentNode;)e&&!m(n.parentNode,e)||t.push(n.parentNode),n=n.parentNode;return t},e.prototype.children=function(t){var n=[];return this.each(function(){var a=e.grep(this.childNodes,function(n){return 1==n.nodeType&&(!t||new e(n).is(t))});n=n.concat(a)}),new e(n)},e.prototype.filter=function(t){var n=[];return this.each(function(){m(this,t)&&n.push(this)}),new e(n)},e.prototype.attr=function(e,t){if(typeof t==strundefined){var n=p(this);return n?n.getAttribute(e):""}return this.each(function(){""===t?this.removeAttribute(e):this.setAttribute(e,!0===t?"":t)}),this},e.prototype.get=function(e){return"number"==typeof this.element.length?this.element[e]:this.element},e.prototype.html=function(e){var t=p(this);return t?typeof e==strundefined?t.innerHTML:(t.innerHTML=e,this):this},e.prototype.each=function(e){if(!this.element)return this;if("number"==typeof this.element.length)for(var t=0;t<this.element.length;t++)e.apply(this.element[t],[t]);else e.apply(this.element,[0]);return this},e.prototype.remove=function(){return this.each(function(){this.parentNode&&this.parentNode.removeChild(this)}),this},e.prototype.appendTo=function(t){var n=p(new e(t));return n?(this.each(function(){n.appendChild(this)}),this):this},e.prototype.insertBefore=function(t){var n=p(new e(t));if(!n)return this;var a=n.parentNode;return a?(this.each(function(){a.insertBefore(this,n)}),this):this},e.prototype.append=function(t){var n=p(new e(t));if(!n)return this;var a=p(this);return a?(a.appendChild(n),this):this},e.prototype.on=function(e,t){return this.each(function(){this.addEventListener?this.addEventListener(e,t,!1):this.attachEvent&&this.attachEvent("on"+e,t)}),this},e.prototype.once=function(e,t){return this.each(function(){var n=function(a){return g(this,e,n),t.apply(this,arguments)};this.addEventListener?this.addEventListener(e,n,!1):this.attachEvent&&this.attachEvent("on"+e,n)}),this},e.prototype.off=function(e,t){return this.each(function(){g(this,e,t)}),this},e.prototype.width=function(){var e=p(this);return e?e.clientWidth:0},e.prototype.height=function(){var e=p(this);return e?e.clientHeight:0},e.prototype.is=function(e){var t=p(this);return!!t&&m(t,e)};var m=function(e,t){return e.matches=e.matches||e.webkitMatchesSelector||e.mozMatchesSelector||e.msMatchesSelector||e.oMatchesSelector,!!e.matches&&e.matches(t)};e.prototype.toArray=function(){return this.element?"number"==typeof this.element.length?Array.isArray(this.element)?this.element:e.makeArray(this.element):[this.element]:[]},e.prototype.addClass=function(e){return this.each(function(){var t=this.className||"";"string"!=typeof t&&(t=t.baseVal);for(var n=t.split(" "),a={},r=0;r<n.length;r++){var i=o(n[r]);i&&(a[i]=!0)}a[e]=!0,this.className=Object.keys(a).join(" ")}),this},e.prototype.removeClass=function(e){return this.each(function(){var t=this.className||"";"string"!=typeof t&&(t=t.baseVal);for(var n=t.split(" "),a={},r=0;r<n.length;r++){a[o(n[r])]=!0}delete a[e],this.className=Object.keys(a).join(" ")}),this};var v=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,y=(new RegExp("^("+v+")(.*)$","i"),new RegExp("^([+-])=("+v+")","i")),_={letterSpacing:"0",fontWeight:"400"},A=["Webkit","O","Moz","ms"];function T(e,t){if(t in e)return t;for(var n=t.charAt(0).toUpperCase()+t.slice(1),a=t,r=A.length;r--;)if((t=A[r]+n)in e)return t;return a}var L,E,C=/^(top|right|bottom|left)$/,S=/^margin/,D=new RegExp("^("+v+")(?!px)[a-z%]+$","i");function x(e){return"_babstyle"in e?e._babstyle:e.style}WIN.getComputedStyle?(L=function(e){return e.ownerDocument.defaultView&&e.ownerDocument.defaultView.opener?e.ownerDocument.defaultView.getComputedStyle(e,null):bablic.getStyle?bablic.getStyle.call(WIN,e,null):WIN.getComputedStyle(e,null)},E=function(t,n,a){var r,i,o,l,c=x(t);return l=(a=a||L(t))?(a._getProp?a._getProp(n):a.getPropertyValue(n))||a[n]:void 0,a&&(""===l&&(l=e.style(t,n)),D.test(l)&&S.test(n)&&(r=c.width,i=c.minWidth,o=c.maxWidth,c.minWidth=c.maxWidth=c.width=l,l=a.width,c.width=r,c.minWidth=i,c.maxWidth=o)),void 0===l?l:l+""}):d.documentElement.currentStyle&&(L=function(e){return e.currentStyle},E=function(e,t,n){var a,r,i,o,l=x(e);return null==(o=(n=n||L(e))?n[t]:void 0)&&l&&l[t]&&(o=l[t]),D.test(o)&&!C.test(t)&&(a=l.left,(i=(r=e.runtimeStyle)&&r.left)&&(r.left=e.currentStyle.left),l.left="fontSize"===t?"1em":o,o=l.pixelLeft+"px",l.left=a,i&&(r.left=i)),void 0===o?o:o+""||"auto"}),s(e,{cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(t,n,a,r){if(t&&3!==t.nodeType&&8!==t.nodeType&&x(t)){var i,o,l=e.camelCase(n),c=x(t);if(n=e.cssProps[l]||(e.cssProps[l]=T(c,l)),void 0===a)return c[n];"string"===(o=typeof a)&&(i=y.exec(a))&&(a=(i[1]+1)*i[2]+parseFloat(e.css(t,n)),o="number"),null!=a&&a==a&&("number"!==o||e.cssNumber[l]||(a+="px"),""===a&&0===n.indexOf("background")&&(c[n]="inherit"),c[n]=a)}},css:function(t,n,a,r){var i,o,l=e.camelCase(n);return n=e.cssProps[l]||(e.cssProps[l]=T(x(t),l)),void 0===o&&(o=E(t,n,r)),"normal"===o&&n in _&&(o=_[n]),""===a||a?(i=parseFloat(o),!0===a||e.isNumeric(i)?i||0:o):o}}),e.prototype.css=function(t,n){if(void 0===n){var a=p(this);return a?e.css(a,t):null}return this.each(function(){e.style(this,t,n)}),this},e.prototype.hide=function(){return this.css("display","none")},e.prototype.show=function(){return this.css("display","block")},e.prototype.text=function(e){if(typeof e==strundefined){var t=p(this);return t?h(t):""}return this.each(function(){for(;this.firstChild;)this.removeChild(this.firstChild);var t=DOC.createTextNode(e);this.appendChild(t)}),this},$=e,bablic.$=$}();var SUB_DOMAIN_PIPE_REGEX=/(?:^|_)(\w\w?\w(?:_\w\w)?)_(?:b\-[mt]\-)?[0-9a-f]{24,25}_pipe/i,SUB_DOMAIN_REGEX=/^(?:www\.)?(\w\w?\w(?:_\w\w)?)\./i,IGNORE_SUBS=/\b(www|test|dev|local|staging)\./,SUB_DIR=/^(\/(\w\w?\w([-|_]\w\w)?))(?:\/|$)/,EXTRACT_SUB=/^\/?@([^@]+)@/,NOT_FOLDER_REGEX=/(\.[^/]*|\/|\?.*|#.*)$/,BEnumRegex=/^BEnum\((.*?)\)/,decodeConf,encodeConf,encodePing,decodeSnippetData,ei,bablicHash;try{"object"!=typeof module&&"boolean"!=typeof ENGINE_PACKAGE||(module.exports={getLocaleByURL:getLocaleByURL,normalizePath:normalizePath,getSubDomain:getSubDomain,getOtherDomain:getOtherDomain,encodeObject:encodeObject,encodeWithVersion:encodeWithVersion,decodeObject:decodeObject,decodeWithVersion:decodeWithVersion,getPackageFromPath:getPackageFromPath,isPageExcluded:isPageExcluded,isPathFolder:isPathFolder})}catch(e){console.error(e)}!function(){var e=/snippet\/([0-9a-f]{24})\.js\?version=[0-9]\.[0-9]/,t=["__obj__",["timestamp","Number"],["orig","String"],["localeDetection",'BEnum({"0":"querystring","1":"subdomain","2":"hash","3":"tld","4":"custom","5":"none","6":"subdir"})'],["edit","Boolean"],["fallback","Boolean"],["ajaxWidget","Boolean"],["meta","Boolean"],["alt","Boolean"],["locales",[["__obj__",["legacy","Boolean"],["www","Boolean"],["dir",'BEnum({"0":"ltr","1":"rtl"})'],["url","String"],["key","String"],["name","String"],["flag","String"],["font","String"],["months",["String"]],["dateFormat","String"],["timeFormat","String"],["engines",["Number"]],["excludePages",["String"]],["includePages",["String"]],["iso","String"],["days",["String"]]]]],["widget",[["__obj__",["show","Boolean"],["embedded","String"],["logo","Boolean"],["size","Number"],["widgetType",'BEnum({"0":"labels","1":"flags","2":"letters","3":"flagsHoriz","4":"lettersHoriz"})'],["expanded","Boolean"],["position",["__obj__",["corner","Number"],["distance","Number"],["unit","String"],["fixed","Boolean"]]],["colors",["String"]],["hideCurrent","Boolean"],["css","String"]]]],["bidi","Boolean"],["exclude","String"],["include","String"],["markup",null],["includeQueryString","Boolean"],["includeHash","Boolean"],["singlePageApp","Boolean"],["domain","String"],["mountSubs",["String"]],["packages",null],["excludePages",["String"]],["includePages",["String"]],["domains",["String"]],["mbd","Boolean"],["j","String"],["keywords",null],["default","String"],["autoDetect","Boolean"],["localeKeys",["String"]],["customUrls",null],["qsParams",["String"]]],n=["__obj__",["timestamp","Number"],["snippetTimestamp","Number"],["error","String"],["locale","String"],["original","String"],["didHide","Boolean"],["confTime","Number"],["translationTime","Number"],["hiddenTime","Number"],["detected","String"],["page","String"],["detectedLocale","String"],["hasLocalStorage","Boolean"],["hasIndexDB","Boolean"],["path","String"],["nonBlocking","Boolean"],["version","Number"],["parseVersion","Number"]],a={1:["__obj__",["timestamp","Number"],["original","String"],["localeKeys",["String"]],["localeDetection",'BEnum({"0":"querystring","1":"subdomain","2":"hash","3":"tld","4":"custom","5":"none","6":"subdir"})'],["includeQueryString","Boolean"],["includeHash","Boolean"],["singlePageApp","Boolean"],["customUrls",null],["noCDN","Boolean"],["noLocalStorage","Boolean"],["noCookies","Boolean"]],2:["__obj__",["timestamp","Number"],["original","String"],["default","String"],["autoDetect","Boolean"],["localeKeys",["String"]],["localeDetection",'BEnum({"0":"querystring","1":"subdomain","2":"hash","3":"tld","4":"custom","5":"none","6":"subdir"})'],["includeQueryString","Boolean"],["includeHash","Boolean"],["singlePageApp","Boolean"],["customUrls",null],["noCDN","Boolean"],["noLocalStorage","Boolean"],["noCookies","Boolean"],["qsParams",["String"]],["domain","String"],["mountSubs",["String"]]]};if(decodeConf=function(e){return decodeWithVersion(e,t,1.2)},encodeConf=function(e){return encodeWithVersion(e,t,1.2)},encodePing=function(e){return encodeObject(n,e)},decodeSnippetData=function(e){if(14==e.length&&(n=decodeWithVersion(e,a[2],Number(1))))return n;for(var t in a){var n;if(n=decodeWithVersion(e,a[t],Number(t)))return n}return null},window.bablic)for(var r=document.getElementsByTagName("SCRIPT"),i=0;i<r.length;i++){if(!bablic.Site&&r[i].getAttribute("src")&&r[i].getAttribute("src").indexOf("/snippet/")>-1){var o=e.exec(r[i].getAttribute("src"))[1];bablic.Site=o}if(!bablic.Site&&r[i].getAttribute("data-bablic")&&(bablic.Site=r[i].getAttribute("data-bablic")),!bablic.data&&r[i].getAttribute("data-bablic-m")){var l=r[i].getAttribute("data-bablic-m");if(l){l=l.replace(/[“”]/g,"").replace(/[‘’]/g,"'");try{l=JSON.parse(l.replace(/'/g,'"')),l=decodeSnippetData(l),bablic.data=l}catch(e){console.error("malformed code snippet",e)}}}var c=r[i].getAttribute("src");if(c&&/(cdn2|staging)\.bablic\.com/.test(c)){var s={};if($.each((c.split("?")[1]||"").split("&"),function(e,t){var n=t.split("="),a=decodeURIComponent(n[0]).replace("amp;","");s[a]=decodeURIComponent(n[1])}),s.site&&!bablic.Site&&(bablic.Site=s.site),!bablic.data&&s.meta)try{l=JSON.parse(s.meta.replace(/'/g,'"')),l=decodeSnippetData(l),bablic.data=l}catch(e){bablic.error(e)}}}}(),bablic.$.prototype.animate=function(e,t,n){return bablic.Modernizr.csstransitions?(this.each(function(){var a=this;a._babStop&&a._babStop();var r=ei||(ei=function(){if(!WIN.getComputedStyle)return{};var e=WIN.getComputedStyle(DOC.DOCElement,""),t=(Array.prototype.slice.call(e).join("").match(/-(moz|webkit|ms)-/)||""===e.OLink&&["","o"])[1];return{dom:"WebKit|Moz|MS|O".match(new RegExp("("+t+")","i"))[1],lowercase:t,css:"-"+t+"-",js:t[0].toUpperCase()+t.substr(1)}}()),i=t.duration||".5s",o=Object.keys(e).map(function(e){return e+" "+i}).join(",");a._babStop=function(){clearTimeout(c),n=null,l()};var l=function(){a.style[r.lowercase+"Transition"]="",a.style.transition="",new Array("transitionEnd",r.lowercase+"TransitionEnd").forEach(function(e){$(a).off(e,l)}),delete a._babStop,n&&n(),n=null};new Array("transitionEnd",r.lowercase+"TransitionEnd").forEach(function(e){$(a).on(e,l)}),a.style[r.lowercase+"Transition"]=o,a.style.transition=o;var c=setTimeout(function(){for(var t in e)a.style[t]=e[t]},0)}),this):setTimeout(n,0)},function(){function e(e){return btoa(function(e){for(var t="",n=0;n<32*e.length;n+=8)t+=String.fromCharCode(e[n>>5]>>>24-n%32&255);return t}(function(e,r){e[r>>5]|=128<<24-r%32,e[15+(r+64>>9<<4)]=r;for(var i=Array(80),o=1732584193,l=-271733879,c=-1732584194,s=271733878,u=-1009589776,d=0;d<e.length;d+=16){for(var b=o,f=l,p=c,g=s,h=u,m=0;m<80;m++){i[m]=m<16?e[d+m]:a(i[m-3]^i[m-8]^i[m-14]^i[m-16],1);var v=n(n(a(o,5),t(m,l,c,s)),n(n(u,i[m]),(y=m)<20?1518500249:y<40?1859775393:y<60?-1894007588:-899497514));u=s,s=c,c=a(l,30),l=o,o=v}o=n(o,b),l=n(l,f),c=n(c,p),s=n(s,g),u=n(u,h)}var y;return Array(o,l,c,s,u)}(function(e){for(var t=Array(e.length>>2),n=0;n<t.length;n++)t[n]=0;for(var n=0;n<8*e.length;n+=8)t[n>>5]|=(255&e.charCodeAt(n/8))<<24-n%32;return t}(r=function(e){var t,n,a="",r=-1;for(;++r<e.length;)t=e.charCodeAt(r),n=r+1<e.length?e.charCodeAt(r+1):0,55296<=t&&t<=56319&&56320<=n&&n<=57343&&(t=65536+((1023&t)<<10)+(1023&n),r++),t<=127?a+=String.fromCharCode(t):t<=2047?a+=String.fromCharCode(192|t>>>6&31,128|63&t):t<=65535?a+=String.fromCharCode(224|t>>>12&15,128|t>>>6&63,128|63&t):t<=2097151&&(a+=String.fromCharCode(240|t>>>18&7,128|t>>>12&63,128|t>>>6&63,128|63&t));return a}(e||"")),8*r.length)));var r}function t(e,t,n,a){return e<20?t&n|~t&a:e<40?t^n^a:e<60?t&n|t&a|n&a:t^n^a}function n(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function a(e,t){return e<<t|e>>>32-t}WIN.atob||WIN.btoa||function(e){var t="=",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";function a(e,t){var n=e.charCodeAt(t);if(n>255)throw"INVALID_CHARACTER_ERR: DOM Exception 5";return n}WIN.btoa=function(e){if(1!==arguments.length)throw"SyntaxError: exactly one argument required";var r,i=[],o=(e=String(e)).length-e.length%3;if(!e.length)return e;for(r=0;r<o;r+=3)l=a(e,r)<<16|a(e,r+1)<<8|a(e,r+2),i[i.length]=n.charAt(l>>18),i[i.length]=n.charAt(l>>12&63),i[i.length]=n.charAt(l>>6&63),i[i.length]=n.charAt(63&l);switch(e.length-o){case 1:l=a(e,r)<<16,i[i.length]=n.charAt(l>>18)+n.charAt(l>>12&63)+t+t;break;case 2:l=a(e,r)<<16|a(e,r+1)<<8,i[i.length]=n.charAt(l>>18)+n.charAt(l>>12&63)+n.charAt(l>>6&63)+t}for(var l=0,c=i.length,s="";l<c;)s+=i[l++];return s}}();var r={};bablicHash=function(t){if("string"==typeof(n=r[t]))return n;var n=e(t);return r[t]=n,n}}(),bablic.hash=bablicHash;var root_path="//"+(bablic.debugServer||"e2.bablic.com"),editorPath=bablic.debugServer?"//"+bablic.debugServer:"https://www.bablic.com",fetchFromCDN,ajaxPost,ajaxGet,getPageTranslationURL,turnOffCDN,build_query_string;!function(e,t,n){e.now||(e.now=function(){return Number(new e)}),t.isArray||(t.isArray=function(e){return e&&e.constructor==t}),t.prototype.indexOf||(t.prototype.indexOf=function(e){for(var t=0;t<this.length;t++)if(this[t]==e)return t;return-1});var a=null,r=n.cdnServer||"c.bablic.com",i=n.confCdnServer||"c.bablic.com";turnOffCDN=function(){a=e.now()},getPageTranslationURL=function(e){return e.indexOf("conf")>-1?"//"+i+e+".json?t="+(LDATA?LDATA.timestamp:""):"//"+r+e+".json?t="+(LDATA?LDATA.timestamp:"")},fetchFromCDN=function(e,t){var n=getPageTranslationURL(e);ajaxGet(n,null,function(e){t(null,e)},function(e){t(e)})};var o=function(e,t,a,r,i,l,c){r=r||function(){n.log("bablic POST success")},i=i||function(e){n.log("bablic POST request failed "+e.responseText||e)},c=c||0;var s=t.indexOf("//")>-1,u=t.indexOf("?")>-1?"&":"?",d=l?"https:":"";if(WIN.XDomainRequest){if(!WIN.JSON)return i("not supported");var b=new XDomainRequest;l&&(b.withCredentials="true"),b.open(e,s?t:(n.preview?editorPath:d+root_path)+t+u+build_query_string()),b.onload=function(){setTimeout(function(){if("application/json"==b.contentType){var e=JSON.parse(b.responseText);null!=e&&void 0!==e||(e=JSON.parse(a.firstChild.textContent)),r(e)}else r(b.responseText)},1)},b.onerror=function(){i(b)},a?b.send(JSON.stringify(a)):b.send()}else{var f=new XMLHttpRequest;f.open(e,s?t:(n.preview?editorPath:d+root_path)+t+u+build_query_string()),"POST"==e&&f.setRequestHeader("Content-type","application/json"),l&&(f.withCredentials="true"),f.onreadystatechange=function(){if(4==f.readyState){var n=f.responseText;if("string"==typeof n&&/^\s*(\{|\[|"|[0-9])/.test(n))try{n=JSON.parse(n)}catch(e){}if(f.status<200||f.status>=300)return!(f.status>=400&&f.status<=409||500==f.status)&&c++<2?setTimeout(function(){o(e,t,a,r,i,l,c)},(429==f.status?1500:100)*c):i(n||f.status||"failed");r(n)}},a?f.send(JSON.stringify(a)):f.send()}};ajaxPost=function(e,t,n,a){return o("POST",e,t,n,null,a)},ajaxGet=function(e,t,n,a,r,i){return o("GET",e,null,n,a,r,i)},build_query_string=function(){return"s="+n.Site+(n.locale?"&l="+n.locale:"")+(n.package&&!n.dedicated?"&package="+n.package:"")+"&uri="+encodeURIComponent(pageUri())+"&v="+n.version+(n.localeURL?"&ld="+n.localeURL:"")+(n.preview?"&preview="+encodeURIComponent(n.preview):"")+(a?"&_c="+a:"")}}(Date,Array,bablic),function(e){function t(e,n){return 1===arguments.length?function(){var n=$.makeArray(arguments);return n.unshift(e),t.apply(this,n)}:(arguments.length>2&&n.constructor!==Array&&(n=$.makeArray(arguments).slice(1)),n.constructor!==Array&&(n=[n]),$.each(n,function(t,n){e=e.replace(new RegExp("\\{"+t+"\\}","g"),n).replace("%s",n)}),e)}var n=e.getText=e.__=function(e,n){return n=n||[],arguments.length>2&&n.constructor!==Array&&(n=$.makeArray(arguments).slice(1)),n.constructor!==Array&&(n=[n]),t(a(e),n)};function a(t,n){if(!LDATA||!LDATA.content)return e.log("translation not loaded yet"),t;if(!Text)return t;n=n||{},!Text.stripText&&Text.prepare&&Text.prepare();var a={nodeType:3,nodeValue:t,nodeName:"#text"};return processNodeWithEngine(a,{tagName:"P",_fake:!0},n,Text.index),LDATA.report&&send_ldata_report(!1),LDATA.usage&&send_usage_report(),a._nodeValue||a.nodeValue}e.getTextWithMarkup=function(e,n,r){return r=r||[],arguments.length>3&&r.constructor!==Array&&(r=$.makeArray(arguments).slice(2)),r.constructor!==Array&&(r=[r]),t(a(e,n),r)},e.__n=e.getTextPlural=function(e,n,r,i){i=i||[],arguments.length>4&&i&&i.constructor!==Array&&(i=$.makeArray(arguments).slice(3)),i.constructor!==Array&&(i=[i]);var o=a(e),l=a(n);return t(1==r?o.replace(/%\s*?d/g,r):l.replace(/%\s*?d/g,r||0),i)};var r=WIN.alert;WIN.alert=function(){var e=n.apply(null,arguments);return r(e)},e.alert=function(){return r.apply(WIN,arguments)};var i=WIN.confirm;WIN.confirm=function(){var e=n.apply(null,arguments);return i(e)},e.confirm=function(){return i.apply(WIN,arguments)};var o=WIN.prompt;WIN.prompt=function(){var e=n.apply(null,arguments);return o(e)},e.prompt=function(){return o.apply(WIN,arguments)}}(bablic);var Mutation=bablic.Mutation={},attributeObserver,setNodeValue=function(e,t){e.nodeValue=t},turnObserverOn,turnObserverOff,prefetchOnFirstView,LocalDB;!function(bablic){Mutation.events=bablic._e||{},WIN.MutationObserver=WIN.MutationObserver||WIN.WebKitMutationObserver||WIN.MozMutationObserver;var _observer=WIN.MutationObserver,lastBablic=0;function detectPingPong(e){if(e._lp=Date.now(),Date.now()-lastBablic<200){if(e._pp=e._pp||0,e._pp++,e._pp>20)return!0}else{if(e._pp>20&&Date.now()-lastBablic<1e3)return!0;e._pp=0}}if(_observer){var ua=WIN.navigator.userAgent,isIE=/MSIE|Trident/.test(ua);if(!isIE){function _callback(e){return e?function(t){if(!detectPingPong(e))return e.apply(this,arguments)}:e}try{var functionName=_callback.name||"_callback";eval("class MutationObserve extends _observer { constructor(func) { super("+functionName+"?"+functionName+"(func):func); }} window.MutationObserver = MutationObserve;")}catch(e){try{WIN.MutationObserver=function(e){this._obs22=new _observer(_callback(e))};for(var methods=["disconnect","observe","takeRecords"],i=0;i<methods.length;i++){var func=_observer.prototype[methods[i]];func&&(WIN.MutationObserver.prototype[methods[i]]=function(){return func.apply(this._obs22,arguments)})}}catch(e){}}}var observer=new _observer(function(e){if(!(bablic.mutation_listen_off>0))for(var t=0;t<e.length;t++){var n=e[t].target;if(n&&!(e[t].attributeName.indexOf("bablic")>-1)){var a=n.attributes[e[t].attributeName];if(a&&DOC.contains(n)&&readNodeAttr(a,"bablic_last_value",n)!=getNodeValue(a))return processElement(n,!0)}}});attributeObserver=function(e,t){var n=e._babi=e._babi||{};n[t.nodeName]||(n[t.nodeName]=!0,setTimeout(function(){observer.observe(e,{attributeFilter:[t.nodeName],attributes:!0})},1))}}else attributeObserver=function(e,t){var n=readNodeAttr(t,"_babi",e);n&&clearInterval(n),n=setInterval(function(){readNodeAttr(t,"bablic_replaced_value",e)!=getNodeValue(t)&&mutationCallbackSingle(e)},200),setNodeAttr(t,"_babi",n,e)};Mutation.on=function(e,t){$.each(e.trim().split(/\s+/),function(e,n){Mutation.events[n]=Mutation.events[n]||[],Mutation.events[n].push(t),"locale"==n&&LDATA&&bablic.getLocale&&bablic.getLocale()&&setTimeout(function(){t(bablic.getLocale())},0)})},Mutation.once=function(e,t){Mutation.events[e]=Mutation.events[e]||[];var n=function(){try{t()}catch(e){}Mutation.unbind(e,n)};Mutation.events[e].push(n)},Mutation.unbind=function(e,t){Mutation.events[e]=Mutation.events[e]||[];var n=Mutation.events[e].indexOf(t);n>-1&&Mutation.events[e].splice(n,1)},Mutation.emit=function(e,t){var n;Mutation.events[e]=Mutation.events[e]||[];for(var a=0;a<Mutation.events[e].length;a++)try{var r=Mutation.events[e][a].apply(bablic,t);void 0!==r&&(n=r)}catch(e){}return n};var timeouts=[];function getElementDepth(e){for(var t=0;e;){if(e._babSt)return-1;t++,e=e.parentElement}return t}Mutation.rush=function(){timeouts.map(function(e){return e.h}).forEach(function(e){e()})},Mutation.clearTimeout=function(e){var t=$.grep(timeouts,function(t){return t.t==e})[0];t&&t.c()},Mutation.observeHead=function(e){if(_observer){var t={LINK:1,STYLE:1};new _observer(function(n){for(var a=0;a<n.length;a++){var r=n[a].addedNodes;if(r&&r.length)for(var i=0;i<r.length;i++)if(r[i].tagName in t&&!/bablic/.test(r[i].id||""))return e()}}).observe($.byTag("head").get(0),{childList:!0})}};var listening=!1;Mutation.listen=function(){if(!listening){if(_observer){var e=new _observer(function(e){if(LDATA&&LDATA.content&&!(bablic.noMutationListening||bablic.mutation_listen_off>0)){for(var t={},n=0,a=1e5,r=0;r<e.length;r++){var i=e[r].target;if(i&&(!i._babSt&&DOC.contains(i))){for(1!=i.nodeType&&(i=i.parentNode);i&&i.parentElement&&1==i.nodeType&&!("bablic_last_value"in i)&&i!==DOC.body&&"HEAD"!==i.tagName;)i=i.parentElement;-1!==(l=getElementDepth(i))&&(i._babSt=1,l>n&&(n=l),l<a&&(a=l),t[l]=t[l]||[],t[l].push(i))}}if(n){var o=t[a];if(n!==a)for(var l in t)if((l=Number(l))!==a){var c=t[l];for(r=0;r<c.length;r++){for(var s=c[r],u=!1,d=l;d>a;d--){if(s.parentElement._babSt){u=!0;break}s=s.parentElement}u||o.push(c[r])}}mutationCallback(o)}}});turnObserverOff=function(){e.disconnect()},(turnObserverOn=function(){e.observe(DOC.body,{characterData:!0,childList:!0,subtree:!0})})()}else{var t=function(e){var t=e.srcElement||e.relatedNode||e.originalEvent&&e.originalEvent.srcElement||e.originalEvent&&e.originalEvent.relatedNode;mutationCallbackSingle(t)};turnObserverOff=function(){$(DOC.documentElement).off("DOMNodeInserted",t).off("DOMCharacterDataModified",t)},(turnObserverOn=function(){$(DOC.documentElement).on("DOMNodeInserted",t).on("DOMCharacterDataModified",t)})()}setInterval(function(){LDATA&&LDATA.content&&processElement(DOC.documentElement)},5e3),listening=!0}};var THROTTLE_GLOBAL_WINDOW=5e3,THROTTLE_GLOBAL_MAX=30,THROTTLE_ELEMENT_WINDOW=1e3,THROTTLE_ELEMENT_MAX=2,lastFired=Date.now();function calculateThrottle(e,t,n){var a=(t-Math.max(t-n,Date.now()-n))/n;return a<0?1:e*a+1}function pushThrottled(e,t){return e._babTh?(e._babTc=calculateThrottle(e._babTc,e._babTh,t),e._babTh=Date.now(),e._babTc):(e._babTh=Date.now(),e._babTc=1,1)}var stalledQueue=[],globalThrottle={};function throttleEvent(e){return!bablic.noMutationThrottle&&(pushThrottled(globalThrottle,THROTTLE_GLOBAL_WINDOW)>THROTTLE_GLOBAL_MAX?(bablic.log("canceled because short time"),!0):pushThrottled(e,THROTTLE_ELEMENT_WINDOW)>THROTTLE_ELEMENT_MAX&&(bablic.log("canceled because short time"),!0))}var BULK_PULL=10,consumeQueueInner=function(){consumeQueueTimeout=started=null;var e=stalledQueue;if(stalledQueue=[],e.length>80)return processElement(document.body);var t=function(){var n=e.splice(0,BULK_PULL);if(n.length){for(var a=0;a<n.length;a++)n[a].parentElement&&n[a]._babSt&&(processElement(n[a]),delete n[a]._babSt);setTimeout(t,0)}};t()},consumeQueueTimeout,started,consumeQueue=function(){started&&Date.now()-started>1250||(consumeQueueTimeout&&clearTimeout(consumeQueueTimeout),started||(started=Date.now()),consumeQueueTimeout=setTimeout(consumeQueueInner,250))},mutationCallbackSingle=function(e){if(LDATA&&LDATA.content&&!(bablic.mutation_listen_off>0)){if(e&&"SPAN"==e.tagName&&"bablicLink"==e.id&&parent.parentNode)return e.parentNode.removeChild(e);if(!bablic.noMutationListening&&e&&e!=WIN){for(1!=e.nodeType&&(e=e.parentNode);e&&e.parentElement&&1==e.nodeType&&!("bablic_last_value"in e)&&e!=DOC.body&&"HEAD"!=e.tagName;)e=e.parentElement;mutationCallback([e])}}},mutationCallback=Mutation.callback=function(e){Mutation.emit("mutation");var t=Date.now()-lastBablic;lastBablic=Date.now();for(var n=0,a=0;a<e.length;a++){var r=e[a];throttleEvent(r)?2!==r._babSt&&(r._babSt=2,stalledQueue.push(r)):(r._babSt&&delete r._babSt,processElement(r),n++)}bablic.log("mutation",n+"/"+e.length,t),n>0&&(lastFired=Date.now()),n<e.length&&consumeQueue()};try{var prop=Object.getOwnPropertyDescriptor(Node.prototype,"nodeValue");if(prop&&prop.set){var _setter=prop.set;prop.set=function(e){var t=this.nodeValue!=e;_setter.apply(this,arguments),t&&this&&this.parentElement&&this.parentElement.ownerDocument&&mutationCallbackSingle(this)},Object.defineProperty(Node.prototype,"nodeValue",prop),Object.defineProperty(Node.prototype,"_nodeValue",{get:prop.get,set:_setter}),setNodeValue=function(e,t){e._nodeValue=t}}}catch(e){}}(bablic),function(e){function t(e){$('head link[rel=prefetch][href="'+e+'"]').length()||$("head").append('<link bablic-exclude rel="prefetch" href="'+e+'" />')}prefetchOnFirstView=function(){e.proxy||$.each(e.locales,function(n,a){var r=normalizedCurrentPath(),i="/page?s="+e.Site+"&l="+a.key+"&page="+encodeURIComponent(r),o=getPageTranslationURL(i);t(o=LOC.protocol+jsonpURL(o,i)),e.log("prefetch",o),i="/conf?s="+e.Site+"&l="+a.key,o=getPageTranslationURL(i),t(o=LOC.protocol+jsonpURL(o,i)),e.log("prefetch",o)})}}(bablic);var USE_LOCAL_DB=!PROXY&&!bablic.preview||-1!=location.search.indexOf("testBablicLS"),USE_INDEXED_DB=USE_LOCAL_DB,_c1="continu",hideWidget,showFlags,getFlag,bidiInline,zr;!function(e){var t,n=_c1+"e",a=function(){return WIN.localStorage?WIN.localStorage:t||(t={getItem:function(e){return LocalDB.cookie.getCookie(e)},setItem:function(e,t){LocalDB.cookie.setCookie(e,t)}})},r={},i={};function o(t){if(!e.locale||!WIN.indexedDB)return t(new Error("No indexed db"));if(e.locale in r)return t(null,r[e.locale]);if(e.locale in i)return i[e.locale].push(t);var n=e.locale;try{var a=indexedDB.open("bablic_"+n,4);i[n]=[];var o=setTimeout(function(){l("Timeout"),console.log("cant load indexeddb")},5e3),l=function(e,a){a&&(r[n]=a),clearTimeout(o),e&&LocalDB.setSync("dbdown",Math.floor(Date.now()/1e3)),t&&(t(e,a),i[n].forEach(function(t){t(e,a)}),delete i[n],t=null)};a.onupgradeneeded=function(e){var n=e.target.result;if(!n)return t(new Error("Not created"));e.target.transaction.onerror=t,n.createObjectStore("a",{keyPath:"id"}).createIndex("page","page",{unique:!1,multiEntry:!0})},a.onsuccess=function(e){l(null,e.target.result)},a.onerror=function(e){l(e)}}catch(e){t(e)}}if(LocalDB={cookie:{setCookie:function(t,n,a){if(!(n.length>1e3)){var r=new Date;r.setDate(r.getDate()+a);var i="",o=(e.conf||e.data||{}).domain;if(o){var l=o.indexOf("/");l>-1&&(o=o.substr(0,l))}o&&LOC.hostname.indexOf(o)>-1&&(i=";domain="+o);var c=escape(n)+(null==a?"":"; expires="+r.toUTCString())+"; path=/"+i;DOC.cookie=t+"="+c}},getCookie:function(e){var t,n,a,r=DOC.cookie.split(";");for(t=r.length-1;t>=0;t--)if(n=r[t].substr(0,r[t].indexOf("=")),a=r[t].substr(r[t].indexOf("=")+1),(n=n.replace(/^\s+|\s+$/g,""))==e)return unescape(a)},clear:function(e){var t=new Date(Date.now()-36e7);DOC.cookie=e+"=; expires="+t.toUTCString()+"; path=/"}},getSync:function(t,n,r){try{return n?LocalDB.cookie.getCookie("bab_"+t):USE_LOCAL_DB||r?a().getItem("bab_"+t):null}catch(t){e.error("LocalDB Failed",t)}},setSync:function(t,n,r,i){try{if(r)return LocalDB.cookie.setCookie("bab_"+t,n,365);if(!USE_LOCAL_DB&&!i)return;a().setItem("bab_"+t,n)}catch(t){e.error("LocalDB failed",t)}},getConf:function(){return JSON.parse(LocalDB.getSync("bablic")||"null")},setConf:function(e){LocalDB.setSync("bablic",JSON.stringify(e))},getByIds:function(e,t){if(!USE_INDEXED_DB)return t(!0);try{o(function(n,a){if(n||!a)return t(n);try{var r=a.transaction(["a"],"readonly").objectStore("a"),i={};parallelEach(e,function(e,t){var n=r.get(e);n.onsuccess=function(n){var a=n.target.result;a&&(i[e]=a.value),t()},n.onerror=function(e){t()}},function(e){t(e,i)})}catch(e){t(e)}})}catch(e){t(e)}},getByPage:function(t,a){if(!USE_LOCAL_DB)return a(!0);try{if(WIN.localStorage){var r=localStorage.getItem("bab_p_"+t);if(r)return a(null,JSON.parse(r))}}catch(t){e.error(t)}if(!USE_INDEXED_DB)return a(!0);try{o(function(e,r){if(e||!r)return a(e);try{var i=r.transaction(["a"],"readonly"),o=i.objectStore("a").index("page"),l=IDBKeyRange.only(t),c={},s=!1;o.openCursor(l).onsuccess=function(e){var t=e.target.result;t&&("__set__"!=t.value.id?c[t.value.id]=t.value.value:s=!0,t[n]())},i.oncomplete=function(){if(!s&&$.isEmptyObject(c))return a("not found",c,r);a(null,c,r)}}catch(e){a(e)}})}catch(e){a(e)}},setByPage:function(t,n){if(USE_LOCAL_DB){try{if(WIN.localStorage&&t.length<1e3){var a=JSON.stringify(t);return void localStorage.setItem("bab_p_"+n,a)}}catch(t){e.error(t)}USE_INDEXED_DB&&($.isEmptyObject(t)&&(t.__set__="true"),LocalDB.getByPage(n,function(a,r,i){if(!i||!r)return e.error(a);var o=[],l=[];for(var c in t)c in r||function(e,t){o.push(function(a){i.transaction(["a"],"readonly").objectStore("a").get(e).onsuccess=function(r){var i=r.target.result;if(i){if(i.page.indexOf(n)>-1)return;i.page.push(n)}else i={id:e,value:t,page:[n]};l.push(i),a()}})}(c,t[c]);parallel(o,function(t){if(t)return e.error(t);var n=i.transaction(["a"],"readwrite"),a=n.objectStore("a");l.forEach(function(e){a.put(e)}),n.oncomplete=function(t){e.log(t)},n.onerror=function(t){e.error(t)}})}))}},clearSync:function(e,t){WIN.localStorage&&localStorage.removeItem("bab_"+e),LocalDB.cookie.clear("bab_"+e)},clearAll:function(t){var n=["bablic","unused"];if($.each(e.locales||[],function(e,t){n.push("global"+t.key),n.push("home_"+t.key),$.each(Object.keys(LDATA&&LDATA.packages||{}),function(e,a){n.push("p_"+t.key+"_"+a),n.push("@"+t.key+"_"+a)})}),$.each(n,function(e,t){LocalDB.clearSync(t)}),!WIN.indexedDB)return t&&t();parallelEach(e.locales||[],function(t,n){try{var a=indexedDB.deleteDatabase("bablic_"+t.key);a.onsuccess=function(){e.log("Deleted database successfully"),delete r[t.key],n&&n(),n=null},a.onerror=function(){e.error("Couldn't delete database"),n&&n(),n=null},a.onblocked=function(){e.error("Couldn't delete database due to the operation being blocked"),n&&n(),n=null},setTimeout(function(){n&&(e.error("timeout in deleting db"),n(),n=null)},1e3)}catch(e){n&&n(),n=null}},t)}},e.cookie=LocalDB.cookie,USE_LOCAL_DB){var l=LocalDB.getSync("dbdown");USE_INDEXED_DB=!(l&&Number(l)>(Date.now()-3e5)/1e3)}}(WIN._bab||bablic),function(bablic){var _functionToString=WIN.Function&&Function.prototype.toString;function printFunction(e){return _functionToString?_functionToString.apply(e):e.toString()}var SIZES={1:16,2:24,3:32,4:48,5:64,6:128},EMBEDDED_WIDGET='<ul class="bablic-flags-menu"> {@_.l} <li {{_.selected ? "class=\\"selected\\"":""}}> <a target="_top" data-locale="{{_.key}}" href="{{_.href}}" title="{{_.name}}"> <img src="{{_.flag}}" alt="{{_.name}}"> </a> </li> {/?} </ul> ',WIDGET_TYPES={flags:{html:'<ul class="size{{_.c.size}} corner{{_.c.position.corner}} {{_.c.expanded?"expanded":""}} {{_.c.widgetType.indexOf("Horiz")>-1?"horizontal":"vertical"}}"> {@_.l} <li {{_.selected ? "class=\\"selected\\"":""}}> <a class="item" target="_top" data-locale="{{_.key}}" href="{{_.href}}" title="{{_._name}}" style="font-size:{{Math.floor(_.parent.sizeNum*0.5*_.factor)+3}}px;" aria-label="Translate to {{_._name}}"> {?_.parent.c.widgetType.indexOf("flags")>-1} <img src="{{_.parent.p}}{{_._flag}}" alt="{{_._name}}"> {/?} {?_.parent.c.widgetType.indexOf("flags")==-1} {{_._prefix}} {/?} </a> </li> {/@} {?_.c.logo&&!_.expired} <li class="logo"><a target="_top" href="https://www.bablic.com/?utm_source=LangWidget&utm_medium=LangWidget&utm_campaign=LangWidget" title="Powered by Bablic"><img alt="{{_.keyword}}" src="{{_.p}}//uploads.bablic.com/flags/theme/{{_.c.colors[0]=="#01B0F0"?"dark":"blue"}}/{{_.sizeNum}}.png"></a></li> {/?} {?_.expired} <li class="logo"><img onclick="window.top.location.href=\'http://www.bablic.com\'" title="Bablic trial expired!" class="notice_icon" src="//uploads.bablic.com/resources/notice_icon.png"></li> {/?} </ul>',css:'body{ direction:ltr; } .notice_icon { width: 100%; } ul{ position:absolute; {{_.c.position.corner%8>3?"bottom:0":"top:0"}}; list-style: none; margin:0; {?!_.c.expanded} transition: height 300ms,width 300ms; -webkit-transition: height 300ms,width 300ms; -moz-transition: height 300ms,width 300ms; -ms-transition: height 300ms,width 300ms; -o-transition: height 300ms,width 300ms; {/?} background-color: {{_.c.colors[0]}}; overflow:hidden; left:0; right:auto; } ul.vertical{ width: {{_.sizeNum}}px; height: {{_.sizeNum}}px; padding:4px 6px; } ul.horizontal{ width: {{_.sizeNum+14}}px; height: {{_.sizeNum+8}}px; padding:0; } ul.corner2,ul.corner3,ul.corner4,ul.corner5{ right:0; left:auto; } a.item{ color:{{_.c.colors[1]}}; text-decoration:none; font-family:Arial; text-transform:uppercase; display:block; text-align:center; line-height:{{_.sizeNum}}px; white-space: nowrap; } ul.corner1,ul.corner2{ border-radius: 0 0 5px 5px; } ul.corner3,ul.corner4{ border-radius: 5px 0 0 5px; } ul.corner5,ul.corner6{ border-radius: 5px 5px 0 0; } ul.corner7,ul.corner8{ border-radius: 0 5px 5px 0; } ul li{ height: {{_.sizeNum}}px; width:{{_.sizeNum}}px; display:none; float:left; } ul.horizontal li{ padding:4px 7px; } ul.corner2 li,ul.corner3 li,ul.corner4 li,ul.corner5 li{ float:right; } ul.expanded li,ul li.selected{ display:block; } ul li a img{ height:100%; } ul li.logo a img{ width:70%; height:70%; //top:15%; //left:15%; padding:15%; position:relative; }',js:function(){var e=parent._bab||parent.bablic;e.trigger("widget");var t=e.$,n=t(document.getElementsByTagName("ul"));e.resizeWidget(n.width(),n.height());var a=Date.now(),r=function(n){if(!parent.isInClickElement||!parent.isInClickElement(n.clientX,n.clientY)){if(n.ctrlKey||n.shiftKey||n.altKey)return!0;var r=t(this).attr("data-locale");return!r||(n.preventDefault(),g&&!e.widgetConf.expanded&&e.Modernizr.touchevents&&(!i||Date.now()-o<500)?(o=null,!1):e.Modernizr.touchevents&&Date.now()-a<800?(o=null,!1):r?void e.redirectTo(r,null,n):e.logo())}n.preventDefault()};t.byTag("a",document).on("click",r);var i,o,l,c,s=parseInt(n.css("padding-top"))+parseInt(n.css("padding-bottom"))||0,u=parseInt(n.css("padding-left"))+parseInt(n.css("padding-right"))||0,d=n.children("li").length(),b=Math.ceil(d/15),f=n.height()||0,p=n.width()||0,g=d>1;e.widgetConf.widgetType.indexOf("Horiz")>-1?(l=(f-s)*b+s,c=(p-u)*Math.ceil(d/b)+u):(l=(f-s)*Math.ceil(d/b)+s,c=(p-u)*b+u),c||e.error("No width");var h,m,v=function(){i||(e.trigger("expand"),e.resizeWidget(c,l),n.css("height",l-s).css("width",c-u),t.byTag("li",document).css("display","block"),i=!0,o=Date.now(),h&&clearTimeout(h),h=null)},y=function(){if(e.trigger("collapse"),i=!1,o=null,n.css("height",f-s).css("width",p-u),t.byTag("li",document).css("display",""),e.Modernizr&&!e.Modernizr.csstransitions)return e.resizeWidget(p,f);h=setTimeout(function(){h=null,e.resizeWidget(p,f)},500)};if(window.expand=v,window.collapse=y,e.widgetConf.expanded)return e.resizeWidget(c,l),void n.css("height",l-s).css("width",c-u);window.onClickOutside=y,n.on("mouseenter",v).on("mouseleave",y),e.Modernizr.touchevents&&t.byTag("a",document).on("touchstart",function(e){n.off("mouseenter",v).off("mouseleave",y);var t=r.apply(this,[e]);return!1===t?v.apply(this,[e]):t});var _=function(){clearTimeout(m)};t.byTag("a",document).on("focus",function(){_(),v()}).on("blur",function(){_(),m=setTimeout(y,200)})}},labels:{html:'<div id="widget" class="size{{_.c.size}} corner{{_.c.position.corner}} {{_.c.logo?"with-logo":""}} {{_.c.expanded?"expanded":""}} {{_.expired?"is-expired":""}}"> <div id="current"> <a target="_top" data-locale="{{_.s.key}}" href="{{_.s.href}}" title="{{_.s._name}}" style="font-size:{{(_.factor||1)*100}}%" aria-label="Remain in current language ({{_.s._name}})">{{_.s._name}}</a> {?_.expired} <img class="expired" onclick="handleExpired();" title="Bablic trial is expired!" src="//uploads.bablic.com/resources/notice_icon.png"> {/?} </div> <div id="list" class="size{{_.c.size}} corner{{_.c.position.corner}} {{_.c.logo?"logo":"logo"}}"> {?_.c.logo && _.c.position.corner > 3} <a class="logo" href="https://www.bablic.com/?utm_source=LangWidget&utm_medium=LangWidget&utm_campaign=LangWidget" target="_blank"> <img alt="{{_.keyword}}" src="{{_.p}}//uploads.bablic.com/flags/logo/TWD-x{{_.c.size<4?15:35}}.png"/> </a> {/?} {@_.l} <a target="_top" data-locale="{{_.key}}" href="{{_.href}}" title="{{_._name}}" style="font-size:{{(_.factor||1)*100}}%" aria-label="Translate to {{_._name}}" >{{_._name}}</a> {/@} {?_.c.logo && _.c.position.corner < 3} <a class="logo" href="https://www.bablic.com/?utm_source=LangWidget&utm_medium=LangWidget&utm_campaign=LangWidget" target="_blank"> <img alt="{{_.keyword}}" src="{{_.p}}//uploads.bablic.com/flags/logo/TWD-x{{_.c.size<4?15:35}}.png"/> </a> {/?} {?_.expired} <img class="expired" onclick="handleExpired();" title="Bablic trial is expired!" src="//uploads.bablic.com/resources/notice_icon.png"> {/?} </ul> </div> ',css:'body { direction:ltr; font-family: sans-serif; color: {{_.c.colors[2]}}; font-weight:bold; width:400px; height:1000px; } div,a{ display:block; } a,a:visited,a:focus,a:active,.desktop a:hover{ color: inherit; text-decoration: none; } a:focus { outline: none; box-shadow: inset 0.5px 0 0 4px {{_.c.colors[1]}}; } #widget{ position:fixed; overflow:hidden; border-radius:{{_.c.size+1}}px; box-shadow: 0px 0px 1px 1px rgba(0,0,0,0.2); font-size:{{_.c.size*3+6}}px; line-height:{{_.c.size*9+15}}px; } #widget #list{ visibility:hidden; } #widget.active #list{ display:none; visibility:visible; } #widget.expanded.active #list{ display:block; } #widget.expanded #current{ display:none; } a{ text-align:center; padding:0 {{_.c.size*8+2}}px; min-width: {{_.c.size*10+10}}px; border-bottom:1px solid {{_.c.colors[3]}}; margin-bottom:-1px; position:relative; white-space:nowrap; } a:before{ content:""; display:block; position:absolute; top:0; left:0; right:0; bottom:0; background:{{_.c.colors[0]}}; opacity:0.95; z-index:-1; } a:hover:before { background:{{_.c.colors[1]}}; opacity:1; } a:focus:before { background:{{_.c.colors[1]}}; opacity: 1; } {?_.c.size>2} a.logo{ padding:0 23px; } {/?} a.logo:before{ background:rgb(1, 174, 218); } a.logo img{ height:{{_.c.size*4+3}}px; } #widget.corner1,#widget.corner2 { top:0; border-top-left-radius:0; border-top-right-radius:0; } #widget.corner1{ left:1px; } #widget.corner2{ right:1px; } #widget.corner5,#widget.corner6 { bottom:0; border-bottom-left-radius:0; border-bottom-right-radius:0; } #widget.corner5{ right:1px; } #widget.corner6{ left:1px; } .expired{ max-width: 20px; max-height: 20px; display: block; position: absolute; top: 0; right: 0; }',js:function(){var e,t,n=parent._bab||parent.bablic,a=n.$,r=document,i=a.byId("widget",r),o=n.widgetConf.expanded,l=a.byId("list",r),c=!o&&a.byId("current",r),s=l.children("a").length()>1,u="ontouchstart"in r.body,d=function(){return Date.now()};a.byTag("a",r).on("click",function(r){if(parent.isInClickElement&&parent.isInClickElement(r.clientX,r.clientY))r.preventDefault();else{if(r.ctrlKey||r.shiftKey||r.altKey)return!0;if(s&&!o&&u&&(!e||d()-t<500))return t=null,r.preventDefault(),!1;var i=a(this).attr("data-locale");i&&(r.preventDefault(),n.redirectTo(i,null,r))}});var b=function(){n.resizeWidget(e||o?A:y+2,e||o?T:_+1)},f=window.expand=function(){i.addClass("expanded"),e=!0,t=Date.now(),b()},p=window.collapse=function(){i.removeClass("expanded"),e=!1,t=null,b()};if(o)i.addClass("expanded");else{var g;window.onClickOutside=p,c.on("mouseover",f),l.on("mouseleave",p);var h=function(){u||(m(),g=setTimeout(p,200))},m=function(){u||clearTimeout(g)};c.children("a").on("focus",function(){u||(f(),l.children("a").get(0).focus())}).on("blur",h),l.children("a").on("focus",m).on("blur",h)}var v=null;a(r).on("touchstart",function(){v=d(),u=!0}),a(r).on("mousemove",function(){!u||v&&d()-v<500||(u=!1)});var y,_,A,T,L=1;!function e(){l.get(0).offsetHeight;o||c.get(0).offsetHeight,A=l.width(),T=l.height(),o||(l.get(0).style.display="none",l.get(0).offsetHeight,y=c.width(),_=c.height(),l.get(0).style.display="",l.get(0).offsetHeight),A&&T?(i.addClass("active"),r.body.style.width="auto",r.body.style.height="auto",b()):setTimeout(e,L++)}()}}};WIDGET_TYPES.labels2=WIDGET_TYPES.labels,WIDGET_TYPES.flagsHoriz=WIDGET_TYPES.letters=WIDGET_TYPES.lettersHoriz=WIDGET_TYPES.flags;var FOREACH_REGEX=/\{@([^\s]+)\}((?:.|\n)*?)\{\/@}/g,VAR_REGEX=/\{\{(.*?)\}\}/g,IF_REGEX=/\{\?(.*?)\}((?:.|\n)*?)\{\/\?\}/g;function renderTags(context,template){var saveUnderscore=WIN._;WIN._=context;var renderedHTML=template.replace(FOREACH_REGEX,function(a0,collectionVar,inner){for(var localesHTML=[],collection=eval(collectionVar),i=0;i<collection.length;i++){var item=collection[i];item.parent=context;var itemHTML=renderTags(item,inner);localesHTML.push(itemHTML)}return localesHTML.join("")}).replace(VAR_REGEX,function(a0,varName){return eval(varName)}).replace(IF_REGEX,function(a0,varName,inner){return eval(varName)?inner:""});return WIN._=saveUnderscore,renderedHTML}function renderWidget(e,t){var n=e||{},a=WIDGET_TYPES[n.widgetType||"flags"].html,r=bablic.Site?bablic.Site.charCodeAt(bablic.Site.length-1)%3:0,i={expired:bablic.expired,c:n,l:t,s:e.hideCurrent?t[0]:targetLocale,sizeNum:SIZES[n.size],size:n.size,p:LOC.protocol,keyword:{0:"Website translation",1:"Website localization",2:"Translate Your Website"}[r],rgba:function(e,t){var n=this.c.colors[e];n=n.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,function(e,t,n,a){return t+t+n+n+a+a});var a=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(n);return a?"rgba("+parseInt(a[1],16)+","+parseInt(a[2],16)+","+parseInt(a[3],16)+","+t+")":n}},o=renderTags(i,a),l=renderTags(i,WIDGET_TYPES[n.widgetType].css),c=WIN.BABLIC_ZOOM||1;n.css&&(l+=n.css);var s=printFunction(WIDGET_TYPES[n.widgetType].js);return'<!DOCTYPE html>                <html style="overflow:hidden;direction:ltr;zoom:'+c.toFixed(4)+';" dir="ltr" class="'+(bablic.mobile?"mobile":"desktop")+'">                    <head>                        <style>'+l+'</style>                    </head>                <body style="margin:0">'+o+"<script>("+s+")();<\/script></body>        </html>"}var chromeBugTimeout=null;function injectWidget(e,t){var n=DOC.createElement("iframe");n.setAttribute("bablic-exclude","true"),n.id="bablicFlagsWidget",n.style.position=e.fixed?"absolute":"fixed",n.style.width=400,n.style.height=1e3,n.style.margin=0,n.style.border="none",n.style.display="block",n.style.opacity=1,setZIndex(n);var a=e.distance+e.unit;switch(e.corner){case 1:n.style.top=0,n.style.left=a;break;case 2:n.style.top=0,n.style.right=a;break;case 3:n.style.top=a,n.style.right=0;break;case 4:n.style.right=0,n.style.bottom=a;break;case 5:n.style.right=a,n.style.bottom=0;break;case 6:n.style.left=a,n.style.bottom=0;break;case 7:n.style.left=0,n.style.bottom=a;break;case 8:n.style.top=a,n.style.left=0;break;default:bablic.error("This corner is not defined "+e.corner)}var r=!1;"srcdoc"in n&&(n.srcdoc=t,r=!0,chromeBugTimeout&&clearTimeout(chromeBugTimeout),chromeBugTimeout=setTimeout(function(){chromeBugTimeout=null,n&&n.contentDocument&&n.contentDocument.body&&!n.contentDocument.body.innerHTML&&(n.srcdoc=t)},500));var i=$("#bablicEditorSideBarWrapper,#bablicEditorSideBar");if(i.length()?DOC.body.insertBefore(n,i.get(0)):DOC.body.appendChild(n),!r)try{n.contentWindow.document.open(),n.contentWindow.document.write(t),n.contentWindow.document.close()}catch(e){setTimeout(function(){if(n.contentWindow)try{n.contentWindow.document.open(),n.contentWindow.document.write(t),n.contentWindow.document.close()}catch(e){n.contentWindow.location.href="data:text/html;charset=utf-8,"+encodeURIComponent(t)}},500)}return n}function resizeWidget(e,t){var n=DOC.getElementById("bablicFlagsWidget");n&&(null!==t&&(n.style.height=t+"px"),null!==e&&(n.style.width=e+"px"))}var addedPadding=0,resizeInt;function updateScrollPadding(){var e=!!(Modernizr.touchevents&&$.window.width()<700||EDITOR&&"mobile"==EDITOR.device());e!=MOBILE&&(MOBILE=bablic.mobile=e,showFlags());var t=hasAutoHidingScrollBar()?detectScrollbarWidth():0;if(t!=addedPadding){var n=t-addedPadding;addedPadding=t;var a=DOC.getElementById("bablicFlagsWidget");if(a){var r=a&&a.contentWindow&&a.contentWindow.document&&a.contentWindow.document.getElementsByTagName("ul")[0];if(r){var i=["top","right","bottom","left"][Math.floor(bablic.widgetConf.position.corner/2)];if("left"==i||"right"==i){var o=parseInt($(r).css("padding-"+i)||"");$(r).css("padding-"+i,o+n+"px"),$(a).css("width",parseInt($(a).width())+n)}}}}}function hasAutoHidingScrollBar(){if(!(WIN.innerHeight&&WIN.innerWidth&&DOC&&DOC.body))return!1;if(DOC.body.clientHeight<=WIN.innerHeight&&!(DOC.body.scrollHeight>WIN.innerHeight))return!1;if("hidden"==$("html").css("overflow")||"hidden"==$("html").css("overflow-y"))return!1;var e=DOC.getElementsByTagName("html")[0]||DOC.body;return!!e&&WIN.innerWidth==e.clientWidth}var scrollWidth=null;function detectScrollbarWidth(){if(null!==scrollWidth)return scrollWidth;var e=bablic.$('<div style="width:100px; height:100px; overflow:scroll; position:absolute; top:-99999px" class="bablic-scrollbar-measure" bablic-exclude></div>').appendTo("body");if(0==e.length)return 0;var t=e.get(0);return scrollWidth=t.offsetWidth-t.clientWidth,e.remove(),scrollWidth}hideWidget=function(){bablic.setMutationListen(!1),$("#bablicFlagsWidget").remove(),bablic.setMutationListen(!0)};var registerLoadEvent,flagsLoaded=!1,showFlagsInt;showFlags=function(e,t){if(LDATA&&bablic.locales){if(!e){if(!(e=LDATA.widget&&LDATA.widget[t||MOBILE?1:0]))return;WidgetSettings&&(e=$.extend({},e,WidgetSettings))}if(!bablic.hideWidget)if(DOC.body){showFlagsInt&&clearInterval(showFlagsInt),flagsLoaded=!0,bablic.widgetConf=e,$.each(bablic.locales,function(t,n){var a=LocaleSettings[n.key]||{};n._flag=a.flag||n.flag||"//uploads.bablic.com/flags/"+SIZES[e.size]+"/"+n.key+".png",n._flag.length<=5&&(n._flag="//uploads.bablic.com/flags/"+SIZES[e.size]+"/"+n._flag+".png"),n._name=a.name||n.name,n.href=a.href||bablic.getLink(n.key,null,null,n.legacy,n),n.selected=n.key==bablic.locale,n._prefix=n.prefix||n._name.substr(0,2),n.factor=/zh|hi/.test(n.key)?.66:1}),bablic.setMutationListen(!1),$("#bablicFlagsWidget").remove(),bablic.setMutationListen(!0);var n=$.grep(bablic.locales,function(e){var t=LocaleSettings[e.key];return!t||!t.hidden});if(0!=n.length&&(1!=n.length||n[0]!=targetLocale)){if(e.expanded){if(e.hideCurrent){var a;(a=n.indexOf(targetLocale))>-1&&n.splice(a,1)}}else(a=n.indexOf(targetLocale))>-1&&n.splice(a,1),e.hideCurrent?n[0].selected=!0:e.position.corner%8<4||"labels"!=e.widgetType?n.unshift(targetLocale):n.push(targetLocale);if(bablic.setMutationListen(!1),!e.show){if(!e.embedded)return bablic.setMutationListen(!0);var r=$(e.embedded);if(!r.length())return bablic.error("can't find target element "+e.embedded),bablic.setMutationListen(!0);var i=renderTags({c:e,l:n},EMBEDDED_WIDGET);return r.html(i),bablic.setMutationListen(!0)}if(targetLocale.engines.indexOf(5)>-1&&e.position){var o=e.position._corner||e.position.corner;e.position._corner=o,o=(11-o-1)%8+1,e.position.corner=o}else e.position._corner&&(e.position.corner=e.position._corner);var l=renderWidget(e,n),c=injectWidget(e.position,l);WIN.addEventListener&&(WIN.removeEventListener("resize",updateScrollPadding),WIN.addEventListener("resize",updateScrollPadding)),$.byTag("body").off("resize",updateScrollPadding).on("resize",updateScrollPadding),triggerEvent("afterWidgetRender",[c]),resizeInt&&clearInterval(resizeInt),resizeInt=setInterval(updateScrollPadding,2e3),bablic.setMutationListen(!0)}}else registerLoadEvent||flagsLoaded||($(DOC).on("DOMContentLoaded",function(){showFlags()}),showFlagsInt=setInterval(function(){showFlags()},500),registerLoadEvent=!0)}},$(DOC).on("click",function(e){var t=DOC&&DOC.getElementById("bablicFlagsWidget");t&&t.contentWindow&&t.contentWindow.onClickOutside&&(e.target&&"bablicFlagsWidget"==e.target.id||t.contentWindow.onClickOutside())}),getFlag=function(e,t){return t=t||(bablic.widgetConf?bablic.widgetConf.size:2),"//uploads.bablic.com/flags/"+SIZES[t]+"/"+e+".png"},bablic.showFlags=showFlags,bablic.resizeWidget=resizeWidget,EDITOR&&EDITOR.isInClickElement&&(window.isInClickElement=function(e,t){var n=DOC&&DOC.getElementById("bablicFlagsWidget");e+=n.offsetLeft,t+=n.offsetTop;var a=EDITOR.isInClickElement(e,t);return a&&EDITOR.onWidgetRightClick(n,e,t),a}),bablic.logo=function(){setTimeout(function(){$("#bablic_dialogContainer,#bablic_dialogContainer *").on("click",function(){e.css("opacity",0),setTimeout(function(){e.remove()},400)})},10);var e=$('<div id="bablic_dialogContainer" data-bablic-exclude style="background: #000; background: rgba(0,0,0,0.8); background: -webkit-radial-gradient(50% 50%, ellipse closest-corner, rgba(0,0,0,0.45) 1%, rgba(0,0,0,0.8) 100%); background: -moz-radial-gradient(50% 50%, ellipse closest-corner, rgba(0,0,0,0.45) 1%, rgba(0,0,0,0.8) 100%); background: -ms-radial-gradient(50% 50%, ellipse closest-corner, rgba(0,0,0,0.45) 1%, rgba(0,0,0,0.8) 100%); background: radial-gradient(50% 50%, ellipse closest-corner, rgba(0,0,0,0.45) 1%, rgba(0,0,0,0.8) 100%); filter: alpha(opacity = 80); position: fixed; right: 0; top: 0 !important; z-index: 999999999999999; overflow-x: auto; overflow-y: scroll; opacity:0; -webkit-transition: 400ms opacity ease; -moz-transition: 400ms opacity ease; transition: 400ms opacity ease; overflow: hidden; width:100%; height:100%; display:block; border-radius: 10px;"><div id="bablic_dialogTemplate" style="padding:0; top:0; bottom:0; box-shadow: 0 0 10px #bfc0c0, 0 0 10px #bfc0c0, 0 0 10px #bfc0c0, 0 0 10px #bfc0c0; border: 1px solid #0081a8; z-index:300; width:470px; height:120px;  max-width:90%; max-height:90%; position:absolute; left:0; right:0; margin:auto;"><div class="bablic-close-popup" style="position: absolute; cursor: pointer; display: block; background: url(\'//www.bablic.com/images/2/blue-x.png\') no-repeat; width:18px; height:18px; top:0; right:0;"></div><iframe class="bablic_iframe" style="width:100%; height:100%; border:0;" src="//www.bablic.com/banner?site='+bablic.Site+'" frameborder="no"></iframe></div></div>').appendTo("body");setTimeout(function(){e.css("opacity",1)},1)}}(bablic),zr={stripNumRegex:/(\d+)(.*)/,needTransform:function(){return(originalLocale.dir&&"rtl"==originalLocale.dir)!=(targetLocale&&"rtl"==targetLocale.dir)?targetLocale.dir||"ltr":null},replace_css_attr:{"margin-left":"margin-right",left:"right","padding-left":"padding-right"},defs:{"margin-left":0,"margin-right":0,"padding-right":0,"padding-left":0,top:0,left:0,float:"","text-align":""},replace_css_value:{"text-align":{left:"right"},float:{left:"right"}},replace_attr_value:{},bidiElement:function(e,t){if(!e.bablic_bidid&&1==e.nodeType){e.bablic_bidid=!0;var n=this;e=$(e);$.each(n.replace_css_attr,function(t,a){var r,i=!1,o=!1;e.css(t)&&Number(/\d+/.exec(e.css(t)))&&(i=!0,r=e.css(t)),e.css(a)&&Number(/\d+/.exec(e.css(a)))&&(e.css(t,e.css(a)),e.css(a,n.defs[a]),o=!0),i&&(e.css(a,r),o||e.css(t,n.defs[t]))});var a=e.css("right")&&0===Number(/\d+/.exec(e.css("right"))+""),r=e.css("left")&&0===Number(/\d+/.exec(e.css("left"))+"");a?(e.css("left","0px"),r?e.css("right","0px"):e.css("right","auto")):r&&(e.css("right","0px"),e.css("left","auto")),$.each(this.replace_css_value,function(t,n){e.css(t)&&$.each(n,function(n,a){var r=!1;e.css(t)==n&&(r=!0),e.css(t)==a&&e.css(t,n),r&&e.css(t,a)})}),$.each(this.replace_attr_value,function(t,n){e.attr(t)&&$.each(n,function(n,a){var r=!1;e.attr(t)==n&&(r=!0),e.attr(t)==a&&e.attr(t,n),r&&e.attr(t,a)})})}},RTL_REGEX:/(left|right)/g,MARGIN_PADDING_REGEX:/(margin|padding)[\s\t\n\r]*:[\s\t\n\r]*([0-9.]+(?:px|em|pt|%|))[\s\t\n\r]+([0-9.]+(?:px|em|pt|%|))[\s\t\n\r]+([0-9.]+(?:px|em|pt|%|))[\s\t\n\r]+([0-9.]+(?:px|em|pt|%|))/g,bidiInline:function(e){if(!e.bablic_bidid&&1==e.nodeType){e.bablic_bidid=!0;var t=e.attributes.style;if(t){var n=t.nodeValue;n&&(n=(n=n.replace(this.RTL_REGEX,function(e){return"left"==e?"right":"left"})).replace(this.MARGIN_PADDING_REGEX,"$1:$2 $5 $4 $3"),t.nodeValue=n)}}}},bidiInline=function(e){return zr.bidiInline(e)};var HasTextMarkup=bablic.integrateI18n||!1,LDATA;new_content={},usage_report={};var Engines={},processElement,savedContentNodes=[],jsNodes={},IS_PROPERTIES_SUPPORTED,addMarkupByCode,removeMarkupByCode,excludeByCode,includeByCode,readNodeAttr,setNodeAttr,readNodeAttrIf,setNodeAttrIf,domTraverse,mergeContentNodes,flushMergedNodes,getNodeValue,processNodeWithEngine,node_to_location,addOMGScript,triggerEvent,_forceTraverse=!1,translateAttr,EMPTY_REGEX=/^\s*$/,overrideHTMLAccess;!function(e){if(!e)throw new Error("Problem in loading");var t=/^(?:data\-)?bablic\-(.+)$/,n="https://www.bablic.com/dist";e.debugServer&&(n="//"+e.debugServer+"/dist"),processElement=e.processElement=function(t,n){if(LDATA&&LDATA.engines&&LDATA.content&&DOC.body&&Object.keys(LDATA.engines).length){WIN.angular&&(HAS_ANGULAR=!0);var a=savedContentNodes;savedContentNodes=[],domTraverse(t,e.UseInclude,n),mergeContentNodes(a),(LDATA.fallback||LDATA.report)&&send_ldata_report(),LDATA.usage&&send_usage_report()}};var a={};function r(e,t){if(!a[e])return!1;if("string"==typeof t)return!!(a[e].sels&&t in a[e].sels)&&(delete a[e].sels[t],!0);if(!a[e].el)return!1;var n=$.grep(a[e].el,function(e){return e[0]==t})[0];if(!n)return!1;var r=a[e].el.indexOf(n);return a[e].el.splice(r,1),!0}addMarkupByCode=function(e,t,n){e&&t&&(a[e]=a[e]||{},"string"==typeof t?(a[e].sels=a[e].sels||{})[t]=n:(a[e].el=a[e].el||{}).push([t,n]))},removeMarkupByCode=r,excludeByCode=function(e){r("include",e)||addMarkupByCode("exclude",e,!0)},includeByCode=function(e){r("exclude",e)||addMarkupByCode("include",e,!0)},IS_PROPERTIES_SUPPORTED=!0;try{DOC.createTextNode("stam").a=0}catch(e){IS_PROPERTIES_SUPPORTED=!1}function i(e){var n={};return e.attributes&&$.each(e.attributes,function(e,a){var r=t.exec(a.nodeName);r&&(n[r[1]]=a.value)}),n}readNodeAttr=IS_PROPERTIES_SUPPORTED?function(e,t,n){return 2==e.nodeType?n["ba_"+e.nodeName+"_"+t]:e[t]}:function(e,t,n){if(1==e.nodeType||9==e.nodeType)return e[t];n=n||e.parentNode||e.ownerElement;var a=e.nodeName;if("#text"==a){for(var r=0;e.previousSiblin;)e=e.previousSibling,r++;a="#text"+r}return n[a+"_b_"+t]},setNodeAttr=IS_PROPERTIES_SUPPORTED?function(e,t,n,a){if(2==e.nodeType)return a["ba_"+e.nodeName+"_"+t]=n;e[t]=n}:function(e,t,n,a){if(1!=e.nodeType&&9!=e.nodeType){a=a||e.parentNode||e.ownerElement;var r=e.nodeName;if("#text"==r){for(var i=0;e.previousSiblin;)e=e.previousSibling,i++;r="#text"+i}a[r+"_b_"+t]=n}else e[t]=n},setNodeAttrIf=IS_PROPERTIES_SUPPORTED?setNodeAttr:function(){},readNodeAttrIf=IS_PROPERTIES_SUPPORTED?readNodeAttr:function(){};var o=/(\w+)(?:=["']?([^"']*)["']?)?/g;function l(e){for(var t,n={};t=o.exec(e);)n[t[1]]=t[2];return n}function c(e,t){for(var n=0;n<e.length;n++)if(e[n]===t)return n;return-1}var s=/^\s*(\/?)bablic((?:.|\n)*)/;domTraverse=function(t,n,r){if(t&&(triggerEvent("beforeChange"),!1!==triggerEvent("beforeProcess",[t]))){e.setMutationListen(!1);var o=t,u=function(e,t){if(!e.parentNode)return{};if(e.parentNode.bablicTotalMarkup)return e.parentNode.bablicTotalMarkup;for(var n={exclude:t},a=$(e).parents(),r=0;r<a.length;r++){var o=a[a.length-1-r];if("TEXTAREA"==o.tagName||"IFRAME"==o.tagName||"SVG"==o.tagName||o.getAttribute&&"true"==o.getAttribute("contenteditable"))return null;var l=i(o);for(var c in l){var s=l[c];"exclude"==c?s=!0:"include"==c&&(c="exclude",s=!1),n[c]=s}}return e.parentNode.bablicTotalMarkup=n,n}(t,n);if(u){var d=function(e){for(var t=[],n=e;n.parentElement;){var a=c(n.parentNode.childNodes,n);t.unshift(a),n=n.parentElement}return t}(t);!function(){for(var e in a){var t=a[e];if(t){var n=t.sels;if(n)for(var r in n)try{$(r).attr("bablic-"+e,n[r]||!0).addClass("bablic-code-markup")}catch(e){}var i=t.el;if(i)for(var o=0;o<i.length;o++)$(i[o][0]).attr("bablic-"+e,i[o][1]||!0).addClass("bablic-code-markup")}}}();var b=u.exclude?null:t,f=u.exclude?t:null,p=[],g=[],h=[],m={_hash:!0},y=[],_=[];for(var A in u){var T=u[A];"exclude"!=A&&(h.push({key:A,value:T,node:t}),m[A]=m[A]||[],m[A].push(T))}!function(t){var n=t;for(;n.previousSibling;)n=n.previousSibling;for(;n!=t;){if(8==n.nodeType){var a=s.exec(n.nodeValue);if(a)if(a[1])y.length?I(y.pop()):e.error("Cant find start comment tag");else{y.push(n);var r=l(a[2]);w(n,r)}}n=n.nextSibling}}(t);var L=null;if(!r&&void 0!==CompositeEngine&&LDATA.engines[Text.index]){"HTML"==t.tagName?CompositeEngine.mapSegments(document.body):CompositeEngine.mapSegments(t);var E=t;do{if(readNodeAttr(E,"_seg")){L=E,b==t&&(b=E),f==t&&(f=E),o=t=E,setNodeAttr(o,"bablic_last_value",null);break}E=E.parentNode}while(E.parentNode)}if(r){for(var C=0,S=t.parentElement,D=0;D<S.childNodes.length;D++)if(S.childNodes[D]==t){C=D;break}R(C),k()}else for(var x=null,N=0;null!=o;){var O=R(N);if(O||!o.hasChildNodes()||"TEXTAREA"==o.tagName||"SVG"==o.tagName||o.getAttribute&&"true"==o.getAttribute("contenteditable")||"phrase"in m||"exclude"in m)if(o.nextSibling&&o!=t)O||k(),O||N++,o=o.nextSibling;else{for(;null==o.nextSibling&&o!=t;)O||k(),O=!1,o=o.parentNode,N=d[d.length-1]||0;if(k(),o==t)break;o=o.nextSibling,N++}else o=o.firstChild,N=0}e.setMutationListen(!0)}else e.setMutationListen(!0)}function w(e,t){for(var n in t){var a=t[n];"exclude"==n?f||(f=e,b&&(p.push(b),b=null)):"include"==n?b||(b=e,f&&(g.push(f),f=null)):(h.push({node:e,key:n,value:a}),m[n]=m[n]||[],m[n].push(a))}}function I(e){for(e==b&&(b=null,f=g.length?g.pop():null),e==f&&(f=null,b=p.length?p.pop():null);h.length&&h[h.length-1].node==e;){var t=h.pop();m[t.key].pop(),m[t.key].length||delete m[t.key]}}function R(t){if(3===(n=o).nodeType&&(!n.nodeValue||EMPTY_REGEX.test(n.nodeValue)))return!0;var n;if(d.push(t),1==o.nodeType){if(HAS_ANGULAR&&(e.version<=3.2||3.4==e.version)&&($(o).hasParent("[ng-controller]:not(.ng-scope),[ng-module]:not(.ng-scope)")||$(o).parent().is("[ui-view]")&&!$(o).is(".ng-scope")))return d.pop(),!0;readNodeAttr(o,"_seg")&&(L&&_.push(L),L=o);r=i(o);w(o,r)}else{if(8!=o.nodeType)return;var a=s.exec(o.nodeValue);if(!a)return;if(a[1])y.length?I(y.pop()):e.error("Cant find start comment tag");else{y.push(o);var r=l(a[2]);w(o,r)}}}function k(){var t;if(b?t=function t(n,a,r,i,o,l){n._babSt&&delete n._babSt;if(HAS_ANGULAR&&(n.nodeValue&&n.nodeValue.indexOf("{{")>-1||i==n&&(c=n.innerHTML,(c||"").replace(/<!\-\-.*\-\->/g,"")).indexOf("{{")>-1))return;var c;var s=!1;if(l||_forceTraverse||readNodeAttr(n,"bablic_last_value",r)!==getNodeValue(n,i===n)){var u=a||{};if(a&&a._hash)for(var d in u={},a){var b=a[d];b&&b.length&&(u[d]=b[b.length-1])}for(var d in LDATA.engines){var f=processNodeWithEngine(n,r,u,d,i,o);s=s||f}setNodeAttr(n,"bablic_last_value",getNodeValue(n),r)}if(1==n.nodeType&&n.attributes){o&&o.push(0);for(var p=0;p<n.attributes.length;p++){var g=(n.attributes[p].nodeName||"").toLowerCase()in v;if(!g&&HasTextMarkup&&(g=e.integrateI18n.qualify(n.attributes[p].value)),g){o&&(o[o.length-1]=p);var f=t(n.attributes[p],u,n,null,o,l);s=s||f}}o&&o.pop()}return s}(o,m,1==o.nodeType?o:o.parentNode,L,d,r):(o._babEx=!0,LDATA.bidi&&1==o.nodeType&&Bidi.exclude(o)),d.pop(),1==o.nodeType){if(t||o==x){if(o._babLis)try{o._babLis()}catch(t){e.error(t)}x=o.parentNode}L&&L==o&&(L=_.pop()),I(o)}else t&&(x=o.parentNode)}};var u=$("<div></div>");function d(t){if(p.length){var n=t&&WIN.omg&&!!omg.initContent2,a={};for(var r in LDATA.content)LDATA.content[r]&&LDATA.content[r].toLowerCase&&(a[LDATA.content[r].toLowerCase()]=r);if(e.preview)for(var r in PREVIOUSLY_USED_CONTENT)PREVIOUSLY_USED_CONTENT[r]&&PREVIOUSLY_USED_CONTENT[r].toLowerCase&&(a[PREVIOUSLY_USED_CONTENT[r].toLowerCase()]=r);for(var i=[],o=0;o<p.length;o++)i=i.concat(p[o]);p=[];var l=[];i=$.grep(i,function(e){if(!e.content)return!0;var t,n=(t=e.content.toLowerCase())&&-1!=t.indexOf("&")?u.text(t).html():t;return!(n in a&&a[n]!=e.hash)||(e.hash=a[n],l.push(e),!1)});var c={},s={};savedContentNodes.forEach(function(e){var t=!e.node._br&&!DOC.contains(e.element),n=e.hash+"_"+e.node.nodeType;if(t)return c[n]=c[n]||[],void c[n].push(e);s[n]=e,i.push(e)});for(o=0;o<l.length;o++){var d,b=l[o].hash,f=l[o].node,g=b+"_"+f.nodeType,h=l[o].element,m=c[g];if(m&&m.length)d=m.pop();else{var v=s[g];if(v)d=$.extend({},v);else{var y=jsNodes[b];if(!y)continue;d=$.extend({},y)}}d.node=f,d.element=h,i.push(d)}if(n){var _=omg.initContent2(i);_&&_.forEach(function(e){i.splice(i.indexOf(e),1)})}savedContentNodes=i}}flushMergedNodes=function(){b&&(clearTimeout(b),b=null,d(!0))};var b,f,p=[];mergeContentNodes=function(e){if(savedContentNodes.length){var t=savedContentNodes;if(savedContentNodes=e,p.push(t),b){if(Date.now()-f>2e3)return;clearTimeout(b)}else f=Date.now();b=setTimeout(function(){b=null,d(!0)},300)}else savedContentNodes=e},e._pull=function(){return d(),savedContentNodes};var g={SCRIPT:1,STYLE:1,LINK:1};getNodeValue=function(e,t){return 1==e.nodeType?e.tagName in g?"":t||e.attributes["bablic-block"]||e._babCe?e.innerText:$.map(e.childNodes,function(e){return 3==e.nodeType?e.nodeValue:null}).join(" "):2==e.nodeType?e.value:e.nodeValue};var h="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";function m(e){if(!e)return"";for(var t=new Array(e.length),n=0;n<e.length;n++)t[n]=h[e[n]];return t.join(".")}overrideHTMLAccess=function(e,t){e._babOv&&(e._babOv=!0),function(e,t,n,a){var r=Object.getPrototypeOf(e);if(e[t]){for(;!Object.getOwnPropertyDescriptor(r,t);)r=Object.getPrototypeOf(r);var i=Object.getOwnPropertyDescriptor(r,t),o={};n&&(o.get=function(){return n.call(this,i.get)}),a&&(o.set=function(e){a.call(this,e,i.set)}),Object.defineProperty(e,t,o)}}(e,"innerHTML",t,function(e,t){t.call(this,e)})};var v={value:"",src:"",srcset:"",placeholder:"",alt:"",title:"",content:"",href:"","data-before":"","data-after":"",label:"","aria-label":1};function y(e,t){return function(){try{t.apply(e)}catch(e){console.error(e.stack)}}}function _(t,n){if(t._babE&&t._babE[n])return y(t,t._babE[n]);if(1!=t.nodeType)return t.parentElement?_(t.parentElement,n):void 0;if(t.matches&&e._sels&&e._sels[n])for(var a=e._sels[n],r=0;r<a.length;r++)if(t.matches(a[r][0]))return y(t,a[r][1])}translateAttr=function(e,t){e&&(e=e.toLowerCase(),!1!==t?v[e]="":delete v[t],Text.addAttr(e,t))},processNodeWithEngine=function(t,n,a,r,i,o){var l=_(t,"pre"+r),c=_(t,"post"+r);l&&l();var s=Engines[r].qualifier.call(Engines[r],t,targetLocale,originalLocale,a,n,i);if(!s)return c&&c();var u=[],d=!$.isArray(s);if(d)s=[s];else if(!s.length)return c&&c();var b,f=!1,p=2!=t.nodeType&&e.preview&&a.tags&&$.grep(a.tags.trim().toLowerCase().split(/\s*,\s*/),function(e){return e}),g=$.map(s,function(t){if(!t.id)return f=!0,t.content;if("translated"in a)return t.content;var n=r+"_"+t.id;if(e.preview){var i=(p||[]).concat(t.tags||[]);t.tags=i;var o=!1;i.forEach(function(e){TAGS[n]&&TAGS[n][e]||(o=!0,TAGS[n]=TAGS[n]||{},TAGS[n][e]=1)}),o&&t.a&&delete LDATA.content[n],t.a&&t.key&&!BY_KEYS[t.key]&&delete LDATA.content[n]}if(!(n in LDATA.content)){var l=!1;if(t.bc)for(var c=0;c<t.bc.length;c++)if(r+"_"+t.bc[c]in LDATA.content){n=r+"_"+t.bc[c],l=!0,t.bcHash=t.bc[c];break}if(!l)return u.push(t),t.wrapped&&(f=!0),t.content}var s=LDATA.content[n];return"__empty__"!=s&&s!=t.content?(usage_report[n]=(usage_report[n]||0)+1,f=!0,s):t.content});(LDATA.edit||SUPPORT_AJAX_NAVIGATE&&"1"==r)&&(b=1==t.nodeType?$(t).html():2==t.nodeType?t.value:t.nodeValue);var h,v=!f&&$.grep(s,function(e){var t=e.d||e.t;return!!t&&(!!e.vars&&t[0]!=e.vars[0])}).length;if((f||v||s[0].i18n)&&!n._babIg&&(Engines[r].replacer.call(Engines[r],t,d?g[0]:g,d?s[0]:s,targetLocale,originalLocale,a,n,i),2==t.nodeType&&attributeObserver(n,t)),c&&c(),!u.length||readNodeAttr(t,"bablic_replaced"+r,n)&&getNodeValue(t)===readNodeAttr(t,"bablic_replaced_value"+ +r,n)||($.each(u,function(a,i){if(LDATA.edit||i.a){new_content[r]=new_content[r]||{},h=h||m(o);var l=new_content[r][i.id]||{content:i.content,elements:[],nodes:[],markup:{},key:i.key,i:A++,a:!1,h:i.h,path:h,tags:{},v:i.vars};if(e.preview){var c=i.tags||[];$.each(c,function(e,t){l.tags[t]=1})}i.h||delete l.h,i.bc&&(l.bc=i.bc),l.a=l.a||i.a,l.nodes.push(t),l.elements.push(n),new_content[r][i.id]=l}}),!0),(LDATA.edit||SUPPORT_AJAX_NAVIGATE&&LDATA.ajaxWidget)&&(!readNodeAttr(t,"bablic_replaced"+r,n)||getNodeValue(t)!==readNodeAttr(t,"bablic_replaced_value",n))){if(2==t.nodeType){var y=t.parentNode||n;y.bablic_attrs=y.bablic_attrs||[],y.bablic_attrs.push(t)}$.each(s,function(i,u){(LDATA.edit||f||v||u.a)&&("1"==r&&1==t.nodeType&&(u.oVal=Engines[r].oVal,u.tree=Engines[r].tree),n&&n._fake?jsNodes[r+"_"+(u.bcHash||u.id||"")]={hash:r+"_"+(u.bcHash||u.id||""),content:u.content,original:a.translated||u.content,vars:u.vars,tags:u.tags,d:u.d,t:u.t,c:u.c,h:u.h,completeOriginal:b,translation:g[i],restore:function(t,n){(f||v)&&(e.setMutationListen(!1),Engines[r].restore&&(l&&l(),Engines[r].restore(this,t,n,s,g,a),c&&c()),setNodeAttr(t,"bablic_last_value",getNodeValue(t),n),e.setMutationListen(!0))},replace:function(t,n,o){e.setMutationListen(!1),f=!0,this.restore(t,n),g[i]=o,l&&l(),Engines[r].replacer.call(Engines[r],t,d?g[0]:g,d?s[0]:s,targetLocale,originalLocale,a,n),c&&c(),setNodeAttr(t,"bablic_last_value",getNodeValue(t),n),e.setMutationListen(!0)},engine:Engines[r]}:(h=h||m(o),savedContentNodes.push({node:t,composite:u.tree,content:u.content,oVal:u.oVal,isAttr:2==t.nodeType,element:1==t.nodeType?t:t.parentNode||n,hash:r+"_"+(u.bcHash||u.id||""),original:a.translated||u.content,vars:u.vars,tags:u.tags,path:h,a:u.a,d:u.d,t:u.t,c:u.c,h:u.h,completeOriginal:b,translation:g[i],restore:function(t,n){(f||v)&&(e.setMutationListen(!1),Engines[r].restore&&(l&&l(),Engines[r].restore(this,t,n,s,g,a),c&&c()),setNodeAttr(t,"bablic_last_value",getNodeValue(t),n),e.setMutationListen(!0))},replace:function(t,n,o){e.setMutationListen(!1),f=!0,this.restore(t,n),g[i]=o,l&&l(),Engines[r].replacer.call(Engines[r],t,d?g[0]:g,d?s[0]:s,targetLocale,originalLocale,a,n),c&&c(),setNodeAttr(t,"bablic_last_value",getNodeValue(t),n),e.setMutationListen(!0)},engine:Engines[r]})))})}return 0==u.length&&(setNodeAttr(t,"bablic_replaced"+r,!0,n),setNodeAttr(t,"bablic_replaced_value",getNodeValue(t),n)),f};node_to_location=function(e,t,n){if(!t||1!=t.nodeType)return{};t.setAttribute("bablic-content-id",n)},addOMGScript=function(){if(!WIN.omg){e.setMutationListen(!1);var t=DOC.getElementsByTagName("SCRIPT")[0];if(LDATA.edit){var a=DOC.createElement("SCRIPT");a.src=n+"/js/omg3.min.js",t.parentNode.insertBefore(a,t);var r=DOC.createElement("LINK");r.href=n+"/css/omg3.css",r.rel="stylesheet",r.type="text/css",r.className="bablicOMGStyle",r.setAttribute("bablic-exclude","true"),(t=DOC.getElementsByTagName("HEAD")[0]).appendChild(r)}e.setMutationListen(!0)}};var A=0;triggerEvent=function(e,t){var n;if(WIN.CustomEvent){var a=[];try{t&&(a=JSON.parse(JSON.stringify(t)))}catch(e){}"function"==typeof CustomEvent?n=new CustomEvent("bablic"+e,{detail:a}):(n=document.createEvent("CustomEvent")).initCustomEvent("bablic"+e,!1,!1,a)}else DOC.createEvent?(n=DOC.createEvent("HTMLEvents")).initEvent("bablic"+e,!0,!0):(n=DOC.createEventObject()).eventType="bablic"+e;if(DOC.createEvent)DOC.dispatchEvent(n);else try{DOC.fireEvent("on"+n.eventType,n)}catch(e){}return Mutation.emit(e,t)}}(bablic);var CompositeEngine=function(){var e=/left|right/,t=/[^-\s]/,n=null,a={B:5,STRONG:5,U:6,A:10,IMG:11,BUTTON:12},r=0,i={STRONG:1,B:1,U:1,H1:1,H2:1,H3:1,H4:1,H5:1,H6:1,H7:1},o=function(e){this.text=e};o.prototype.isEmpty=function(){return!t.test(this.text)},o.prototype.toString=function(){return this.text},o.prototype.getType=function(){return""};var l=function(){};l.prototype.toString=function(){return"<br>"},l.prototype.getType=function(){return"BR"},l.prototype.isEmpty=function(){return!0};var c=function(e){this.text=e};c.prototype.getType=function(){return"COMMENT"},c.prototype.setIndex=function(e){this.i=e},c.prototype.isEmpty=function(){return!0},c.prototype.toString=function(){return"\x3c!-- comment"+(this.i||"")+" --\x3e"};var s={SCRIPT:1,SVG:1,STYLE:1},u=function(e,t){this.element=e,this.children=[];e.getAttribute("bablic-exclude")||e.getAttribute("data-bablic-exclude");e.hasAttribute("bablic-exclude")&&"false"!==e.getAttribute("bablic-exclude")?this.excluded=!0:e.hasAttribute("data-bablic-exclude")&&"false"!==e.getAttribute("data-bablic-exclude")?this.excluded=!0:e.tagName in s?this.excluded=!0:(t&&e.hasAttribute("bablic-block")||e.hasAttribute("data-bablic-block"))&&(this.excludedChild=!0),bablic.mobile&&isSafari&&"A"==e.tagName&&/^([0-9+\s]{7,30})$/.test(e.innerHTML.trim())&&(this.pass=!0)};u.prototype.append=function(e){this.excluded||this.excludedChild||this.children.push(e)},u.prototype.setIndex=function(e){this.pass||this.getType()in i||(this.i=e)},u.prototype.getType=function(){return this.element.tagName};var d=!1;function b(e){for(var t=e.tagName.replace(/\d+$/,""),n="H"==t?e.tagName:t,a=DOC.createElement(n),r=0;r<e.attributes.length;r++)try{a.setAttribute(e.attributes[r].name,e.attributes[r].value)}catch(e){}for(var i=e.firstChild;i;){var o=i.nextSibling;1==i.nodeType?a.appendChild(b(i)):a.appendChild(i),i=o}return a}u.prototype.isEmpty=function(){if(this.excludedChild&&d)return!0;if(!this.children.length)return!0;for(var e=0;e<this.children.length;e++){var t=this.children[e];if(!(t instanceof l||t instanceof c)&&!t.isEmpty())return!1}return d},u.prototype.getTrimTop=function(){if(this.excluded)return 0;for(var e=0,t=0;t<this.children.length;t++)if(!this.children[t].isEmpty()){e=t;break}return e},u.prototype.getTrimBottom=function(e){var t=e;if(this.excluded)return t;for(var n=this.children.length-1;n>e;n--)if(!this.children[n].isEmpty()){t=n;break}return t},u.prototype.countTags=function(e){if(!this.excluded&&!this.isEmpty()){var t=this._tt=this.getTrimTop(),n=this._tb=this.getTrimBottom(t);if(!(n<t||this.pass)){for(var i,s=0,d=0,b=[],f=t;f<=n;f++){var p=this.children[f];if(p){if(p instanceof u){var g=p.getType();p.pass||b.push(g),p.countTags(e)}else p instanceof c&&(e.COMMENT=(e.COMMENT||0)+1);d||s>1||p instanceof l||p instanceof c||(p instanceof o?p.isEmpty()||d++:p.isEmpty()||(s++,i=p))}}if(this._nee=s,this._fce=i,this._net=d,s<=1&&0==d)if(i){if(this.singleChild=i,b[0]){var h=a[b[0]]||0,m=this.getType();h>(a[m]||r)?(this.skip=!0,e[b[0]]=(e[b[0]]||0)+1):(this.singleChild.skip=!0,e[m]=(e[m]||0)+1)}}else this.skip=!0;else $.each(b,function(t,n){e[n]=(e[n]||0)+1})}}},u.prototype.setIndexes=function(e,t){if(!this.excluded&&!(0==this._nee&&0==this._net||this._tb<this._tt)){if(this.singleChild){if(this.skip&&!this.singleChild.skip)if(e[i=this.singleChild.getType()]>1){var n=t[i]=(t[i]||0)+1;this.singleChild.setIndex(n)}return this.singleChild.setIndexes(e,t)}for(var a=this._tt;a<=this._tb;a++){var r=this.children[a];if(r instanceof u||r instanceof c){var i;if(r.skip||r.pass){if(bablic.version<=3.6&&3.5!=bablic.version)continue}else if(e[i=r.getType()]>1){n=t[i]=(t[i]||0)+1;r.setIndex(n)}r instanceof u&&r.setIndexes(e,t)}}}},u.prototype.toString=function(){if(this.hidden)return"";var e=this.skip||this.pass,t=this.getType().toLowerCase(),n=e?null:t;if(n&&this.i&&(n+=this.i),this.excluded||this.isEmpty())return e?"":"<"+n+"/>";var a=this._tt,r=this._tb;if(r<a)return e?"":"<"+n+"/>";if(this.singleChild)return e?this.singleChild.toString():"<"+n+">"+this.singleChild.toString()+"</"+n+">";for(var i=new Array(r-a+1),o=a;o<=r;o++){var l=this.children[o];i.push(l.toString())}return e?i.join(""):"<"+n+">"+i.join("")+"</"+n+">"},u.prototype.collectChildren=function(e,t,n){if(!this.excluded){if(this.singleChild){if(this.skip&&(this.singleChild._p=this._p||this),this.skip&&!this.singleChild.skip)t[l=this.singleChild.getType()]=t[l]||[],t[l].push(this.singleChild),this.singleChild.i&&(l+=this.singleChild.i),e[l]=e[l]||[],this.singleChild._ordinal=n++,e[l].push(this.singleChild);return this.singleChild.collectChildren(e,t,n)}if(!this.isEmpty()){var a=this._tt,r=this._tb;if(!(r<a))for(var i=a;i<=r;i++){var o=this.children[i];if(o instanceof u||o instanceof c){var l;if(!o.skip)o._ordinal=n++,t[l=o.getType()]=t[l]||[],t[l].push(o),o.i&&(l+=o.i),e[l]=e[l]||[],e[l].push(o);o instanceof u&&o.collectChildren(e,t,n)}}}}},u.prototype.getChildren=function(e){var t={};return this.collectChildren(t,{},0),(t[e]||[]).map(function(e){return e.element}).filter(function(e){return e})},u.prototype.copyFromElement=function(e,t,n){if(!this.excluded){if(this.singleChild&&this.singleChild.skip)return this.singleChild.copyFromElement(e,t,n);if(!this.isEmpty()){var a=this._tt,r=this._tb;if(!(r<a)){this.element.hasChildNodes()||this.element.appendChild(DOC.createTextNode(""));for(var i=this.element.firstChild,o=this.element.lastChild,l=0;l<a&&i.nextSibling;l++)i=i.nextSibling;for(l=this.children.length-1;l>r&&o.previousSibling;l--)o=o.previousSibling;for(var c=this.element,s=a,d=function(e){var t,n=!1;(t=f?f.nextSibling:c.firstChild)?1===e.nodeType?t!==e&&("BR"!==t.tagName||"BR"!==e.tagName?e.contains(c)?n=!0:c.insertBefore(e,t):e=t):t.nodeType===e.nodeType?(t.nodeValue!==e.nodeValue&&setNodeValue(t,e.nodeValue),e=t):e.contains(c)?n=!0:c.insertBefore(e,t):c.appendChild(e),n||(f=e)},f=i.previousSibling,g=o.nextSibling,h=e.firstChild;h;){if(3==h.nodeType)d(DOC.createTextNode(h.nodeValue));else if(8==h.nodeType){var m=(t[h.nodeValue||"COMMENT"]||[]).shift();m=m&&m.text,d(DOC.createComment(m||h.nodeValue))}else if("BR"==h.tagName)d(DOC.createElement("BR"));else{var v;if(n){var y=h.tagName.replace(/\d+$/,""),_=t[h.tagName];(v=_&&_.shift())||(v=(_=t[y])&&_.shift()),_&&!_.length&&delete t[h.tagName]}else{for(;s++,this.children[s-1]&&!(this.children[s-1]instanceof u););v=this.children[s-1]}if(!v){var A=b(h);h=h.nextSibling,d(A);continue}var T=v._p&&v._p!=this&&!v._p.element.contains(this.element)?v._p.element:v.element;T.removeAttribute("hidden"),v.hidden=!1,p(T,h),v.copyFromElement(h,t,n),d(T)}h=h.nextSibling}if((f=f||c.firstChild)&&f!=g)for(var L=f.nextSibling;L&&L!=g;){var E=L;L=L.nextSibling,1===E.nodeType&&"BR"!==E.tagName?(E.hidden=!0,E.setAttribute("hidden","")):c.removeChild(E)}}}}};var f=/[<'">]|^[\d]/;function p(e,t){for(var n=0;n<t.attributes.length;n++)f.test(t.attributes[n].name)||e.setAttribute(t.attributes[n].name,t.attributes[n].value)}var g={TEXTAREA:1,SVG:1,STYLE:1,SCRIPT:1,CODE:1,OBJECT:1,VIDEO:1,AUDIO:1,CANVAS:1,IFRAME:1};function h(e,t,n){for(var a=e;null!=a;){var r=t&&t(a);if(r||!a.hasChildNodes()||a.tagName.toUpperCase()in g)if(a.nextSibling&&a!=e)r||n&&n(a),a=a.nextSibling;else{for(;null==a.nextSibling&&a!=e;)r||n&&n(a),r=!1,a=a.parentNode;if(r||n&&n(a),a==e)break;a=a.nextSibling}else a=a.firstChild}}var m={};function v(t){if("boolean"==typeof t._babDisp)return t._babDisp;var a=$(t),r=a.css("display"),i=r.indexOf("inline")>-1;return i||"none"!==r||(i=function(e){if(!DOC.body)return!0;var t=e.tagName;if(t in m)return m[t];var n=DOC.createElement(t);DOC.body.appendChild(n);var a=($(n).css("display")||"").indexOf("inline")>-1;return DOC.body.removeChild(n),m[t]=a,a}(t)),t._babDisp=!!i&&(n||!e.test(a.css("float"))),t._babDisp}return{mapSegments:function(e){for(null===n&&(n=function(){var e=document.createElement("SPAN");e.setAttribute("bablic-exclude",""),e.style.visibility="hidden",e.style.float="left",document.body.appendChild(e);var t=$(e).css("display");return document.body.removeChild(e),"block"===t}()),bablic.version<3.7||bablic.version>=9?(g={TEXTAREA:1,SVG:1},i={},d=!1):d=!0,bablic.version<3.8&&bablic.version>=9&&(r=void 0);e.parentNode&&"BODY"!=e.tagName&&!readNodeAttr("_seg")&&v(e);)e=e.parentNode;var a,o=[];h(e,function(e){if(1==e.nodeType&&"BR"!=e.tagName){var t=e.hasAttribute("bablic-block"),n=t&&e.getAttribute("bablic-block");if(t&&"false"!==n)return setNodeAttr(e,"_seg",!0),a&&(a.text=!0),!0;if("OPTION"!=e.tagName&&v(e)||"false"===n){if(!a)return}else o=[];a={text:!1,elements:!1,composite:!1},o.push(a)}},function(e){if(a)if(3==e.nodeType){if(a.composite)return;t.test(e.nodeValue)&&(a.text=!0,a.elements&&(a.composite=!0))}else{if(1!=e.nodeType)return;if("BR"==e.tagName)return void(a.text&&(a.elements=!0));var n=o.pop();(a=o[o.length-1])?n.composite?a.composite=!0:n.text&&(a.text?a.composite=!0:(a.text=!0,a.elements=!0)):n.composite&&setNodeAttr(e,"_seg",!0)}})},buildDOMTree:function(e){var t,n=[];return h(e,function(a){var r=n[n.length-1];if(3==a.nodeType){var i=new o(a.nodeValue);r.append(i)}else if(8==a.nodeType){var s=new c(a.nodeValue);r.append(s)}else if(1==a.nodeType)if("BR"==a.tagName){var d=new l;r.append(d)}else{if(a!=e){var b=new u(a,t);r.append(b),r=b}else r=t=new u(a);n.push(r)}},function(e){1==e.nodeType&&"BR"!=e.tagName&&n.pop()}),t},replaceDOMTree:function(e,t){var n=DOC.createElement("div");try{for(var a=t.replace(/<([^>]*?)\/>/g,"<$1></$1>");;){for(var r,i=/<(?:!--\s*(.*?)\s*--|(\/?)(.*?)(\/?))>/g,o=!1;r=i.exec(a);)if(r[3]&&r[3].indexOf("<")>-1){a=a.substr(0,r.index)+"&lt;"+a.substr(r.index+1),o=!0;break}if(!o)break}n.innerHTML=a}catch(e){return void console.error("Bad translation HTML",t)}var l={},c={};e.collectChildren(l,c,0);for(var s={},u=n.firstElementChild;u&&u!==n;){var d=u.tagName;if("BR"!=d){var b=d.replace(/\d+$/,"");s[b]=(s[b]||0)+1}if(u.firstElementChild)u=u.firstElementChild;else{for(;!u.nextElementSibling&&u!=n;)u=u.parentElement;if(u==n)break;u=u.nextElementSibling}}var f=!0;for(var p in s)if(s[p]!==(c[p]||[]).length){f=!1;break}e.copyFromElement(n,l,f)},getTreeContent:function(e){var t={};return e.skip=!0,e.countTags(t),e.setIndexes(t,{}),e.toString()}}}(),Text=Engines[1]=function(){var BABLIC_INLINE_MARKUP_ATTR=/([a-z\-_]+)=(?:(?:")|&quot;|\[)([^"]*?)(?:(?:")|&quot;|\]),?/g,BABLIC_INLINE_MARKUP_VAR=/__vs\(([^)]+)\)__((.*?|\n)[^)]*)__ve/gi,BABLIC_INLINE_MARKUP_VAR_NEW=/__vs(.*?)__vm_((.*?|\n)[^)]*)__ve/gi,compact=/\s+/g,CHECK_INLINE=/^(?:inline|none)$/i,HAS_COMPOSITE=void 0!==CompositeEngine,SHOPIFY_REGEX=/powr\-map/i,HAS_LINES=/\S\s*__nl__\s*\S/,CLEAN_TAGS=!1,countPerUnique={},symbols="؋ƒ₼៛¥₡₱£€₾¢₹﷼₪₩₭₨₮₦₽฿₺₴₫",identicalSymbolsRegex=null,DAYS=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],FORMAT_GROUP_NAMES={hours:1,minutes:2,pm:3,onlyHours:4,onlyHoursPM:5,numberDateDayOrMonth:6,numberDateMonthOrDay:7,numberDateYear:8,textDateDayBeforeMonth:9,textDateDayBeforeMonthSuffix:10,textDateMonth:11,textDateYear1:12,textDateDayAfterMonth:13,textDateDayAfterMonthSuffix:14,textDateYear2:15},IGNORE_TEXT=/[,\/\\'”«»"[\]()+*:&%$~#@<>{}^]{8}/,div;function getUniqueId(e,t){countPerUnique[e]=countPerUnique[e]||[];var n=countPerUnique[e].indexOf(t);return-1==n&&(countPerUnique[e].push(t),n=0),0==n&&(n=""),e+n}function escapeChars(e,t){return e.replace(/_%(.*?)%_/g,function(e,n){return t.push(n),"ESC"})}function unEscapeChars(e,t){return e.replace(/ESC/g,function(e,n){return t.shift()})}function htmlToText(e){return div||(div=$("<div></div>")),e&&-1!=e.indexOf("&")?div.html(e).text():e}var asianLiterals=/(?:^|[.,\-\/\\'”«»"[\]()+*:&%#@!?<>{}\s\r\n^])[^\-.,\/\\'”«»"[\]()+*:&%#@!?<>0-9{}\s\r\n^؋ƒ₼៛¥₡₱£€₾¢₹﷼₪₩₭₨₮₦₽฿₺₴₫a-z]/i,asianLocales={zh_cn:1,zh_tw:1,ja:1},attrs={title:!0,placeholder:!0,label:!0,"aria-label":!0},Self={index:1,name:"text",addAttr:function(e,t){!1!==t?attrs[e]=!0:delete attrs[e]},prepare:function(){bablic.version>3.6&&(CLEAN_TAGS=!0),"5945425e22f3a861e9f2c4bb"==bablic.Site&&(identicalSymbolsRegex=/['"«‹»›„‚“‟‘‛”’"❛❜❟❝❞❮❯⹂〝〞〟＂]/g);var self=this,CURRENCIES="";self.CURRENCIES=CURRENCIES,self.hasLiterals=bablic.version>3.6?/(?:^|[.,\-\/\\'”«»"[\]()+*:&%#@!?<>{}\s\r\n^])[^\-.,\/\\'”«»"[\]()+*:&%#@!?<>0-9{}\s\r\n^؋ƒ₼៛¥₡₱£€₾¢₹﷼₪₩₭₨₮₦₽฿₺₴₫]+[\-&\s\r\n]*[^\-.,\/\\'”«»"[\]()+*:&%#@!?<>0-9{}\s\r\n^؋ƒ₼៛¥₡₱£€₾¢₹﷼₪₩₭₨₮₦₽฿₺₴₫]+/:/(?:^|[.,\-\/\\'”«»"[\]()+*:&%#@!?<>{}\s\r\n^])[^\-.,\/\\'”«»"[\]()+*:&%#@!?<>0-9{}\s\r\n^]+[\-&\s\r\n]*[^\-.,\/\\'”«»"[\]()+*:&%#@!?<>0-9{}\s\r\n^]+/,(LDATA.alt||LDATA.conf&&LDATA.conf.a)&&(attrs.alt=!0),self.i={button:0,submit:0,reset:0},self.m={description:0,title:0,"st:title":0,"st:section":0,"og:description":0,"og:title":0,"twitter:title":0,"twitter:description":0,"og:site_name":0},self.split=/(?:\s+[|]\s+|{nl}|{ct[^}]*})/,self.trim=/^[\s\r\n^]*((?:.|\n|\r)*?)[\s\r\n^]*$/,self.mnth={1:"January",2:"February",3:"March",4:"April",5:"May",6:"June",7:"July",8:"August",9:"September",10:"October",11:"November",12:"December"},self.cmpc=self._mnth={},$.each(self.mnth,function(e,t){self._mnth[t.toLowerCase()]=e,self._mnth[t.toLowerCase().substr(0,3)]=e}),originalLocale&&originalLocale.months&&$.each(originalLocale.months,function(e,t){self._mnth[t.toLowerCase()]=e+1,self._mnth[t.toLowerCase().substr(0,3)]=e+1}),targetLocale&&targetLocale.months&&$.each(targetLocale.months,function(e,t){self.mnth[e+1]=t}),self.dbm=!LDATA.mbd;var monthNames=Object.keys(self._mnth);self.nums=RegExp("\\b(?:([0-2]?\\d):([0-5]\\d)\\s*(am|pm)?|(?:([0-2]?\\d)\\s*(am|pm))|(\\d?\\d)[\\/\\-.](\\d?\\d)[\\/\\-.](\\d\\d(?:\\d\\d))?|(?:(\\d\\d?)(st|nd|rd|th)?\\s+)?(\\b(?:"+monthNames.join("|")+")\\b)(?:\\s*[,\\s]\\s*(\\d\\d\\d\\d)|\\s+(\\d\\d?)(st|nd|rd|th)?(?:\\s*[,\\s]\\s*(\\d\\d(?:\\d\\d))?)?)?|\\d(?:[0-9+\\-.,\\^]*\\d)?(?:e\\+\\d+)?|(-?\\s?\\d{1,3}(?:\\s\\d{3})*(?:\\.\\d+))|https?:\\/\\/[^\\s<]+|[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,4}"+CURRENCIES+"|\\{\\{(\\s*(?:[^}]+)\\s*)\\}\\})","ig"),self.need_bidi=/(?:^|[0-9.,\/\\'[\]()+*:&%#@!?<>{}^])(?:$|[0-9.,\/\\'[\]()+*:&%#@!?<>{}^])/,self.exclude=/<(?:.|\n|\r)*?exclude(?:.|\n|\r)*?>(?:.|\n|\r)*?<(?:.|\n|\r)*?>/gi,self.pm=/pm/i,self.SEG_DEP=2,self.SEG_STEP=/((?:.|\n)*?){(?:t(\d+)|(nl)|(ct[^}]*))}/g,self.itags={SCRIPT:1,STYLE:1,HEAD:1,NOSCRIPT:1,SVG:1,SYMBOL:1,CODE:1,VAR:1,PATH:1,CANVAS:1,LINK:1},self.extractNums=function(text){for(var nums=[],dates,times,regexMatch,t=[],lI=0,i=0;regexMatch=self.nums.exec(text);){if(nums.push(regexMatch[0]),targetLocale.timeFormat&&(regexMatch[FORMAT_GROUP_NAMES.hours]||regexMatch[FORMAT_GROUP_NAMES.onlyHours])){times=times||{};var hours=Number(regexMatch[FORMAT_GROUP_NAMES.hours]||regexMatch[FORMAT_GROUP_NAMES.onlyHours]),minutes=Number(regexMatch[FORMAT_GROUP_NAMES.minutes]);(regexMatch[FORMAT_GROUP_NAMES.pm]&&self.pm.test(regexMatch[FORMAT_GROUP_NAMES.pm])||regexMatch[FORMAT_GROUP_NAMES.onlyHoursPM]&&self.pm.test(regexMatch[FORMAT_GROUP_NAMES.onlyHoursPM]))&&(hours+=12);var escapes=[],format=escapeChars(targetLocale.timeFormat,escapes);if(isNaN(minutes)?times[i]=format.replace(/[:]?mm?/,""):times[i]=format.replace("mm",minutes<10?"0"+minutes:minutes).replace(":m",":"+minutes),self.pm.test(times[i])){var hasPM=hours>11;hasPM?hours-=12:times[i]=times[i].replace("PM","AM").replace("pm","am")}times[i]=times[i].replace("hh",hours<10?"0"+hours:hours).replace("h",hours),times[i]=unEscapeChars(times[i],escapes)}else if(regexMatch[FORMAT_GROUP_NAMES.numberDateDayOrMonth]||regexMatch[FORMAT_GROUP_NAMES.textDateMonth]){if(regexMatch[FORMAT_GROUP_NAMES.textDateMonth]&&regexMatch[FORMAT_GROUP_NAMES.textDateMonth]==regexMatch[0]){nums.pop();continue}var year,month,day,suffix;if(dates=dates||{},regexMatch[FORMAT_GROUP_NAMES.numberDateDayOrMonth]?(self.dbm?(day=Number(regexMatch[FORMAT_GROUP_NAMES.numberDateDayOrMonth]),month=Number(regexMatch[FORMAT_GROUP_NAMES.numberDateMonthOrDay])):(day=Number(regexMatch[FORMAT_GROUP_NAMES.numberDateMonthOrDay]),month=Number(regexMatch[FORMAT_GROUP_NAMES.numberDateDayOrMonth])),year=Number(regexMatch[FORMAT_GROUP_NAMES.numberDateYear])):(month=Number(self._mnth[regexMatch[FORMAT_GROUP_NAMES.textDateMonth].toLowerCase()]),day=Number(regexMatch[FORMAT_GROUP_NAMES.textDateDayBeforeMonth]||regexMatch[FORMAT_GROUP_NAMES.textDateDayAfterMonth]),year=Number(regexMatch[FORMAT_GROUP_NAMES.textDateYear1]||regexMatch[FORMAT_GROUP_NAMES.textDateYear2]),!year&&regexMatch[FORMAT_GROUP_NAMES.textDateDayAfterMonth]&&regexMatch[FORMAT_GROUP_NAMES.textDateDayBeforeMonth]&&(day=Number(regexMatch[FORMAT_GROUP_NAMES.textDateDayBeforeMonth]),year=Number(regexMatch[FORMAT_GROUP_NAMES.textDateDayAfterMonth])),suffix=regexMatch[FORMAT_GROUP_NAMES.textDateDayBeforeMonthSuffix]||regexMatch[FORMAT_GROUP_NAMES.textDateDayAfterMonthSuffix]),year<100&&(year=(year<20?2e3:1900)+year),targetLocale.dateFormat){var escapes=[],format=escapeChars(targetLocale.dateFormat,escapes);format.indexOf("${")>-1?format=format.replace(/\$\{([^}]*)\}/g,function(a0,a1){return eval("(function(d,m,y){ return "+a1+"; })("+day+","+month+","+year+")")}):(day||(format=format.replace(/d+(th|\s|\.|,|\-|\/)+/,"")),month||(format=format.replace(/m+(\s|\.|,|\-|\/)+/,"")),year||(format=format.replace(/(\s|\.|,|\-|\/)+y+/,"")));var reg=/mmmm|mmm|mm|m|dd|d|yyyy|yy|th/g;dates[i]=unEscapeChars(format.replace(reg,function(e){switch(e){case"mmmm":return"{month"+month+"}";case"mmm":return"{mon"+month+"}";case"mm":return month<10?"0"+month:month;case"m":return month;case"dd":return day<10?"0"+day:day;case"d":return day;case"yyyy":return year||"";case"yy":return year?year%100:"";case"th":return""}}),escapes)}else if(regexMatch[FORMAT_GROUP_NAMES.textDateMonth]){var date=nums[i];suffix&&(date=date.replace(suffix,"")),dates[i]=date.replace(regexMatch[FORMAT_GROUP_NAMES.textDateMonth],"{month"+month+"}")}}t.push(text.substr(lI,regexMatch.index-lI),"{"+i+++"}"),lI=regexMatch.index+regexMatch[0].length}return lI<text.length&&t.push(text.substr(lI)),text=t.join(""),{text:text,nums:nums,d:dates,t:times}},self.stripText=function(e,t,n,a,r,i,o,l){var c=self.trim.exec(e);if(!(e=c&&c[1]))return null;var s=$.map(n||r?[e]:e.split(self.split),function(e){if(!(e=self.trim.exec(e)[1]))return null;if(IGNORE_TEXT.test(e.replace(/\.+/g,".")))return null;var r=t?{text:e,nums:[]}:self.extractNums(e);l&&((r={text:e,nums:[],d:{}}).text=e.replace(BABLIC_INLINE_MARKUP_VAR,function(e,t,n){return r.nums.push(n),"{"+(r.nums.length-1)+"}"}).replace(BABLIC_INLINE_MARKUP_VAR_NEW,function(e,t,n){return r.nums.push(n),"{"+(r.nums.length-1)+"}"}));var c=self.hasLiterals.test(r.text);if(!c&&originalLocale.key in asianLocales&&(c=asianLiterals.test(r.text)),c&&LDATA.block&&LDATA.block.test&&(c=!LDATA.block.test(r.text)),r.text.indexOf("BESbswy")>-1&&(c=!1),c&&WIN.Shopify&&(c=!SHOPIFY_REGEX.test(r.text)),!r.d&&!r.t&&!c)return r.nums.length?[{content:r.text,id:a||bablicHash(n?getUniqueId(n,r.text):r.text),a:!1,vars:r.nums,tags:["visible"]},{content:e,id:a||bablicHash(n?getUniqueId(n,e):e),a:!1,tags:["visible"]}]:null;for(var s=0,u=0;u<r.nums.length;u++)s+=r.nums[u].length;if(e.length==s||!c)return{content:r.text,vars:r.nums,d:r.d,t:r.t,a:!1};!0;var d=r.text.toLowerCase().replace(compact," ").replace(/σ([^a-zα-ω]|$)/g,"ς$1");return identicalSymbolsRegex&&(d=d.replace(identicalSymbolsRegex,"")),i&&CLEAN_TAGS&&(d=d.replace(/\s*<[^>]*>\s*/g,"<>")),o&&(d=o+"_"+d),{id:a||bablicHash(n?getUniqueId(n,d):d),content:r.text,vars:r.nums.length&&r.nums,v:n,d:r.d,t:r.t,a:!HasTextMarkup||l,tags:["visible"]}});return s.length&&s},self.isSeg=function(e){if(CHECK_INLINE.test($(e).css("display"))&&(e=e.parentNode,CHECK_INLINE.test($(e).css("display"))))return!1;for(var t=0,n=!1,a=0;a<e.childNodes.length;a++){var r=e.childNodes[a];if(1==r.nodeType){if(t++,!CHECK_INLINE.test($(r).css("display")))return!1}else 3==r.nodeType&&/[^-\s]/.test(r.nodeValue)&&(n=!0)}return!!(t>1||t>0&&n)}},qualifier:function(e,t,n,a,r,i){if(r&&r.tagName&&r.tagName.toUpperCase()in this.itags)return null;a=a||{};var o=this;if(HasTextMarkup){if(3===e.nodeType&&!r._fake&&(!bablic.i18nHybrid||bablic.integrateI18n.qualify(r.innerHTML)))return null;var l=e===r?e.innerHTML:r._fake?e.nodeValue:e.value;if(!bablic.i18nHybrid||bablic.integrateI18n.qualify(l)){var c=bablic.integrateI18n.parse(l),s=[];return c.forEach(function(e){var t=e.attributes,n=o.stripText(e.content,"no-vars"in a||"no-vars"in t,t.uniqueId||a.uniqueId,t.id||a.id,!0,!1,t.key,!0);n&&((n=n[0]).markup=t,n.key=t.key,n.wrapped=!0,n.a=!0,n.i18n=!0,n.tags=["i18n"],s.push(n))}),s.length?(e._babCe=!0,s):null}}var u="no-vars"in a,d=a.unique,b=a.id;switch(!HAS_COMPOSITE&&r&&e==r.firstChild&&(a.block?setNodeAttr(r,"_seg","false"!=a.block):void 0===readNodeAttr(r,"_seg")&&setNodeAttr(r,"_seg",this.isSeg(r))),this.tree=null,e.nodeType){case 3:if(HAS_COMPOSITE){if(i)return null}else if(r&&readNodeAttr(r,"_seg"))return null;var f=e.nodeValue;return"TITLE"==r.tagName&&a.translated&&(setNodeValue(e,a.translated),u=!0),(S=o.stripText(f,u,d,b))&&setNodeAttrIf&&setNodeAttrIf(e,"bablic_c",S),S&&"TITLE"==r.tagName&&$.each(S,function(e,t){t.h=!0,t.tags=["visible","meta"]}),S;case 2:var p=(e.nodeName||"").toLowerCase();if(p in attrs||"value"==p&&r&&"input"==(r.tagName||"").toLowerCase()&&r.attributes.type&&(r.attributes.type.value||"").toLowerCase()in this.i){if("iframe"==(r.tagName||"").toLowerCase())return;return"#"==e.value[0]&&-1==e.value.indexOf(" ")?null:((S=o.stripText(e.value,u,d,b))&&"value"!=p&&"placeholder"!=p&&$.each(S,function(e,t){t.h=!0,"alt"==p&&(t.tags=["alt"])}),S)}return null;case 1:if(this.m&&"META"===e.tagName){if(((e.getAttribute("name")||"").toLowerCase()||(e.getAttribute("property")||"").toLowerCase()||(e.getAttribute("itemprop")||"").toLowerCase())in this.m){var g=a.translated||e.getAttribute("content")||e.getAttribute("value");return(S=o.stripText(g,bablic.version<=3.7||u,d,b))?($.each(S,function(e,t){t.h=!0,t.a=!0,t.tags=["meta"]}),S):null}return null}if("phrase"in a){var h=$(e).html();if(a.phrase&&"true"!=a.phrase&&"false"!=a.phrase)return[{id:b||bablicHash(a.phrase),content:h,a:!0,v:a.phrase}];if(d)return[{id:b||bablicHash(d),content:h,a:!0,v:d}];for(var m,v=[];m=o.exclude.exec(h);)v.push(m[0]);return $.each(v,function(e,t){h=h.replace(t,"{"+e+"}")}),[{id:b||bablicHash(h.toLowerCase()),content:h,vars:v.length&&v,a:!0}]}if(r.readOnly&&"INPUT"==r.tagName&&!r.attributes.value)return o.stripText(r.value,u,d,b);if(HAS_COMPOSITE){if(i==r){var y=CompositeEngine.buildDOMTree(r);if(y.isEmpty())return null;var _=CompositeEngine.getTreeContent(y);return(S=o.stripText(_,u,d,b,!0,!0))?(this.tree=y,this.oVal=_,r._babCe=!0,S):null}return null}if(readNodeAttr(r,"_seg")){var A=0,T=[],L={};this._seg=!1;for(var E=r.firstChild,C=!0;E;)3==E.nodeType?(C=!0,T.push(E.nodeValue)):8==E.nodeType?(C=!0,T.push("{ct"+(E.nodeValue||"").replace(/}/g,"__close__")+"}")):"BR"==E.tagName?(C=!0,T.push("{nl}")):(C&&T.push("{t"+ ++A+"}"),(L[A]=L[A]||[]).push(E),C=!1),E=E.nextSibling;var S,D=T.join("");return this.oVal=D,(S=o.stripText(D,u,d,b))&&S.length&&$.each(S,function(e,t){t&&(t.c=L)}),S}return null}},replacer:function(e,t,n,a,r,i,o){if(HasTextMarkup&&n[0].i18n){var l=e===o?e.innerHTML:o._fake?e.nodeValue:e.value,c=bablic.integrateI18n.translate(l,n,t).replace(/__nl__/g,"\n");e===o?o.innerHTML=c:o._fake?e.nodeValue=c:e.value=c}else{var s=1!=e.nodeType?2==e.nodeType?e.value:e.nodeValue:"phrase"in i?$(e).html():"META"==e.tagName?e.getAttribute("content")||e.getAttribute("value")||"":e.readOnly&&"INPUT"==e.tagName?e.value:this.oVal,u=1==e.nodeType,d=!1,b=this.tree,f=this;if($.each(n,function(e,a){var r=t[e];r=r.replace(/^(__nl__)+/,"").replace(/(__nl__)+$/,""),d=d||HAS_LINES.test(r);var i=a.content;a.tmp&&i==r&&(i=r=a.tmp),a.vars&&$.each(a.vars,function(e,t){var n=a.t&&a.t[e]||a.d&&a.d[e]||t;a.d&&a.d[e]&&(n=n.replace(/\{mon(th)?(\d+)\}/g,function(e,t,n){return t?f.mnth[n]:(f.mnth[n]||"").substr(0,3)})),r=r.replace(RegExp("\\{"+e+"\\}","g"),n),i=i.replace(RegExp("\\{"+e+"\\}","g"),t)}),s=b&&1==n.length?r:s.replace(i,r)}),this.tree)s=s.replace(/__nl__/g,"\n"),o._bWS==e&&(o.style.whiteSpace="",delete o._bWS);else{var p=!1;if(s=s.replace(/\n/g,"").replace(/__nl__/g,"\n"),!HAS_COMPOSITE&&d&&(p=!0),HAS_COMPOSITE&&s.indexOf("<br>")>-1&&(p=!0,s=s.replace(/\n/g,"").replace(/<br>/g,"\n")),p){var g=$(o).css("white-space");if("pre"!=g&&"pre-line"!=g&&"nowrap"!=g&&!o.style.whiteSpace){o.style.whiteSpace="pre-line",o._bWS=e;for(var h=0;h<o.childNodes.length;h++){var m=o.childNodes[h];3==m.nodeType&&(m!=e&&setNodeValue(m,m.nodeValue.replace(/^\s+/g," ").replace(/\s+$/g," ")))}}}}if(u)if("phrase"in i)$(e).html(s);else if("META"==e.tagName)e.setAttribute("content",s);else if(o.readOnly&&"INPUT"==o.tagName)o.readOnly=!1,o.value=s,o.readOnly=!0;else{if(HAS_COMPOSITE){var v=this.tree;return v?void CompositeEngine.replaceDOMTree(v,s):console.error("Problem with segment manipulating",e)}for(var y,_=LDATA.edit||doesSupportAjaxReplace(),A={},T=[],L=[],E=[],C=e.firstChild,S=0,D=[],x=!0;C;){var N=C.nextSibling;3==C.nodeType?(E.push(C),x=!0):8==C.nodeType?(L.push(C),x=!0):1==C.nodeType&&("BR"==C.tagName?(T.push(C),x=!0):(x?A[++S]=[C]:A[S].push(C),x=!1,_&&(C.order||(C.order=[S,A[S].length-1]),D.push(C))),_&&1==C.nodeType&&C.removeAttribute("hidden")),C&&e.removeChild(C),C=N}for(_&&(A={},D.forEach(function(e){A[e.order[0]]=A[e.order[0]]||[],A[e.order[0]][e.order[1]]=e})),s=s.replace(/<tn?(\d+)>.*?<\/tn?\d+>/g,"{t$1}");y=this.SEG_STEP.exec(s+"{t0}");){var O=y[1],w=y[2];if(O){var I=E.shift()||DOC.createTextNode(O);setNodeValue(I,O),e.appendChild(I)}if(w){if("0"!=w){var R=A[w];R&&$.each(R,function(t,n){e.appendChild(n)})}}else if(y[3]){var k=T.shift()||DOC.createElement("BR");e.appendChild(k)}else{var M=y[4].substr(2).replace(/__close__/g,"}"),P=L.shift()||DOC.createComment(M);e.appendChild(P)}}if(_)for(var B in A)for(S=0;S<A[B].length;S++)A[B][S].parentNode!=e&&(A[B][S].setAttribute("hidden",""),e.appendChild(A[B][S]))}else if(2==e.nodeType){var W=htmlToText(s);"placeholder"==e.nodeName&&o.value==e.value&&(o.value=W),e.value=W}else setNodeValue(e,htmlToText(s));if(o&&LDATA.bidi_elements){O=$.trim(u?$(e).html():2==e.nodeType?e.value:e.nodeValue);this.need_bidi.test(O)&&this.hasLiterals.test(O)&&($(o).css("direction",LDATA.bidi_elements),o.dir=LDATA.bidi_elements)}}},restore:function(e,t,n,a,r,i){if(HasTextMarkup&&a[0].i18n)t==n?n.innerHTML=e.completeOriginal:t.value=e.completeOriginal;else if(1==t.nodeType){this.oVal=e.oVal,this.tree=e.tree,!this.oVal&&a.length&&(this.oVal=a[0].oVal),!this.tree&&a.length&&(this.tree=a[0].tree);var o=a.map(function(e,t){return e._cnt=e.content,e._d=e.d,e._t=e.t,e.d={},e.t={},e.content=r[t],e._cnt});this.replacer(t,o,a,targetLocale,originalLocale,i,n),a.forEach(function(e){e.content=e._cnt,e.d=e._d,e.t=e._t,delete e._cnt,delete e._d,delete e._t})}else 2==t.nodeType?("placeholder"==t.nodeName&&n.value==t.value&&(n.value=e.completeOriginal),t.value=e.completeOriginal):setNodeValue(t,e.completeOriginal)}};return Self}(),CSS=Engines[2]={index:2,name:"css",qualifier:function(e,t,n){return 1==e.nodeType&&"HEAD"==e.tagName?{id:bablicHash(bablic.Site),content:"<style type='text/css' id='bablic_site_css' bablic-exclude></style>",a:!0}:null},replacer:function(e,t,n,a,r,i){var o=$.byId("bablic_site_css");if(o.length()){var l=t.replace(/<.*?>/g,"");if(o.html()==l)return;o.html(l)}else $(e).append(t)},restore:function(e,t,n){$.byId("bablic_site_css").remove()}},IMAGE_META={"og:image":1,"st:image":1,"twitter:image":1},Images=Engines[3]={index:3,name:"images",prepare:function(){this.r=/url\("?(.+?)"?\)/},qualifier:function(e,t,n,a,r){if(2==e.nodeType&&"src"==e.nodeName.toLowerCase()&&("IMG"==r.tagName||"INPUT"==r.tagName&&"image"==r.getAttribute("type"))&&r.parentNode&&"HEAD"!=r.parentNode.tagName)return bablic.version>=3.9&&r.attributes.srcset?null:cleanSrc(e.value,null,e);if(1==e.nodeType){var i=null,o=!1;if("META"==e.tagName&&e.getAttribute("property")in IMAGE_META)i=e.getAttribute("content"),o=!0;else{var l=$(e).css("background-image"),c=l&&this.r.exec(l);i=c&&c[1]}return cleanSrc(i,o)}if(2==e.nodeType&&"srcset"==e.nodeName.toLowerCase()&&"IMG"==r.tagName){var s=e.value.trim().split(/\s*,\s*/).map(function(e){return e.split(/\s+/)}),u=bablic.version<3.9?$.grep(s.map(function(e){return cleanSrc(e[0])}),function(e){return e}):[];s.sort(function(e,t){return parseFloat(t[1])-parseFloat(e[1])});var d=cleanSrc(s[0][0],!1,e);return d&&u.unshift(d),u}return null},replacer:function(e,t,n,a,r,i,o){if(!Array.isArray(t)&&CLOUDINARY_REGEX.test(t)&&n){var l=n.content.replace(/^(https?:)?\/\//i,"").split("/"),c=l[4];c.indexOf("_")>-1&&l.length>5&&((l=t.replace(/^(https?:)?\/\//i,"").split("/")).splice(4,0,c),t="//"+l.join("/"))}if(2==e.nodeType)if("srcset"==e.nodeName.toLowerCase()){var s=!1,u=e.value.trim().split(/\s*,\s+/).map(function(e,t){return e.split(/\s+/)});if(CLOUDINARY_REGEX.test(t[0])){var d=(l=t[0].replace(/^(https?:)?\/\//i,"").split("/")).slice(0,4).join("/"),b=l.slice(4).join("/"),f=u.map(function(e,t){if(!e[0])return e[0];var n=(e[1]||"").trim().split(/\s+/),a=$.grep(n.map(function(e){return"w"==e[e.length-1]?"w_"+e.substr(0,e.length-1):"h"==e[e.length-1]?"h_"+e.substr(0,e.length-1):void 0}),function(e){return e});return a.push("f_auto","q_80"),"//"+d+"/"+a.join(",")+"/"+b+" "+e[1]}).join(", ");s=f!=e.value}else f=u.map(function(e,n){if(!e[0])return e[0];var a=normalizeImageUrl(e[0]),r=normalizeImageUrl(t[n]);return s=s||a!=r,e[0]=t[n]||t[0]||e[0],e.join(" ")}).join(", ");if(s){n&&(replacedImages[n.id]=e.value),e._babSrcset=e.value;var p=o.attributes.src;if(p){var g=getSelectedSource(p.value,e.value,f);g&&g!=p.value&&(p.value=g)}e.value=f}}else if(e.value!=t)n&&(replacedImages[n.id]=e.value),e.value=t;else{var h=o.attributes.srcset;if(h&&h._babSrcset&&h.value.indexOf("bablic")>-1){var m=getSelectedSource(e.value,h._babSrcset,h.value);m&&m!=e.value&&(e.value=m)}}else{var v=this.r.exec($(e).css("background-image"));v&&v[1]!=t&&(n&&(replacedImages[n.id]=v[1]),$(e).css("background-image",'url("'+t+'")'),!e._babBck&&e.attributes.style&&(e._babBck=!0,attributeObserver(e,e.attributes.style)))}},restore:function(e,t,n,a,r,i){"srcset"==t.nodeName.toLowerCase()?this.replacer(t,$.map(a,function(e){return e.content}),null,null,null,i,n):this.replacer(t,a[0].content,null,null,null,i,n)}},replacedImages={},BLANK_REGEX=/\b(blank|empty)\b\.(gif|png|jpe?g)$/i,CLOUDINARY_REGEX=/cloudinary/,UrlEngine,reverseKeywordByLocale,keywordsByLocale,oF,pF,qF,Bidi,isSafari,detectBrowserLocale,pageUri,normalizedCurrentPath,normalizeSomePath,doesSupportAjaxReplace,LocaleSettings,WidgetSettings,bablicDTO,getCurrentOtherDomain;oF=/\.(jpe?g|png|zip|apk|crx|rar|z7|tar|gz|mp3|avi|mpeg|bmp|wav|pdf|docx?|xml|xlsx?|kml|svg|eot|woff|woff2|pptx?|txt|rtf|mp4)$/i,pF=DOC.createElement("A"),qF={IFRAME:1,SOURCE:1},UrlEngine=Engines[4]={index:4,name:"url",qualifier:function(e,t,n,a){if(1!=e.nodeType)return null;if(a&&"ignore"==a.url)return null;var r,i,o,l,c,s=e.tagName;if("A"==s&&e.attributes.href&&""!==e.attributes.href.value&&"#"!=e.attributes.href.value[0]){if("alternate"==e.getAttribute("rel"))return null;r=e;try{r.href}catch(e){return null}}else if(qF[s]&&e.src)pF.setAttribute("href",e.src),r=pF,c=!0,o="IFRAME"===s;else if("FORM"==s&&e.getAttribute("action"))pF.setAttribute("href",e.getAttribute("action")),r=pF,i=!0;else{if("META"!=s||"og:url"!=e.getAttribute("property"))return null;pF.setAttribute("href",e.getAttribute("content")),r=pF,l=!0}if(HasTextMarkup){var u=bablic.integrateI18n.parse(r.href);if(u&&1===u.length){var d=u[0],b=d.attributes.key;return r.setAttribute("href",d.content),[{id:bablicHash(d.content+"_"+b),content:d.content,oVal:{form:i,frame:o,src:c,abs:d.content.includes("//"),m:l}}]}}var f=r.hostname,p=LDATA.localeDetection||LDATA.locale_detection,g=!1,h=!1;switch(r.protocol){case"tel:":case"callto:":case"sms:":case"mailto:":h=!0;break;case"http:":case"https:":g=!isInDomain(r.hostname),i||c||l||!r.getAttribute("download")&&!oF.test(r.pathname)||(h=!0);break;default:return null}var m=!1;if("custom"==p&&bablic.originalLocale&&bablic.originalLocale.url&&0==bablic.originalLocale.url.indexOf(r.hostname)&&"#language"!==r.hash&&(g=!1,f="",m=!0),g||h){var v=r.getAttribute("href"),y=f+getPathname(r)+(r.search||"");WIN.BABLIC_RESTORE?(v=BABLIC_RESTORE(v),y=BABLIC_RESTORE(y)):WIN.BABLIC_R&&(v=v.replace(BABLIC_R,BABLIC_V),y=y.replace(BABLIC_R,BABLIC_V));var _=["origin"];f.indexOf("youtu")>-1&&_.push("widgetid","widget.referrer");for(var A=0;A<_.length;A++){var T=RegExp("&"+_[A]+"=[^&=]*","i"),L=RegExp("\\?"+_[A]+"=[^&=]*&?","i");v=v.replace(T,"").replace(L,"?"),y=y.replace(T,"").replace(L,"?")}return[{id:bablicHash(y),content:v,oVal:{form:i,frame:o,src:c,abs:!0,m:l}}]}if(a&&"switch"in a)return null;if("#"==r.getAttribute("href")[0])return null;var E=getPathname(r)+(r.search||""),C=!1,S=!1;if("subdir"!=p||bablic.preview)"subdomain"==p&&isInDomain(r.hostname)||m?(C=!0,S=!0):(WIN.BABLIC_REPLACE&&BABLIC_REPLACE(r.href)!=r.href&&(S=!0),"querystring"!=p||LDATA.ajaxWidget||bablic.noUrl||(E=E.replace(/[?&]locale=\w\w?\w(_\w\w)?/,"").replace(/\?$/,""),S=!0));else{if(r.hostname!=LOC.hostname)return null;if(r.protocol!=LOC.protocol)return null;var D=bablic.folders?Object.keys(bablic.folders):LDATA.localeKeys,x=RegExp("^"+escapeRegex(bablic.subDirBase||"")+"(\\/(?:"+D.join("|")+"))*\\/").exec(E);x&&(E=E.replace(x[0],"/")),S=!0}var N=E,O=r.hostname&&getCurrentOtherDomain(r.hostname);O&&(N="@"+O.toLowerCase()+"@"+E,E=WIN.BABLIC_RESTORE?BABLIC_RESTORE(r.hostname)+E:r.hostname+E);var w=[{id:bablicHash(N),content:E,oVal:{form:i,frame:o,src:c,abs:C,m:l,href:r.getAttribute("href")}}];return S&&w.push({content:""}),w},replacer:function(e,t,n,a){var r,i=t[0],o=n[0].oVal;if(r=o.src||o.form||o.m?pF:e,!i||n[0].content&&i===n[0].content||(r.hash&&-1==i.indexOf("#")&&(i+=r.hash),r.setAttribute("href",i),i.indexOf("://")>-1&&(o.abs=!0)),n.length>1){var l=LDATA.localeDetection||LDATA.locale_detection;if(WIN.BABLIC_REPLACE&&"subdomain"!=l&&"custom"!=l)if(r.protocol!=LOC.protocol&&WIN.top.VisualEditor){var c=r.hostname,s=r.protocol,u=getPathname(r)+r.search+r.hash;r.addEventListener("click",function(e){e.preventDefault(),top.VisualEditor.redirectTop({protocol:s,domain:c,path:u})})}else r.href=BABLIC_REPLACE(r.href);else{var d=bablic.getLink(a.key,r.hostname,r.href);if(r.getAttribute("href").indexOf("://")>-1)r.href=d;else{var b=parseURL(d);b.protocol===r.protocol&&b.hostname===r.hostname?r.href=b.pathname+b.query+b.hash:r.href=d}}}if(!o.form&&!o.src&&!o.m)return null;var f="SOURCE"===e.tagName?e.parentElement:null,p=o.form?"action":o.m?"content":"src";if(o.abs)if(o.frame)if(bablic.recreateIframes){if(e._babRepFrame)e._babRepFrame.style.setProperty("display",""),e._babRepFrame.src!==r.href&&e._babRepFrame.setAttribute(p,r.href);else{for(var g=document.createElement("IFRAME"),h=0;h<e.attributes.length;h++)if(e.attributes[h].name!=p)try{g.setAttribute(e.attributes[h].name,e.attributes[h].value)}catch(e){}g.setAttribute(p,r.href),e.parentElement.insertBefore(g,e),e._babRepFrame=g}e.style.setProperty("display","none","important")}else try{e.contentWindow.location.replace(r.href)}catch(t){e.setAttribute(p,r.href)}else{var m=!1;if(f&&!1===f.paused){try{f.pause()}catch(e){}m=!0}if(e.setAttribute(p,r.href),f)try{f.load(),m&&f.play()}catch(e){}}else e.setAttribute(p,getPathname(r)+(r.search||"")+(r.hash||""))},restore:function(e,t,n,a,r){if(a[0].oVal.src){if(a[0].oVal.frame&&t._babRepFrame)return t._babRepFrame.style.setProperty("display","none","important"),void t.style.setProperty("display","");pF.setAttribute("href",t.src)}else a[0].oVal.form&&pF.setAttribute("href",t.getAttribute("action"));var i=a[0].oVal.href||a[0].content,o=$.map(a,function(e,t){return{oVal:e.oVal,content:r[t],id:e.id}});this.replacer(t,[i],o,originalLocale)}},function(){var e,t=/url\(\s*['"]?(.+?)['"]?\s*\)/g,n=/(squarespace|shopifycdn)\.com/,a=/googleapis\.com|gravatar\.com|typekit/i,r=!1,i=!1,o=!1,l=null,c=0;isSafari=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);var s=WIN.CSS2Properties?CSS2Properties:CSSStyleDeclaration;function u(e){var t=parseURL(e),n=t.hostname==LOC.hostname&&-1==e.indexOf("//")?e.substring(0,e.lastIndexOf("/")+1):"//"+t.hostname+t.pathname.substring(0,t.pathname.lastIndexOf("/")+1);return function(e){return a=t,r=n,e.replace(/url\(\s*['"]?(.+?)['"]?\s*\)/g,function(e,t){return t.indexOf("//")>-1?e:0==t.indexOf("data:")?e:"/"==t[0]?"url('//"+a.hostname+t+"')":"url('"+r+t+"')"});var a,r}}function d(e,t){return e&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,t)||d(e.__proto__,t):null}function b(e,t,n,a){try{var r=d(e,t);if(r){if(!1===r.configurable)return!1;var i=r.get,o=$.extend({},r);return r.get=function(){return n.call(this,i)},Object.defineProperty(e,t,r),Object.defineProperty(e,"_bab"+t,o),!0}var l=e.__lookupGetter__&&e.__lookupGetter__(t);if(l){return e.__defineGetter__(t,function(){return n.call(this,l)}),e.__defineGetter__(t,"_bab"+l),!0}if(a){try{if(Object.getOwnPropertyDescriptor)return Object.defineProperty(e,t,{get:n,configurable:!0}),!0}catch(e){}return e.__defineGetter__(t,n),!0}}catch(e){bablic.error("error overriding "+t+" "+e.message)}}function f(e,t){try{if(Object.defineProperties)Object.defineProperties(e,t);else if(e.__defineGetter__)for(var n in t)if(e.__defineGetter__(n,t[n].get),e.__defineSetter__(n,t[n].set),e.__lookupGetter__(n)!=t[n].get)return!1}catch(e){}}Bidi=Engines[5]={index:5,name:"bidi",qualifier:function(e,t,n,r){if(i)return r&&"false"===r.bidi||"SVG"==e.tagName?(1==e.nodeType&&this.exclude(e),null):1==e.nodeType&&e.attributes.dir&&e.attributes.dir.value!=n.dir&&"HTML"!=e.tagName&&"BODY"!=e.tagName?(this.exclude(e),null):e.className&&e.className.indexOf&&e.className.indexOf("bablic")>-1?null:e.id&&e.id.indexOf&&e.id.indexOf("bablic")>-1?null:1==e.nodeType&&"LINK"==e.tagName&&"stylesheet"==(e.getAttribute("rel")||"").toLowerCase()&&-1==(e.className||"").indexOf("bablic")&&-1==(e.id||"").indexOf("bablic")?a.test(e.href)?null:e._babQ?null:(e._babQ=!0,{content:"",id:""}):1==e.nodeType&&"STYLE"==e.tagName&&-1==(e.className||"").indexOf("bablic")&&-1==(e.id||"").indexOf("bablic")?!e._babQ||"number"==typeof e._babQ&&e._babQ!==e.innerHTML.length?(e._babQ=!0,delete e._babRestored,{content:"",id:""}):null:(1==e.nodeType&&this.element(e),null)},replacer:function(e){if("LINK"!=e.tagName||e.sheet||e._br){if(!1!==e._babRestored){var t=function(e,t,n){var i=[],o=0;if(e=e.replace(/@import\s+(?:(?:url\(\s*["']?)|"|')(.+?)(?:(?:["']?\s*\))|"|')(?:\s+([^;]*?))?;/g,function(n,l,c){if(a.test(l))return n;var s="__REPLACE"+o+++"__";return i.push(function(n){r(l,function(a){if(t){var r=(i=a,(o=DOC.createElement("STYLE")).setAttribute("bablic-exclude",""),o.setAttribute("type","text/css"),o.setAttribute("media","print"),W(o,i),o.sheet&&o.sheet.cssRules||DOC.head.appendChild(o),o);a=B(r.sheet),r.parentNode&&r.parentNode.removeChild(r)}var i,o;e=e.replace(s,c?"@media "+c+"{"+a+"}\n":a+"\n"),n()})}),s}),!i.length)return n(e);parallel(i,function(){n(e)})},r=function(e,a){var r=parseURL(e),i=u(e),o=function(e){e=i(e),t(e,!1,a)};if(n.test(r.href)||LocalDB.getSync("cors-"+r.href))return ajaxGet("//e2.bablic.com/api/engine/access?url="+encodeURIComponent(r.href),null,o,function(){o("")},!1,2);ajaxGet(r.href,null,o,function(){ajaxGet("//e2.bablic.com/api/engine/access?url="+encodeURIComponent(r.href),null,o,function(){o("")},!1,2),LocalDB.setSync("cors-"+r.href,"1")},!1,2)},i="STYLE"==e.tagName?e:e._babBidid;if(i){var o=B(i.sheet);t(o,!0,function(e){W(i,e),i._babRestored=!1,i._babQ=i.innerHTML.length})}else{var l=e.getAttribute("href");if(l){e.setAttribute("crossorigin","anonymous");var s=!1;try{s=e.sheet&&e.sheet.cssRules}catch(e){}if(s){var d=DOC.createElement("STYLE");d.setAttribute("bablic-exclude",""),d.setAttribute("type","text/css"),d.setAttribute("data-source",e.getAttribute("href"));var b=e.getAttribute("media");b&&d.setAttribute("media",b);o=u(l)(B(e.sheet));t(o,!0,function(t){e.parentNode&&(W(d,t),d._babRestored=!1,e._babBidid=d,e.setAttribute("media","print"),e.parentNode.insertBefore(d,e))})}else if(!e.bablicLoading){e.bablicLoading=!0;var f=bablic.hidden;f&&setHidden(!0);var p=e.parentElement.tagName,g="HEAD"===p||"BODY"===p;r(l,function(t){var n=DOC.createElement("STYLE");n.setAttribute("bablic-exclude",""),n.setAttribute("type","text/css"),n.setAttribute("data-source",e.getAttribute("href")),n.setAttribute("media","print"),W(n,t),n._babRestored=!1,e._babBidid=n;var a=e.getAttribute("media");e.parentNode&&(g?e.parentNode.insertBefore(n,e):DOC.body.appendChild(n),e._br=!0,g?e.parentNode.removeChild(e):e.setAttribute("media","print"),W(n,B(n.sheet)),a?n.setAttribute("media",a):n.removeAttribute("media"),f&&setHidden(!1))})}}}}}else{var h=e._babRev=++c;e.addEventListener("load",function(){h===e._babRev&&Bidi.replacer(e)})}},restore:function(e,t){var n="STYLE"==t.tagName?t:t._babBidid;if(n){if(!1===n._babRestored){var a=function e(t){var n=[];try{for(var a=0;a<t.cssRules.length;a++){var r=t.cssRules[a],i=r.type;switch(i){case 1:if(r.selectorText.indexOf(":not([data-x-bidi]")>-1)break;var o=r.selectorText.replace(/\s:not\(\.bab\-stam\)/g," *").replace(/\s\[data\-x\-bidi\]/g," *").replace(/:not\(\.bab\-stam\)/g,"").replace(/\[data\-x\-bidi\]/g,"").split(/\s*,\s*/).map(function(e){return e||"*"}).join(",");n.push(o+"{"+P(r)+"}");break;case 4:var l=r.conditionText||(r.media?r.media.mediaText:"");if(!l)return k(r);n.push("@media "+l+"{"+e(r)+"}");break;case 12:n.push("@supports "+r.conditionText+"{"+e(r)+"}");break;case 13:n.push("@document "+r.conditionText+"{"+e(r)+"}");break;case 7:var c=r.name;if(c.indexOf("-bablic-bidi")>-1)break;default:n.push(k(r))}}}catch(e){bablic.error(e)}return n.join("\n")}(n.sheet);n._babRestored=!0,W(n,a)}}else t._babRev=++c},element:function(t){t._babBidi||(t.attributes.style&&w(t.style),o||e(t,!0),t._babBidi=!0)},exclude:function(t){t.setAttribute("data-x-bidi",""),t._babBidi&&(delete t._babBidi,o||e(t,!1),t.attributes.style&&w(t.style))},activate:function(){if(r){for(var t=DOC.querySelectorAll("[style]:not([data-x-bidi])"),n=0;n<t.length;n++)t[n].getAttribute("bablic-exclude")?Bidi.exclude(t[n]):Bidi.element(t[n]);i=!0}else{i=!0,r=!0;var a=!1,l=!1,c=!1,u=!!WIN.MutationObserver,p=WIN.Symbol&&WIN.Symbol.iterator;if(o=b(HTMLElement.prototype,"style",function(e){var t=e.apply(this);return!a&&i&&this._babBidi?new $(t):(i&&(t._babParent=this),t)}))try{if(Object.defineProperties){var g=d(s.prototype,"left");g&&!1===g.configurable?a=!1:(g={configurable:!0,get:function(){return this.getPropertyValue("left")},set:function(e){return this.setProperty("left",e)}},Object.defineProperty(s.prototype,"left",g),a=d(s.prototype,"left").get==g.get)}if(a){var h=d(s.prototype,"cssText");h&&(!1===h.configurable?a=!1:Object.defineProperty(s.prototype,"cssText",{configurable:!0,get:function(){if(!i||!this._babParent||!this._babParent._babBidi)return h.get.call(this);var e=this;return Array.from(this).map(function(t){var n=e.getPropertyPriority(t);return t+":"+e.getPropertyValue(t)+(n?"!"+n:"")}).join(";")},set:function(e){if(!i||!this._babParent||!this._babParent._babBidi)return h.set.call(this,e);var t=this,n=[],a=function(e){return n.push(e),"_bk_"},r=function(e){return e.replace(/_bk_/g,function(){return n.shift()})};(e=e.replace(/url\(.*?\)/gi,a).replace(/".*?"/g,a).replace(/'.*?'/g,a)).split(";").forEach(function(e){var n=(e=e.trim()).split(":"),a=n[0],i=n[1];if(a=r(a.trim())){var o=(n=(i=i||"").split("!"))[1];i=r(n[0]),t.setProperty(a.trim(),i.trim(),o)}})}}))}if(!a){var m=s.prototype.__lookupGetter__("width");m&&(s.prototype.__defineGetter__("width",function(){}),s.prototype.__lookupGetter__("width")!=m&&(l=!0,s.prototype.__defineGetter__("width",m)))}}catch(e){}else try{var v=DOC.createElement("div"),y={};l=b(v,"style",function(){return y},!0),v.style==y&&(l=!0),l||(v.style=y,v.style==y&&(c=!0))}catch(e){}if(!(a||l||c||u))return i=!1,void(r=!1);var _=!a&&!l&&!c;a?bablic.log("BIDI: will override css attributes globaly"):l||c?bablic.log("BIDI: will override css attributes per element"):bablic.log("BIDI: will observe style attribute changes");var T=s.prototype.setProperty;s.prototype.setProperty=function(e,t,n,a){if(!i||o&&!this._babParent||this._babParent&&!this._babParent._babBidi)return n?T.call(this,e,t,n):T.call(this,e,t);_&&(this._babOrig=this._babOrig||{},this._babOrig[e]=t),isSafari&&"left"==e&&(this._babParent||a)&&(this._babParent||a)==DOC.body&&(this._babRight=t,t="0");var r=O(e=A(e),t);return n?T.call(this,e,r,n):T.call(this,e,r),t};var L=s.prototype.getPropertyValue;s.prototype.getPropertyValue=function(e,t){if(!i||o&&!this._babParent||this._babParent&&!this._babParent._babBidi)return L.call(this,e);if(isSafari&&"left"==e&&(this._babParent||t)&&(this._babParent||t)==DOC.body)return this._babRight||"";e=A(e);var n=L.call(this,e);return n=O(e,n)},s.prototype._getProp=L;var E=s.prototype.getPropertyPriority;s.prototype.getPropertyPriority=function(e){return!i||o&&!this._babParent||this._babParent&&!this._babParent._babBidi?E.call(this,e):E.call(this,A(e))};var C,S,D=s.prototype.removeProperty;s.prototype.removeProperty=function(e){return!i||o&&!this._babParent||this._babParent&&!this._babParent._babBidi?D.call(this,e):D.call(this,A(e))};try{var x=["left","right","padding","margin","float","text-align","padding-left","padding-right","margin-left","margin-right","border-radius","border-left","border-left-color","border-left-style","border-left-width","border-right","border-right-color","border-right-style","border-right-width","border-top-left-radius","border-top-right-radius","border-bottom-left-radius","border-bottom-right-radius","text-align-last"],N=(C=WIN.getComputedStyle(DOC.documentElement,""),S=(Array.prototype.slice.call(C).join("").match(/-(moz|webkit|ms)-/)||""===C.OLink&&["","o"])[1],{dom:"WebKit|Moz|MS|O".match(new RegExp("("+S+")","i"))[1],lowercase:S,css:"-"+S+"-",js:S[0].toUpperCase()+S.substr(1)});["transform","transform-style","transform-origin","transition","transition-property"].forEach(function(e){x.push(e),N.lowercase&&x.push(N.css+e)});var w={float:["cssFloat"]},I=x.length;for(n=0;n<I;n++){var R=x[n],k=R.split("-");if(k.length>1){var M=k.shift()+k.map(function(e){return e[0].toUpperCase()+e.substr(1)}).join("");w[R]=[M],"-"==R[0]&&(M=k.shift()+k.map(function(e){return e[0].toUpperCase()+e.substr(1)}).join(""),w[R].push(M))}}var P={};if(x.forEach(function(e){P[e]=1}),a){var B={};x.forEach(function(e){var t={get:function(){return this.getPropertyValue(e)},set:function(t){this.setProperty(e,t+"")},configurable:!0};B[e]=t,e in w&&w[e].forEach(function(e){B[e]=t})}),f(s.prototype,B)}else if(l||c){var W=DOC.createElement("div"),$=function(e){this.s=e};for(var U in p&&($.prototype[Symbol.iterator]=function(){var e=0;return{next:function(){return{value:this.s[++e],done:!(e in this.s)}}}}),s.prototype){try{if("function"!=typeof s.prototype[U])continue}catch(e){continue}$.prototype[U]=s.prototype[U]}var H={};for(var U in W.style)"function"!=typeof W.style[U]&&(H[U]=function(e){if(e in P){var t={get:function(){return this.s.getPropertyValue(e)},set:function(t){this.s.setProperty(e,t+"")},configurable:!0};return R in w&&w[R].forEach(function(e){H[e]=t}),t}return"length"==e?{get:function(){var e=this.s.length;this._babItr=this._babItr||0;for(var t=this._babItr;t<e;t++)b(this,t+"",function(e){return function(){return this.s[e]}}(t),!0);return e},configurable:!0}:{get:function(){return this.s[e]},set:function(t){this.s[e]=t},configurable:!0}}(U));f($.prototype,H),e=function(e,t){if(t){e._babStyl||(e.style._babParent=e,e._babStyl=new $(e.style));var n=e._babStyl;l?b(e,"style",function(){return n},!0):c&&(e.style=n)}else{if(!e._babStyl)return;l?b(e,"style",function(){return e._babStyl.s},!0):c&&(e.style=e._babStyl.s)}}}else if(u){var j={attributes:!0,attributeFilter:["style"]};e=function(e,t){if(t)e._babObs||(e._babObs=new WIN.MutationObserver(function(){for(var t=[],n=0;n<e.style.length;n++){var a=e.style[n];if(a in P){var r=e.style[a],i=e.style._babOrig?e.style._babOrig[a]:"";i!=r&&t.push([a,r,i])}}if(t.length){e._babObs.disconnect();for(n=0;n<t.length;n++)e.style[t[n][0]]=t[n][2],e.style.setProperty(t[n][0],t[n][1],void 0,e);e._babObs.observe(e,j)}}),e._babObs.observe(e,j));else{if(!e._babObs)return;e._babObs.disconnect()}}}}catch(e){bablic.error("Error overriding CSS style attributes "+e.message)}var F=Element.prototype.getBoundingClientRect;Element.prototype.getBoundingClientRect=function(){var e=F.call(this);if(!i||!this._babBidi)return e;var t=DOC.documentElement.offsetWidth;return e?{top:e.top,bottom:e.bottom,width:e.width,height:e.height,left:t-e.right,right:t-e.left}:e},Element.prototype._babgetBoundingClientRect=F,b(HTMLElement.prototype,"offsetLeft",function(e){var t=e.apply(this);if(!i||!this._babBidi)return t;var n=this.offsetParent;return(n?n.clientWidth:DOC.documentElement.clientWidth)-this.clientWidth-t});var G=WIN.getComputedStyle;bablic.getStyle=G,WIN.getComputedStyle=function(e){var t=G.apply(this,arguments);return i&&e&&e._babBidi?(t._babParent=e,t):t},b(MouseEvent.prototype,"pageX",function(e){var t=e.apply(this);return i?DOC.documentElement.clientWidth-t:t}),b(MouseEvent.prototype,"clientX",function(e){var t=e.apply(this);return i?DOC.documentElement.clientWidth-t:t})}},deactivate:function(){i=!1;for(var t=DOC.querySelectorAll("[style]"),n=0;n<t.length;n++)t[n]._babBidi&&(delete t[n]._babBidi,o||e(t[n],!1),w(t[n].style))},setDir:function(e){var t=originalLocale.dir||"ltr";if(e!=(l=l||t)){var n=targetLocale.engines.includes(5);if(e!=t){if(!i&&n){this.activate();var a="html{direction:"+e+';} polyline{transform: scale(-1,1);transform-origin: 50% 50%;} .bidi-flip{transform: scale(-1,1);transform-origin: 50% 50%;}[bablic-exclude],[data-bablic-exclude],[data-bablic-bidi="false"],[bablic-bidi="false"]{direction:'+t+';} [bablic-include],[data-bablic-include],[data-bablic-bidi="true"],[bablic-bidi="true"]{direction:'+e+";} [dir=ltr]:not([data-x-bidi]){ direction:rtl;} [dir=rtl]:not([data-x-bidi]){ direction:ltr;}",r=$.byId("bablic_rtl_css");r.length()?r.html(a):(setHidden(!0,!0),$.byTag("head").append("<style type='text/css' id='bablic_rtl_css' bablic-exclude>"+a+"</style>"),bablic.on("translated",function(){setHidden()}))}n||$.byId("bablic_rtl_css").html("")}else i&&this.deactivate(),$.byId("bablic_rtl_css").html("html{direction:"+e+";}");l=e}}};var p=/[Ll]eft|[Rr]ight/,g={left:"right",right:"left",Left:"Right",Right:"Left"},h=/([\-0-9.]+(?:px|em|pt|%|)|auto)[\s\t\n\r]+([\-0-9.]+(?:px|em|pt|%|)|auto)[\s\t\n\r]+([\-0-9.]+(?:px|em|pt|%|)|auto)[\s\t\n\r]+([\-0-9.]+(?:px|em|pt|%|)|auto)/gi,m=/transform/i,v=/transform-origin/i,y=/translate(X|3d)?\(\s*(\-)?([0-9\.]+)/,_=/rotate(X)?\(\s*(\-)?([0-9\.]+)/;function A(e){return e.replace(p,function(e){return g[e]})}var T={};function L(e,t){for(var n=0;n<t.length;n++){var a=t[n][0],r=t[n][1];if(-1!=e.lastIndexOf(a))return e.replace(RegExp(escapeRegex(a),"g"),r)}return e}var E=[["left","right"],["next","previous"],["prev","next"]],C=/[<>\(\)\[\]\{\}]/g,S={">":"<","<":">","(":")",")":"(","[":"]","]":"[","{":"}","}":"{"},D=/^\s*(?:(?:"([^"]+)")|(?:'([^']+)'))\s*$/;var x=/^[\-0-9.]+%/,N=/^[\-0-9.]+(px|pt|cm|in|em|rem|vw|vh)/;function O(e,n,a,r){if("string"!=typeof n)return n;if("direction"==e)return"ltr"==n?"rtl":"rtl"==n?"ltr":n;if("margin"==e||"padding"==e)return n.replace(h,"$1 $4 $3 $2");if("border-radius"==e)return n.replace(h,"$2 $1 $4 $3");if("content"==e)return function(e,t,n){if(!e)return e;var a=D.exec(e);if(!a)return e;var r=a[1]||a[2];if(isSafari||r.length>1&&"\\"!=r[0])return e.replace(C,function(e){return S[e]});if(!t)return e;for(var i=t.split("{")[0].trim(),o=[],l=0;l<E.length;l++){var c=E[l],s=L(i,[c,[c[1],c[0]]]);if(s!=i){if(s in T)return T[s];o.push(s)}}if(!n)return e;for(l=0;l<o.length;l++){var u=o[l],d=$.grep(n,function(e){return e.selectorText==u})[0];if(d){var b=d.style.content;if(b&&(a=D.exec(b))&&!((r=a[1]||a[2]).length>1&&"\\"!=r[0]))return T[i]=e,T[u]=b,b}}return e}(n,a,r);if(!isSafari&&"background-position-x"==e){if(n=n.trim(),x.test(n))return 100-Number(n.substr(0,n.length-1))+"%";if(N.test(n))return"calc(100% - "+n+")"}if(!isSafari&&"background-position"==e){var i=(n=n.trim()).split(/\s+/);if(x.test(n)){var o=i[0],l=i[1]||i[0];return 100-Number(o.substr(0,o.length-1))+"% "+l}if(N.test(n))return"calc(100% - "+i[0]+") "+i[1]}if("animation-name"==e||"animation"==e){var c=n.split(/\s+/);return[c.shift()+"-bablic-bidi"].concat(c).join(" ")}if(v.test(e)){i=(n=n.trim()).split(/\s+/);if(x.test(n)||0===parseFloat(i[0])){o=i[0];return i[0]=100-parseFloat(o)+"%",i.join(" ")}}else if(m.test(e))return n.replace(y,function(e,t,n,a){return"translate"+(t||"")+"("+(n||"0"==a?"":"-")+a}).replace(_,function(e,t,n,a){return"rotate"+(t||"")+"("+(n||"0"==a?"":"-")+a});var s=[];return n.replace(t,function(e){return s.push(e),"__SAVE__"}).replace(p,function(e){return"left"==e?"right":"left"}).replace(/__SAVE__/g,function(){return s.shift()})}function w(e){for(var t=[],n={},a=e.length-1;a>=0;a--){var r=e[a],i=e[r],o=A(r),l=O(r,i);if(r!=o){t.push(r);var c=e.getPropertyPriority(r);n[o]=[l,c]}else l!=i&&(e[r]=l)}for(var r in t.forEach(function(t){e.removeProperty(t)}),n)e.setProperty(r,n[r][0],n[r][1])}var I={"background-repeat-y":["background-repeat-x","background-repeat"],"background-position-y":["background-position-x","background-position"]};function R(e,t,n){for(var a=[],r=!1,i={},o=e.length-1;o>=0;o--){var l=e[o];if(!(l in i)){var c=e[l];if(isSafari&&"unset"!=c&&"initial"!=c&&l in I){var s=I[l][1],u=I[l][0],d=e[u];d&&"unset"!=d&&"initial"!=d&&(i[u]=!0,l=s,c=c+" "+d)}var b=A(l),f=O(l,c,t,n);r||(f!=c||isSafari&&-1==l.indexOf("-")&&"initial"==c?r=!0:b!=l&&e[l]!=e[b]&&(r=!0));var p=e.getPropertyPriority(l)?" !important":"";if("content"==b&&1==f.length){var g=f.charCodeAt(0);g>255&&(f="\\"+g.toString(16),isSafari&&(f='"'+f+'"',r=!0))}a.push(b+":"+f+p+";")}}return r?a.join(" "):null}function k(e){try{return e.cssText||(e.getCssText?e.getCssText():"")}catch(t){switch(e.type){case 7:return"@keyframes "+e.name+"{"+$.map(e.cssRules,function(e){return e.keyText+" {"+e.style.cssText+"}"})+"}";case 8:return e.keyText+" {"+e.style.cssText+"}"}}}var M=/\{(.+)\}/;function P(e){if(isSafari){for(var t=!1,n=!1,a=0;a<e.style.length;a++){var r=e.style[a];if("initial"==e.style[r]&&-1==r.indexOf("-")&&(t=!0),"content"==r&&(n=!0),t&&n)break}if(t||n){var i=[];for(a=0;a<e.style.length;a++){r=e.style[a];var o=e.style.getPropertyPriority(r)?" !important":"",l=e.style[r];"content"==r&&1==l.length&&(l=l.charCodeAt(0)>255?'"\\'+l.charCodeAt(0).toString(16)+'"':'"'+l+'"'),i.push(r+":"+l+o+" ;")}return i.join("\n")}}var c=k(e),s=M.exec(c);return s?s[1]:""}function B(e){if(!e.cssRules)return"";var t=[];try{for(var n=0;n<e.cssRules.length;n++){var r=e.cssRules[n];switch(r.type){case 1:var i=R(r.style,r.cssText,e.cssRules),o=$.grep(r.selectorText.split(",").map(function(e){return e.trim()}),function(e){return e}),l=[],c=[],s=[];if(o.forEach(function(e){var t=$.grep(e.split(/\s+/),function(e){return e}),n=t.pop(),a=[],r=n.replace(/\[.*?\]/g,function(e){var t=[];return a.push(e.replace(/"[^"]"/g,function(e){return t.push(e),"__QUOTE__"}).replace(/\\?:/g,"\\:").replace("__QUOTE__",function(){return t.shift()||'""'})),"__ATTR__"}).split(":").map(function(e){return e.replace(/__ATTR__/g,function(){return a.shift()||""})}),o=r.shift();if(i){var u=[o+"[data-x-bidi]"].concat(r).join(":");l.push([].concat(t,[u]).join(" "));var d=[o+":not([data-x-bidi])"].concat(r).join(":");c.push([].concat(t,[d]).join(" "))}else{var b=[o+":not(.bab-s)"].concat(r).join(":");s.push([].concat(t,[b]).join(" "))}}),!i){t.push(s.join(",")+"{"+P(r)+"}");break}t.push(l.join(",")+"{"+P(r)+"}"),t.push(c.join(",")+"{"+i+"}");break;case 3:var d=r.sheet||r.styleSheet,b=!1;try{b=d.cssRules}catch(e){}if(a.test(r.href)||!b){t.push(r.cssText);break}var f=u(r.href)(B(d));if(r.media&&r.media.mediaText){t.push("@media "+r.media.mediaText+"{"+f+"}");break}t.push(f);break;case 4:var p=r.conditionText||(r.media?r.media.mediaText:"");if(!p)return k(r);t.push("@media "+p+"{"+B(r)+"}");break;case 12:t.push("@supports "+r.conditionText+"{"+B(r)+"}");break;case 13:t.push("@document "+r.conditionText+"{"+B(r)+"}");break;case 7:var g=r.name;t.push(k(r));var h=Array.prototype.map.call(r.cssRules,function(e){return R(e.style)?(!0,e.keyText+" {"+R(e.style)+"}"):k(e)}).join(" ");t.push("@keyframes "+g+"-bablic-bidi{"+h+"}");break;default:t.push(k(r))}}}catch(e){bablic.error(e)}return t.join("\n")}function W(e,t){bablic.setMutationListen(!1);try{e.innerHTML=t}catch(a){var n=DOC.createTextNode();for(setNodeValue(n,t);e.firstChild;)e.removeChild(e.firstChild);e.appendChild(n)}bablic.setMutationListen(!0)}}();var explicitPage=bablic.page,_d1="defaul",_s1="switc",myDiv,send_usage_report,send_ldata_report,setZIndex,runHeadEngines,siteConfReceived,translationReceived,fetchSequence,parallel,parallelEach,getConf,getPageTranslations,onReady,locale,locales,targetLocale,originalLocale,MOBILE,ping,nonBlocking;!function(bablic){var DEFAULT=_d1+"t",SWITCH=_s1+"h";bablic.version=3.9;var GMG="57b42c866d5421b850514257"==bablic.Site;GMG?(bablic.dedicated="d3haa487u26i72.cloudfront.net",bablic.version=3.7,document.body?($.byClass("short-description").attr("bablic-block","").attr("bablic-tags",""),$(".short-description > span").attr("bablic-block",!0).attr("bablic-tags","short-description")):setTimeout(function(){onReady(function(){$.byClass("short-description").attr("bablic-block","").attr("bablic-tags",""),$(".short-description > span").attr("bablic-block",!0).attr("bablic-tags","short-description")})}),excludeByCode(".m-list,.m-users")):"59da565df08d6b3ec72fcc50"==bablic.Site&&(bablic.dedicated="d3haa487u26i72.cloudfront.net");var IGNORE=/^\/wp\-(login|admin)/i;bablic.getLocale=function(){return bablic.locale};var isBot=function(){return navigator&&navigator.userAgent&&/bot|crawler|yandex|bing|baidu|spider|facebook|twitter|80legs|google|seo/i.test(navigator.userAgent)};function getCurrentSubDomain(){var e=LDATA&&LDATA.mountSubs&&LDATA||bablic.conf||bablic.data||{},t=e.domain,n=e.mountSubs;if(!t||!n)return"";var a=t.indexOf("/");a>-1&&(t=t.substr(0,a));var r=e.locales&&$.map(e.locales,function(e){return e.key})||e.localeKeys,i=LOC.hostname;return WIN.BABLIC_RESTORE?i=BABLIC_RESTORE(i):WIN.BABLIC_R&&(i=i.replace(BABLIC_R,BABLIC_V)),getSubDomain(i,t,r,n)}bablic.detectLocale=function(e,t){t=t||{};var n=(e=e||LDATA||bablic.conf)||bablic.data||{},a=PROXY?"subdomain":bablic.localeURL||n.localeDetection;if(!a)return null;var r=parseURL("http://"+pageUri()),i=bablic.customUrls||n.customUrls||{};if(e&&!bablic.customUrls)for(var o=0;o<e.locales.length;o++)i[e.locales[o].key]=e.locales[o].url;var l=e&&e.locales&&$.map(e.locales,function(e){return e.key})||n.localeKeys,c=n.orig||n.original||bablic.original;l&&l.push(c);var s=null;if(!1!==n.autoDetect&&!t.bare&&!nonBlocking&&l&&!isBot()){var u=detectBrowserLocale(!0);for(o=0;o<u.length;o++){if(l.indexOf(u[o])>-1){s=u[o];break}var d=$.grep(u,function(e){return e[0]==u[o][0]&&e[1]==u[o][1]&&l.indexOf(e)>-1});if(d.length){s=d[0];break}for(var b=0;b<l.length;b++)if(l[b][0]==u[o][0]&&l[b][1]==u[o][1]){s=l[b];break}if(s)break}}var f=bablic.locale,p=bablic.cookie&&bablic.cookie.getCookie("wixLanguage");"custom"==a&&p&&p!=f&&(f=p);var g=t.bare?getLocaleByURL(r,a,i):getLocaleByURL(r,a,i,bablic.locale,n[DEFAULT]||c,s,bablic.proxy,bablic.explicitLocale,bablic.subDirBase,bablic.folders,l,originalLocale);if(l&&-1==l.indexOf(g)&&!PROXY)for(o=0;o<l.length;o++)if(l[o][0]==g[0]&&l[o][1]==g[1]){g=l[o];break}if((!LDATA||!LDATA.edit)&&LocaleSettings[g]&&LocaleSettings[g].hidden)return findFallbackLocale();if(!LDATA&&!bablic.preview&&t&&t.initial&&!nonBlocking&&g==c&&"custom"==a)if("#language"==location.hash)WIN.history&&WIN.history.replaceState?WIN.history.replaceState(null,null,location.pathname+(location.search||"")):location.hash="";else if(f&&f!=g&&i[f]){if(performRedirect(bablic.getLink(f)))return 0}else if(!f)if(!1!==n.autoDetect&&s&&s!=g&&i[s]){if(performRedirect(bablic.getLink(s)))return 0}else if(!s&&g==c&&n[DEFAULT]&&n[DEFAULT]!=c&&i[n[DEFAULT]]&&performRedirect(bablic.getLink(n[DEFAULT])))return 0;return g},detectBrowserLocale=function(e){if(e)return WIN.navigator.languages&&WIN.navigator.languages[0]?WIN.navigator.languages:[detectBrowserLocale()];var t=WIN.navigator.userLanguage||WIN.navigator.language||WIN.navigator.languages&&WIN.navigator.languages[0];return t?t.replace("-","_").toLowerCase():null},getCurrentOtherDomain=function(e){if(void 0===getOtherDomain)return"";var t=(LDATA&&LDATA.mountSubs&&LDATA||bablic.conf||bablic.data||{}).mountSubs,n=e||LOC.hostname;return WIN.BABLIC_RESTORE?n=BABLIC_RESTORE(n):WIN.BABLIC_R&&(n=n.replace(BABLIC_R,BABLIC_V)),getOtherDomain(n,t)},pageUri=function(e){var t=LOC.pathname+LOC.search+LOC.hash;return t=generateOriginalPath(t,bablic.locale)||t,(e?"":LOC.hostname+LOC.port)+(explicitPage||t)},normalizedCurrentPath=function(e){if(explicitPage)return explicitPage;var t=LDATA||bablic.conf,n=bablic.data||LDATA||bablic.conf||{},a=t&&t.locales&&$.map(t.locales,function(e){return e.key})||n.localeKeys;if(!a)return pageUri(!0)+(e?"__async__":"");var r=getCurrentOtherDomain()||getCurrentSubDomain();return(r=r?"@"+r.toLowerCase().replace(/[.@]/g,"-")+"@":"")+normalizePath(pageUri(!0),bablic.localeURL||n.localeDetection,n.includeQueryString,n.includeHash,n.singlePageApp,a,n.qsParams,n.domain,bablic.subDirBase,bablic.folders)+(e?"__async__":"")},normalizeSomePath=function(e){var t=bablic.data||LDATA||bablic.conf||{},n=LDATA||bablic.conf,a=n&&n.locales&&$.map(n.locales,function(e){return e.key})||t.localeKeys;return a?normalizePath(e,bablic.localeURL||t.localeDetection,t.includeQueryString,t.includeHash,t.singlePageApp,a,t.qsParams,t.domain,bablic.subDirBase,bablic.folders,!0):e},bablic.getCurrentSubDomain=getCurrentSubDomain,bablic.getCurrentOtherDomain=getCurrentOtherDomain,bablic.useLocalDB="boolean"==typeof bablic.useLocalDB&&bablic.useLocalDB,bablic.mutation_listen_off=0,bablic.setMutationListen=function(e){e&&1===bablic.mutation_listen_off?turnObserverOn&&turnObserverOn():e||0!==bablic.mutation_listen_off||turnObserverOff&&turnObserverOff(),bablic.mutation_listen_off+=e?-1:1},bablic.suppress=function(e){bablic.setMutationListen(!1),e(),bablic.setMutationListen(!0)},bablic.translateAttribute=function(e,t){translateAttr(e,t)};var SUB_DIR=/^(\/(\w\w?\w(_\w\w)?))(?:\/|$)/;function generateTranslatedLink(e,t,n,a){var r=parseURL(e);n=n||{};var i=r.protocol||"",o=r.hostname,l=r.pathname||"/";bablic.locale!==t&&(l=generateTranslatedPath(l=generateOriginalPath(l,bablic.locale)||l,t)||l);var c=r.search||"",s=r.hash||"",u=n.returnFull&&!!o;u||o===LOC.hostname&&i===LOC.protocol||(u=!0);var d=a.localeDetection,b=a.original;switch(n.subDir&&(d="subdir"),"custom"!=d||a.customUrls&&a.customUrls[t]||(d="querystring"),d){case"custom":var f=a.customUrls[t];f&&/[?&]locale=([^&]+)/.test(c)&&(c=c.replace(/([?&]locale=)([^&]+)/,""));var p=f.indexOf("/")>-1?f.substr(0,f.indexOf("/")):f;return u||a.original!=t||isBot()||(s="#language"),i+"//"+p+l+c+s;case"querystring":return c=/[?&]locale=([^&/]+)/.test(c)?c.replace(/([?&]locale=)([^&/]+)/,"$1"+t):c?c+"&locale="+t:"?locale="+t,u?i+"//"+o+l+c+s:l+c+s;case"subdir":var g=n.folders?Object.keys(n.folders):a.localeKeys,h=RegExp("^(?:"+escapeRegex(n.subDirBase||"")+")?(\\/(?:"+g.join("|")+"))*(?:\\/|$)").exec(l);h&&(l=l.replace(h[0],"/"));var m="";return n.folders?m="/"+getFolder(t,n.folders):t==b||n.ignoreSub&&-1!=n.ignoreSub.indexOf(l.toLowerCase())||IGNORE.test(l)||(m="/"+t),!n.subDirBase||n.subDirOptional&&t==b||(m=n.subDirBase+m),u?i+"//"+o+m+l+c+s:m+l+c+s;case"hash":return u?i+"//"+o+l+c+"#locale="+t:"#locale_"+t}return'javascript:bablic.setLanguage("'+t+'");'}function getElementsOrSelector(e){if(!document.querySelectorAll||bablic.preview)return[];var t;if("string"==typeof e)t=Array.prototype.slice.apply(document.querySelectorAll(e+","+e+" *"));else{e.length||(e=[e]),t=[];for(var n=0;n<e.length;n++)t.push(e[n]),Array.prototype.push.apply(t,e[n].querySelectorAll("*"))}return t}function processSavedNodes(e,t){if(document.querySelectorAll&&!bablic.preview){for(var n=getElementsOrSelector(e),a=[],r=0;r<n.length;r++)t||n[r]._babIg?t&&n[r]._babIg&&(delete n[r]._babIg,a.push(n[r])):(n[r]._babIg=!0,a.push(n[r]));if(a.length&&LDATA&&LDATA.content&&savedContentNodes){bablic.setMutationListen(!1);for(r=0;r<savedContentNodes.length;r++){var i=savedContentNodes[r].node,o=savedContentNodes[r].element;if(-1!=a.indexOf(o))if(t){if(!locked){var l=LDATA.content[savedContentNodes[r].hash];l&&"__empty__"!=l&&savedContentNodes[r].replace(i,o,l)}}else savedContentNodes[r].restore(i,o)}for(r=0;r<watchedElements.length;r++)try{watchedElements[r]._babLis()}catch(e){bablic.error(e)}bablic.setMutationListen(!0)}}}function handleWix(){if(WIN.wixBiSession)if(WIN.boltInstance&&WIN.boltInstance.setResizeCounter){var e=Math.floor(2e5*Math.random())+1;WIN.boltInstance.setResizeCounter(e)}else WIN.rendered&&WIN.rendered._requestRelayout?WIN.rendered._requestRelayout():WIN.$(WIN).resize()}bablic.getLink=function(e,t,n,a,r,i,o,l,c){var s=LDATA||bablic.conf,u=s||bablic.data||{},d=u.original||u.orig||bablic.original,b=bablic.subDirBase,f=bablic.subDirOptional,p=bablic.localeURL||s&&s.localeDetection||bablic.data&&bablic.data.localeDetection;if("subdomain"===p){var g=s&&s.edit?"_":".",h=s&&s.edit?"_":"\\.",m=RegExp("(www"+h+")?(?:(?:\\w\\w?\\w(?:_\\w\\w)?)"+h+")?(.+?)$").exec(t||LOC.host),v=(r&&r.www?"www"+g:"")+(r&&r.s&&r.s+g||(e==d?"":e+g))+m[2];return(n||LOC.href).replace(t||LOC.host,v)}var y,_=s&&s.locales&&$.map(s.locales,function(e){return e.key})||u.localeKeys,A={original:d,localeDetection:p,localeKeys:_||[]};if("custom"==p)if(bablic.customUrls&&bablic.customUrls[e])A.customUrls=bablic.customUrls;else if(A.customUrls={},u.locales&&(y=$.grep(u.locales,function(t){return t.key==e})[0]),y)if(y.url)A.customUrls[e]=y.url;else{var T=$.grep(u.locales,function(e){return e.key==d})[0],L=parseURL(n||LOC.href),E=L.protocol||"https",C=L.pathname||"/",S=L.search||"",D=L.hash||"";n=E+"//"+(T.url.indexOf("/")>-1?T.url.substr(0,T.url.indexOf("/")):T.url)+C+S+D}else u.customUrls&&(A.customUrls[e]=u.customUrls[e]);return generateTranslatedLink(n||LOC.href,e,{returnFull:c,subDirBase:b,subDirOptional:f,subDir:"subdir"===p,folders:bablic.folders,ignoreSub:bablic.ignoreSub},A)};var locked=!1,changeRev=0;function switchLocaleAjax(e,t,n){if(e!=bablic.locale&&!locked){delete bablic.explicitLocale,t=t||bablic.getLink(e);var a=!bablic._processed,r=e==bablic.original;if(-1==t.indexOf("javascript:")&&!bablic.noReplaceState){var i=parseURL(t);bablic.replaceState?bablic.replaceState(null,null,i.pathname+(i.query||"")+(i.hash||"")):history.replaceState(null,null,i.pathname+(i.query||"")+(i.hash||""))}!function(t){if(e in localeLDATAs&&(LDATA=localeLDATAs[e]).content)return bablic.locale=e,underlineLocale=e,siteConfReceived(LDATA),triggerEvent("locale",[e]),t();LDATA=$.extend({},LDATA,{content:{}}),bablic.locale=e,underlineLocale=e,locked=!0;var n=++fetchRevision;fetchSequence(n,function(e,a,r){locked=!1,n==fetchRevision&&(r&&translationReceived(r,!0),t(e),ping({shouldHide:!1,stats:a,detectedLocale:bablic.detectedLocale,path:normalizedCurrentPath()}))})}(function(){if(a){var e=savedContentNodes;return savedContentNodes=[],runHeadEngines(!0),bablic._processed=!0,domTraverse($.byTag("html").get(0),bablic.UseInclude),mergeContentNodes(e),triggerEvent("translated",[bablicDTO()]),void handleWix()}if(!savedContentNodes)return bablic.error("Error on ajax navigate");bablic.setMutationListen(!1);for(var t=changeRev++,i=0;i<savedContentNodes.length;i++){var o=savedContentNodes[i],l=o.node,c=o.element;if(r||c._babIg||2!=o.engine.index&&!LDATA.engines[o.engine.index])o.restore(l,c);else{var s=LDATA.content[o.hash],u="string"==typeof s&&"__empty__"!=s;u||o.hash.length<=3?(o.replace(l,c,u?s:o.content),l._b_rev=t):l._b_rev!=t&&o.restore(l,c)}}if(n){e=savedContentNodes;savedContentNodes=[],runHeadEngines(!0),_forceTraverse=!0,domTraverse($.byTag("html").get(0),bablic.UseInclude),_forceTraverse=!1,mergeContentNodes(e)}for(i=0;i<watchedElements.length;i++)try{watchedElements[i]._babLis()}catch(e){bablic.error(e)}bablic.setMutationListen(!0),triggerEvent("translated",[bablicDTO()]),handleWix(),LDATA.fallback&&!LDATA.edit&&send_ldata_report(!0)})}}function getLocaleSettings(e){var t=LocaleSettings[e];return t||(t=LocaleSettings[e]={}),t}function findFallbackLocale(){if(!bablic.languages.get(bablic.original).hidden)return bablic.original;var e=$.grep(bablic.languages.get(),function(e){return!e.hidden})[0];return e?e.key:bablic.original}doesSupportAjaxReplace=function(e){return WIN.history&&WIN.history.replaceState&&IS_PROPERTIES_SUPPORTED&&LDATA&&(LDATA.ajaxWidget||e)&&!LDATA.edit&&(e||"subdomain"!=LDATA.localeDetection&&"custom"!=LDATA.localeDetection&&"tld"!=LDATA.localeDetection)},bablic.setLanguage=bablic.redirectTo=function(e,t,n){t&&t instanceof Event&&(n=t,t=null);var a=!n&&void 0;if(bablic._locked)return a;var r=targetLocale&&targetLocale.engines.length,i=locales&&$.grep(locales,function(t){return t.key==e})[0];if((targetLocale=i)||((targetLocale=locales&&$.grep(locales,function(t){return t.key[0]==e[0]&&t.key[1]==e[1]})[0])&&(e=targetLocale.key),targetLocale||(targetLocale=locales&&$.grep(locales,function(t){if(t.iso){var n=t.iso.split("-")[1];if(n)return n.toLowerCase()==e}})[0]),targetLocale&&(e=targetLocale.key)),WIN.omg&&WIN.omg.EditorSite)try{return TOP.VisualEditor.switchLocale(e),a}catch(n){}if((!LDATA||!LDATA.edit)&&bablic.languages.get(e).hidden)return console.log("language is hidden"),a;if(!LDATA&&bablic.locale===e)return a;var o=(t=t||{}).forceRedirect||bablic.forceRefresh;if(e!=bablic.locale&&!1===triggerEvent("beforeLocaleChange",[e]))return a;LocalDB.setSync("locale",e,!0),LocalDB.setSync("explicit",e,!0);var l=(targetLocale&&targetLocale.engines.length)>r,c=bablic.getLink(e);if(n&&n.target&&n.target.href&&(n.shiftKey||n.ctrlKey||n.altKey)&&$('<a href="'+c+'" />').get(0).href==n.target.href)return!0;return!o&&doesSupportAjaxReplace()&&targetLocale?(switchLocaleAjax(e,c,l),a):(LOC.href=c,bablic.locale=e,underlineLocale=e,a)},bablic.widget={get:function(){return WidgetSettings||bablic.widgetConf||{}},update:function(e){return WidgetSettings=e,bablic.showFlags(),this},hide:function(){var e=this.get();return e.show=!1,this.update(e)},show:function(){var e=this.get();return e.show=!0,this.update(e)},element:function(){return $("#bablicFlagsWidget").get(0)},expand:function(){var e=this.element();return e&&e.contentWindow&&e.contentWindow.expand&&e.contentWindow.expand(),this},collapse:function(){var e=this.element();return e&&e.contentWindow&&e.contentWindow.collapse&&e.contentWindow.collapse(),this},_switch:function(e,t,n){var a=$(e);if(!a.length()&&!n)return"string"==typeof e&&(bablic.selector(e).exclude(),onReady(function(){bablic.widget[SWITCH](e,t,!0)})),this;a.attr("bablic-exclude",!0);var r,i=a.filter("a");a.off("click").on("click",function(e){if(r){if("A"==this.tagName){if(e.ctrlKey||e.shiftKey||e.altKey)return!0;e.preventDefault()}bablic.redirectTo(r.key)}else o(bablic.getLocale())});var o=function(e){var n=bablic.languages.get();(r=$.grep(n,function(t){return(!t.hidden||LDATA&&LDATA.edit)&&t.key!=e})[0])&&(a.text(t&&t.fullName?r.name:r.name.split("_")[0].toUpperCase()),i.attr("href",bablic.getLink(r.key)))};bablic.on("locale",o)},done:function(){return bablic}},bablic.widget[SWITCH]=bablic.widget._switch,bablic._sels={},bablic.element=function(e){return{translate:function(){return processSavedNodes(e,!0),this},restore:function(){return processSavedNodes(e,!1),this},overrideGetter:function(){var t=Object.getOwnPropertyDescriptor(Element.prototype,"innerHTML");bablic.setMutationListen(!1),processSavedNodes(e,!1);var n=getElementsOrSelector(e);return n.forEach(function(e){e._html=t.get.call(e)}),processSavedNodes(e,!0),bablic.setMutationListen(!0),this.pre(function(){var e=t.get.call(this);e!=this._translated&&(this._html=e)}),this.post(function(){this._translated=t.get.call(this)}),n.forEach(function(e){overrideHTMLAccess(e,function(e){return targetLocale!=originalLocale&&this._html?this._html:e.call(this)})}),this},done:function(){return bablic},on:function(t,n){if(!document.querySelectorAll)return this;for(var a="string"==typeof e?document.querySelectorAll(e):e.length?e:[e],r=0;r<a.length;r++)a[r]._babE=a[r]._babE||{},a[r]._babE[t]=n;return this},off:function(t,n){if(!document.querySelectorAll)return this;for(var a="string"==typeof e?document.querySelectorAll(e):e.length?e:[e],r=0;r<a.length;r++)if(t){if(!a[r]._babE)continue;if(n){if(a[r]._babE[t]){var i=a[r]._babE[t].indexOf(n);i>-1&&a[r]._babE[t].splice(i,1)}}else delete a[r]._babE[t]}else delete a[r]._babE;return this},pre:function(t){return bablic.element(e).on("pre1",t)},post:function(t){return bablic.element(e).on("post1",t)},watch:function(t){var n="string"==typeof e?document.querySelectorAll(e):e.length?e:[e];return $.each(n,function(e,n){bablic.watch(n,t)}),this},exclude:function(){bablic.setMutationListen(!1);var t="string"==typeof e?document.querySelectorAll(e):e.length?e:[e];return $.each(t,function(e,t){if(t.hasAttribute("bablic-include"))return t.removeAttribute("bablic-include");t.setAttribute("bablic-exclude","")}),bablic.setMutationListen(!0),this},include:function(e){bablic.setMutationListen(!1);var t="string"==typeof e?document.querySelectorAll(e):e.length?e:[e];return $.each(t,function(e,t){if(t.hasAttribute("bablic-exclude"))return t.removeAttribute("bablic-exclude");t.setAttribute("bablic-include","")}),bablic.setMutationListen(!0),this},markup:function(t,n){return bablic.setMutationListen(!1),$(e).attr("bablic-"+t,n||!0),bablic.setMutationListen(!0),this},bidi:function(t){bablic.setMutationListen(!1);var n=$(e);return n.attr("bablic-bidi",t?"true":"false"),n.each(function(){t?Bidi.element(this):Bidi.exclude(this)}),bablic.setMutationListen(!0),this}}},bablic.selector=function(e){return{on:function(t,n){return bablic._sels[t]=bablic._sels[t]||[],bablic._sels[t].push([e,n]),this},pre:function(e){return this.on("pre1",e)},post:function(e){return this.on("post1",e)},exclude:function(){return excludeByCode(e),this},include:function(){return includeByCode(e),this},markup:function(t,n){return addMarkupByCode(t,e,n),this},bidi:function(t){return addMarkupByCode("bidi",e,t?"true":"false"),bablic.element(e).bidi(t),this},done:function(){return bablic}}},$.extend(bablic.element,{translate:function(e){return processSavedNodes(e,!0),this},restore:function(e){return processSavedNodes(e,!1),this}}),bablic.isEditor=function(){return!!bablic.preview},LocaleSettings={},bablic.languages={get:function(e){if(!e)return $.map(bablic.locales||[],function(e){var t=getLocaleSettings(e.key);return{key:e.key,name:t.name||e.name,flag:t.flag||e.flag,href:t.href||bablic.getLink(e.key),hidden:t.hidden||!1}});var t=getLocaleSettings(e),n=$.grep(bablic.locales||[],function(t){return t.key==e})[0];return n?{key:n.key,name:t.name||n.name,flag:t.flag||n.flag,href:t.href||bablic.getLink(n.key),hidden:t.hidden||!1}:{key:e,name:t.name,flag:t.flag,href:t.flag,hidden:t.hidden||!1}},update:function(e){if(!e)return this;if(!e.key)return this;var t=this.get(e.key),n=getLocaleSettings(e.key);if(e.name!=t.name&&(n.name=e.name),e.flag!=t.flag&&(n.flag=e.flag),e.href!=t.href&&(n.href=e.href),e.hidden!=t.hidden)if(e.hidden){if(n.hidden=!0,bablic.locale==e.key){var a=findFallbackLocale();if(LDATA&&LDATA.edit);else if(doesSupportAjaxReplace())switchLocaleAjax(a);else{var r=bablic.getLink(a);parseURL(r).href!=LOC.href&&(LOC.href=r)}}}else n.hidden=!1;return bablic.showFlags(),this},flag:function(e,t){return e?getFlag(e,t):""},hide:function(e){var t=this.get(e);return t&&(t.hidden=!0),this.update(t)},show:function(e){var t=this.get(e);return t&&(t.hidden=!1),this.update(t)},url:function(e,t){return bablic.getLocale(e,null,t)},done:function(){return bablic}};var watchedElements=[];bablic.watch=function(e,t){e&&(e._babLis=t,watchedElements.push(e),"bablic_last_value"in e&&setTimeout(t,0))},bablic.hideLanguage=function(e){return bablic.languages.hide(e)},bablic.trigger=triggerEvent,WIN.console||(WIN.console={log:function(e){},error:function(e){}}),Object.keys||(Object.keys=function(e){var t=[];for(var n in e)t.push(n);return t}),bablic.debugServer&&(bablic.debug=!0),bablic.log=bablic.debug?function(e){WIN.console.log.apply?WIN.console.log.apply(console,arguments):WIN.console.log(arguments[0])}:function(){},bablic.error=bablic.debug?function(e){WIN.console.error.apply?WIN.console.error.apply(console,arguments):WIN.console.error(arguments[0])}:function(){},bablic.markup=addMarkupByCode,bablic.exclude=excludeByCode,bablic.include=includeByCode,bablic.on=bablic.Mutation.on,bablic.off=bablic.Mutation.unbind,bablic.setPage=function(e){e!=bablic.getPage()&&(explicitPage=e,onStateChanges&&onStateChanges())},bablic.getPage=function(){return explicitPage||normalizedCurrentPath()},bablic.registerKey=function(){$(DOC).on("keydown",function(e){if(e.shiftKey&&e.altKey&&(66==e.keyCode||76==e.keyCode)){if(e.preventDefault(),bablic.editThisSite)return bablic.editThisSite();bablic.on("sdkload",function(){bablic.editThisSite()}),ajaxGet("https://cdn2.bablic.com/addons/sdk.js",null,function(rsp){eval(rsp)})}})},bablicDTO=function(){return{Site:bablic.Site,locale:bablic.locale,version:bablic.version,original:bablic.original}},bablic.ajax=ajaxGet}(bablic);var HAS_ANGULAR=!1,SUPPORT_AJAX_NAVIGATE=!1,fetchRevision=0,underlineLocale,localeLDATAs={},performRedirect,TAGS={},BY_KEYS={},onStateChanges,setHidden,MACHINES={},HOLD_BABLIC=!1,PREVIOUSLY_USED_CONTENT={},oY;!function(bablic){var NON_VISUAL_TAGS={SCRIPT:0,LINK:0,NOSCRIPT:0,STYLE:0},check=DOC.querySelectorAll("#BABLIC_CHECK");if(check.length){bablic.preview=!0;try{for(var i=0;i<check.length;i++)check[i].parentNode&&check[i].parentNode.removeChild(check[i])}catch(e){}}location.hash&&location.hash.indexOf("bablicExtension")>-1&&(bablic.preview=!0);var usage_report_sent=!1,shouldShowWidget=!0;function fallback_callback(e){if(e){bablic.log("fallabck response: "),bablic.log(e);var t=WIN.omg&&!!omg.translationReceived,n=!1,a={},r=e.deleted;for(var i in delete e.deleted,r&&setTimeout(function(){updateNotExistingContents(r)},1),e)"__empty__"!=e[i]&&(LDATA.content[i]&&"__empty__"!=LDATA.content[i]&&LDATA.content[i]==e[i]||(n=!0,LDATA.content[i]=e[i],a[i]=e[i],t&&omg.translationReceived(i,e[i])));if(n){if(flushMergedNodes(),savedContentNodes.length){bablic.setMutationListen(!1);for(var o=0;o<savedContentNodes.length;o++)if(savedContentNodes[o].hash in a){var l=savedContentNodes[o].node,c=savedContentNodes[o].element;savedContentNodes[o].replace(l,c,a[savedContentNodes[o].hash])}bablic.setMutationListen(!0)}else{var s=savedContentNodes;savedContentNodes=[],_forceTraverse=!0,DOC.body.getAttribute("bablic-exclude")||domTraverse($.byTag("html").get(0),bablic.UseInclude),runHeadEngines(),_forceTraverse=!1,mergeContentNodes(s)}showPage2()}}}var ASYNC_FETCH_OFF=!0,fallback_sent;function getNotExistingContents(){if(notExistingContents)return notExistingContents;notExistingContents={};var e=LocalDB.getSync("unused",!1,!0);e&&e.split(",").forEach(function(e){notExistingContents[e]=1});return notExistingContents}function updateNotExistingContents(e){notExistingContents=notExistingContents||{};var t=Object.keys(notExistingContents).length;e.forEach(function(e){notExistingContents[e]=1}),t!=Object.keys(notExistingContents).length&&LocalDB.setSync("unused",Object.keys(notExistingContents).join(","),!1,!0)}var notExistingContents=null;function send_fallback_request(e,t){ASYNC_FETCH_OFF&&(t=!0);var n=bablic.locale,a={};for(var r in e)e[r]&&e[r].f!=n&&(a["1_"+r]=null,e[r].f=n,$.each(e[r].bc||[],function(e,t){a["1_"+t]=!0}));var i=Object.keys(a);i.length&&LocalDB.getByIds(i,function(e,n){e&&bablic.error(e);var r={};if(n)for(var o in r=n,n)r[o]=n[o],delete a[o];if(!(i=Object.keys(a)).length)return fallback_callback(r);fallback_sent=!0,ajaxPost("/api/engine/fallback",{content:i,async:!t},function(e){for(var n in $.extend(r,e),fallback_callback(r),LocalDB.setByPage(e,normalizedCurrentPath(!t)),e)delete a[n];var i=Object.keys(a).map(function(e){return e.substr(3)});setTimeout(function(){updateNotExistingContents(i)},1)})})}var send_usage_timeout,firstTimeout,sentReport={};send_usage_report=function(){$.isEmptyObject(usage_report)||firstTimeout&&Date.now()-firstTimeout>2e4||(send_usage_timeout&&clearTimeout(send_usage_timeout),firstTimeout||(firstTimeout=Date.now()),send_usage_timeout=setTimeout(function(){if(firstTimeout=null,send_usage_timeout=null,usage_report){var e=[],t=[];if(usage_report_sent)e=Object.keys(usage_report).map(function(e){return e.substr(2)});else for(var n in LDATA.content)"1"==n[0]&&(n in usage_report?e.push(n.substr(2)):t.push(n.substr(2)));ajaxPost("/api/engine/usage",{used:e,unused:t}),usage_report={},usage_report_sent=!0}},7e3))};var send_report_timeout,MAX_SEND=500,last_report_count,MAX_REQUEST_SIZE=2e5,MAX_PLACES=2,MAX_FALLBACK_REQUEST=500,ignoreNotTranslated={},sendReportThrottled=function(e){if(LDATA.machine){var t=[];for(var n in LDATA.content){var a=n.split("_");"1"!=a[0]||"__empty__"!=LDATA.content[n]||ignoreNotTranslated[n]||(t.push(a[1]),ignoreNotTranslated[n]=!0)}$.isEmptyObject(t)||(bablic.Mutation.emit("machine"),ajaxPost("/api/engine/machine",{content:t},function(e){bablic.Mutation.emit("afterMachine"),e&&fallback_callback(e),Object.keys(e).length>0&&(bablic.ldata&&(bablic.ldata.machines=bablic.ldata.machines||{},$.extend(bablic.ldata.machines,e)),LocalDB.clearAll())}))}if(!$.isEmptyObject(new_content)){if(getNotExistingContents(),notExistingContents&&new_content[1]){for(var n in notExistingContents)delete new_content[1][n];if($.isEmptyObject(new_content[1]))return delete new_content[1],void $.isEmptyObject(new_content)}var r,i=function(){if(r)return r;for(var e in r={},LDATA.content)r[LDATA.content[e]]=e;if(PREVIOUSLY_USED_CONTENT)for(var e in PREVIOUSLY_USED_CONTENT)r[PREVIOUSLY_USED_CONTENT[e]]=e;return r},o={},l=0;for(var c in new_content)if("3"!=c&&"4"!=c&&"2"!=c){var s=new_content[c];for(var n in s){var u=c+"_"+n;if(!(u in sentReport)&&!LDATA.content[u]){var d=s[n];if(d&&d.a&&!CLEAN_TEXT.test(d.content)){var b=!1,f=i();if(!d.key&&d.content in f)b=!0;else for(var p=0;p<d.nodes.length;p++){if(bablic.preview&&readNodeAttr(d.nodes[p],"bablic_dirty",d.elements[p])){b=!0;break}if(readNodeAttr(d.nodes[p],"bablic_replaced"+c,d.elements[p])&&readNodeAttr(d.nodes[p],"bablic_replaced_value"+c,d.elements[p])==getNodeValue(d.nodes[p])){b=!0;break}}b||(o[c]=o[c]||{},o[c][n]=d,l++),LDATA.report||(s[n]=null)}}}}l?(!LDATA.edit&&LDATA.fallback&&o[1]&&Object.keys(o[1]).length<MAX_FALLBACK_REQUEST&&send_fallback_request(o[1],e),LDATA.report&&l!=last_report_count&&(last_report_count=l,clearTimeout(send_report_timeout),send_report_timeout=setTimeout(function(){if(LDATA.content){var t=0,n=bablic.sendPerRequest||MAX_SEND,a=bablic.maxRequest||MAX_REQUEST_SIZE,r=!1,i={},l=0,c=!WIN.SCAN;for(var s in o){var u=0,d=o[s];for(var b in d){if(c&&u>n){r=!0;break}u++;var f=s+"_"+b;if(!(f in LDATA.content)){sentReport[f]=1;var p=d[b];if(p){var g={content:p.content,i:p.i,c:p.c,v:p.v,h:p.h,path:p.path,tags:Object.keys(p.tags),key:p.key};if(p.m&&(g.m=!0),p.markup&&!$.isEmptyObject(p.markup)&&(g.markup=p.markup),p.bc&&(g.bc=p.bc),p.nodes)for(var h=0;h<p.nodes.length;h++)setNodeAttr(p.nodes[h],"bablic_replaced"+s,!0,p.elements[h]),setNodeAttr(p.nodes[h],"bablic_replaced_value",getNodeValue(p.nodes[h]),p.elements[h]);if(c&&(t+=WIN.JSON&&WIN.JSON.stringify?JSON.stringify(g).length:2*g.content.length)>a){r=!0;break}i[s]=i[s]||{},i[s][b]=g,l++}}}}if($.isEmptyObject(i))new_content={};else{bablic.Mutation.emit("sendReport"),LDATA.owner&&!LDATA.edit&&(LDATA.scanning?startScanningMessage():l>5&&startDetectMessage()),ajaxPost("/api/engine/report",{content:i},function(t){last_report_count=0,bablic.Mutation.emit("afterReport",[e]),t&&fallback_callback(t),WIN.omg&&WIN.omg.afterContentReported(i,t)});var m={};r&&Object.keys(o||{}).forEach(function(e){Object.keys(o[e]||{}).forEach(function(t){var n=s+"_"+t;i[e][t]||n in LDATA.content||(m[e]=m[e]||{},m[e][t]=new_content[e][t])})}),new_content=m}}},WIN.SCAN?1:500))):new_content={}}},sendReportFuncTO,sendReportStart,MAX_THROTTLE_TIME=2e3,REPORT_THROTTLE_TIME=200,onClose;function startScanningMessage(){LocalDB.getSync("scanningMessage")||(showMessage("scanningMessage"),onClose=function(){LocalDB.setSync("scanningMessage","true")})}function showLimitHomeMessage(){LocalDB.getSync("limitHomeMessage")||(showMessage("limitHome"),onClose=function(){LocalDB.setSync("limitHomeMessage","1")})}function startDetectMessage(){LocalDB.getSync("newContentDetected")||(showMessage("newContentDetected"),onClose=function(){LocalDB.setSync("newContentDetected","true")})}function showTurnedOffMessage(){LocalDB.getSync("turnedOff")||(showMessage("turnedOff"),onClose=function(){LocalDB.setSync("turnedOff","true")})}function showMessage(e){if(!$.byId("bablicMessage").length()){var t=WIN.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");t.onreadystatechange=function(){if(200===t.status&&4===t.readyState){var e=DOC.createElement("iframe");e.id="bablicMessage",e.className="bablicMessage",e.setAttribute("bablc-exclude","true"),e.width="100%",e.height="52px",e.style.border="none",e.style.position="fixed",e.style.top=0,e.style.left=0,setZIndex(e);var n=DOC.body;n.insertBefore(e,n.firstChild);var a=t.responseText;try{e.contentWindow.document.open(),e.contentWindow.document.write(a),e.contentWindow.document.close()}catch(t){e.contentWindow.location.href="data:text/html;charset=utf-8,"+encodeURIComponent(a)}$(e).on("click",function(){e.parentNode.removeChild(e)})}},t.open("GET",location.protocol+"//uploads.bablic.com/html/"+e+".html",!0),t.send()}}function closeMessage(){$.byClass("bablicMessage").remove(),onClose&&onClose(),onClose=null}function addMessageShadow(){$.byClass("bablicMessage").css("box-shadow","0px 0px 15px #178FC2")}function removeMessageShadow(){$.byClass("bablicMessage").css("box-shadow","")}send_ldata_report=function(e){if(IS_PROPERTIES_SUPPORTED){if(e)return sendReportThrottled(!0);if(ASYNC_FETCH_OFF&&(e=!0),sendReportFuncTO){if(Date.now()-sendReportStart>MAX_THROTTLE_TIME)return;clearTimeout(sendReportFuncTO)}else sendReportStart=Date.now();sendReportFuncTO=setTimeout(function(){sendReportFuncTO=null,sendReportThrottled(e)},REPORT_THROTTLE_TIME)}},setZIndex=function(e){for(var t=[1e17,999999999999999,999999999999,9999999],n=0;n<t.length;n++)try{return void(e.style.zIndex=t[n])}catch(e){}},bablic._m=[closeMessage,addMessageShadow,removeMessageShadow];var hiddenCount=0;function hidePage(){if(!bablic.hidden&&!bablic.hidingStyle){hiddenStart=Date.now(),bablic.hidden=!0;try{bablic.hidingStyle=DOC.createElement("style"),bablic.hidingStyle.className="bablicHideTag",bablic.hidingStyle.type="text/css",bablic.hidingStyle.innerHTML="body,body *{visibility: hidden; !important}",bablic.hidingStyle.setAttribute("bablic-exclude","");var e=DOC.getElementsByTagName("script")[0];e.parentNode.insertBefore(bablic.hidingStyle,e)}catch(e){}}}setHidden=function(e,t){e?bablic.hidden?hiddenCount++:t?(hidePage(),hiddenCount++):bablic.log("can hide after already shown"):(hiddenCount--,showPage2())};var showPage2=function(){if(!(hiddenCount>0)){hiddenTime||(hiddenTime=Date.now()-hiddenStart);var e=DOC.getElementById("bablicLink");e&&e.parentNode&&e.parentNode.removeChild(e),bablic.setMutationListen(!1),bablic.hidingStyle&&bablic.hidingStyle.parentNode&&(bablic.hidingStyle.parentNode.removeChild(bablic.hidingStyle),bablic.hidingStyle=null),$(".bablicHideStyle,.bablicHideTag").remove(),bablic.setMutationListen(!0)}},onReadyCalled=!1;nonBlocking=isNonBlocking();var onReadyEvents=[],BLOCK,hiddenTime,hiddenStart;if(nonBlocking)onReadyCalled=!0;else{var addListener=DOC.addEventListener||DOC.attachEvent,removeListener=DOC.removeEventListener||DOC.detachEvent,eventName=DOC.addEventListener?"DOMContentLoaded":"onreadystatechange",onReadyHandler=function(){if(removeListener.call(DOC,eventName,onReadyHandler,!1),!onReadyCalled){var e;onReadyCalled=!0;for(var t=0;t<onReadyEvents.length;t++)try{onReadyEvents[t]()}catch(t){e=e||t}if(e)throw e}};addListener.call(DOC,eventName,onReadyHandler,!1)}function initEngines(){var e=targetLocale.engines||[];LDATA.engines={};for(var t=0;t<e.length;t++)Engines[e[t]]&&(LDATA.engines[e[t]]=Engines[e[t]]);for(var n in LDATA.engines)LDATA.engines[n].prepare&&LDATA.engines[n].prepare.call(LDATA.engines[n]);LDATA._e={},LDATA.engines&&"2"in LDATA.engines&&(LDATA._e[2]=LDATA.engines[2],delete LDATA.engines[2])}function updateBablicHead(){WIN.angular&&(HAS_ANGULAR=!0),bablic.ldata=LDATA,SUPPORT_AJAX_NAVIGATE=doesSupportAjaxReplace(!0),locales=bablic.locales=LDATA.locales,locale=LDATA.locale||"",targetLocale=$.grep(locales,function(e){return e.key==locale})[0],(originalLocale=$.grep(locales,function(e){return e.key==LDATA.orig})[0]||$.grep(locales,function(e){return e.key[0]==LDATA.orig[0]&&e.key[1]==LDATA.orig[1]})[0])||(originalLocale=locales[locales.length-1]),targetLocale||(targetLocale=$.grep(locales,function(e){return e.key[0]==locale[0]&&e.key[1]==locale[1]})[0]||originalLocale,locale=targetLocale.key,LDATA.locale=locale),MOBILE=bablic.mobile=Modernizr.touchevents&&$.window.width()<700;try{WIN.top.editor&&"mobile"==WIN.top.editor.device()&&(MOBILE=bablic.mobile=!0)}catch(e){}if(bablic.locale=LDATA.locale,underlineLocale=LDATA.locale,bablic.targetLocale=targetLocale,bablic.originalLocale=originalLocale,bablic.original=LDATA.orig,localeLDATAs[bablic.locale]=LDATA,bablic.dontUseCookie=bablic.dontUseCookie||LDATA.dontUseCookie,bablic.locale&&("subdir"!=bablic.localeURL&&"subdir"!=LDATA.localeDetection||-1!=location.pathname.indexOf("/"+bablic.locale+"/")||WIN.SCAN||bablic.locale!=bablic.original&&(doesSupportAjaxReplace()&&!bablic.noReplaceState?bablic.replaceState?bablic.replaceState(null,null,bablic.getLink(bablic.locale)):WIN.history&&WIN.history.replaceState&&WIN.history.replaceState(null,null,bablic.getLink(bablic.locale)):performRedirect(bablic.getLink(bablic.locale))),LocalDB.setSync("locale",bablic.locale,!0)),bablic.locale_detection=LDATA.localeDetection,LocalDB.setSync("original",LDATA.def||LDATA.orig,!0),bablic.setMutationListen(!1),shouldShowWidget&&bablic.showFlags(),bablic.preview||markupSEO(),LDATA.bidi&&Bidi.setDir(targetLocale.dir||"ltr"),$.byId("bablic_font_css").remove(),targetLocale){var e="";if(targetLocale.font){var t=targetLocale.font.split("#");e=t.length>1?"@import url('"+t[0]+"');\n *{font-family: \""+t[1]+'", sans-serif !important; }':'*{font-family: "'+t[0]+'", sans-serif !important; }'}if($.byTag("head").append("<style type='text/css' id='bablic_font_css' bablic-exclude>"+e+(bablic.locale!=bablic.original?".bablic-hide-all,":"")+".bablic-hide-"+bablic.locale+"{display:none !important;} </style>"),!$.byId("bablicDefault").length()){var n=$.byTag("head").get(0).firstElementChild;$('<style bablic-exclude id="bablicDefault">input{display:inline-block;}</style>').insertBefore(n)}}bablic.setMutationListen(!0)}function markupSEO(){onReady(function(){if(!bablic.noSEO){bablic.setMutationListen(!1);var e=targetLocale&&targetLocale.iso?targetLocale.iso:bablic.locale;$.byTag("html").attr("lang",e);var t=$('head meta[http-equiv="Content-Language"]');t.length()||(t=$('<meta http-equiv="Content-Language">').appendTo("head")),t.attr("content",e);$.each([['link[rel="canonical"]',"href"],['meta[property="og:url"]',"content"]],function(e,t){var n=new $(t[0]),a=n.attr(t[1]);if(a){var r=parseURL(a),i=bablic.getLink(bablic.locale,r.hostname,a,null,null,null,null,null,!0);n.attr(t[1],i)}}),bablic.setMutationListen(!0)}})}function seoAlternateLink(e,t,n){if(!LDATA.edit&&!bablic.noSEO){var a=n||e,r=$('link[hreflang="'+a+'"]');e===a||r.length()||(r=$('link[hreflang="'+e+'"]')),r.length()||$('<link rel="alternate" href="'+t+'" hreflang="'+a+'">').appendTo("head"),e===bablic.original&&((r=$('link[hreflang="x-default"]')).length()||$('<link rel="alternate" href="'+t+'" hreflang="x-default">').appendTo("head"))}}function getPackageFromCurrentPath(){if(!LDATA||!LDATA.packages)return 0;var e=normalizedCurrentPath();return getPackageFromPath(LDATA.packages,e)}function loadAsyncTranslation(){getPageTranslations(function(e,t){if(e)return bablic.error(e);fallback_callback(t)})}onReady=function(e){if(onReadyCalled)return e();onReadyEvents.push(e)},performRedirect=function(e){if(!USE_LOCAL_DB)return!0;var t=LocalDB.getSync("lr");return!(t&&(t=Number(t),Date.now()-t<1e4))&&(LocalDB.setSync("lr",Date.now()+""),LOC.href=e,!0)},runHeadEngines=function(){if(bablic.setMutationListen(!1),LDATA._e&&"2"in LDATA._e){LDATA.engines[2]=LDATA._e[2];var e=DOC.getElementsByTagName("HEAD")[0];readNodeAttr(e,"bablic_last_value",e)!==getNodeValue(e)&&(processNodeWithEngine(e,e,{},"2"),setNodeAttr(e,"bablic_last_value",getNodeValue(e),e)),delete LDATA.engines[2]}bablic.setMutationListen(!0)},!bablic.Site&&bablic.Account&&(bablic.Site=bablic.Account),bablic.explicitLocale=bablic.locale,bablic.locale||bablic.dontUseCookie||(bablic.locale=LocalDB.getSync("locale",!0)),bablic.conf&&(bablic._conf=bablic.conf,bablic.conf=decodeConf(bablic.conf)),bablic.original=LocalDB.getSync("original",!0)||bablic.original||bablic.conf&&bablic.conf.orig||bablic.data&&bablic.data.original,siteConfReceived=function(conf){var previousContent=LDATA&&LDATA.content,previousLocale=LDATA&&LDATA.locale,previousTimestamp=LDATA&&LDATA.timestamp;LDATA=conf,LDATA.locale=bablic.locale,previousLocale&&bablic.locale==previousLocale&&(LDATA.content=previousContent,previousTimestamp&&(LDATA.timestamp=Math.max(LDATA.timestamp,previousTimestamp))),bablic.localeURL&&(LDATA.localeDetection=bablic.localeURL),bablic.customUrls&&(LDATA.customUrls=bablic.customUrls);var block=Number(LocalDB.getSync("block",!0));block&&LDATA.timestamp<=block&&(BLOCK=!0);var domains=LDATA.domains,thisHost=(LOC.hostname||"").replace("www.","");if(bablic.version>=3.9&&!bablic.preview&&domains&&thisHost&&!WIN.SCAN&&-1==LOC.hostname.indexOf("checkout")&&-1==LOC.hostname.indexOf("cart")){for(var allowed=!1,i=0;i<domains.length;i++){var domain=domains[i];if("*"==domain[0]){domain=domain.substr(2);var index=thisHost.lastIndexOf(domain);if(index>-1||index==thisHost.length-domain.length){allowed=!0;break}}else if(domain.replace("www.","")==thisHost){allowed=!0;break}}allowed||console.error("BABLIC: this domain is not allowed by your website configuration")}if(BLOCK)hideWidget();else{if(LDATA.localeKeys=$.map(LDATA.locales,function(e){return e.key}),LDATA.j)try{eval(LDATA.j)}catch(e){}if(LDATA.keywords&&processKeywords(LDATA.keywords,LDATA.localeKeys),updateBablicHead(),initEngines(),LDATA.exclude&&excludeByCode(LDATA.exclude),LDATA.include&&includeByCode(LDATA.include),LDATA.markup)for(var key in LDATA.markup){var value=LDATA.markup[key];$.isArray(value)||(value=[value]);for(var i=0;i<value.length;i++)addMarkupByCode(key,value[i].sel,value[i].val)}var page=normalizedCurrentPath();bablic.subDirBase&&(page=bablic.subDirBase+page),bablic.setMutationListen(!1),$.each(LDATA.locales,function(e,t){var n=!1;if(t.key!==bablic.original){var a=LDATA.excludePages&&$.map(LDATA.excludePages,normalizeSomePath),r=LDATA.includePages&&$.map(LDATA.includePages,normalizeSomePath);t.excludePages=t.excludePages&&$.map(t.excludePages,normalizeSomePath),t.includePages=t.includePages&&$.map(t.includePages,normalizeSomePath),(n=isPageExcluded(page,a,r,t))&&bablic.languages.hide(t.key)}n||bablic.noHrefLangs||seoAlternateLink(t.key,bablic.getLink(t.key,null,null,null,null,null,null,null,!0),t.iso)}),bablic.setMutationListen(!0)}},translationReceived=function(e,t){if(LDATA&&!BLOCK&&DOC.body){if(LDATA.content=e,migrateTranslationResponse(LDATA),!$.isEmptyObject(LDATA.engines)){if(!t){bablic._processed=!0;var n=savedContentNodes;savedContentNodes=[],runHeadEngines(!0),DOC.body.getAttribute("bablic-exclude")||domTraverse($.byTag("html").get(0),bablic.UseInclude),mergeContentNodes(n),(LDATA.fallback&&!LDATA.edit||LDATA.report)&&send_ldata_report(!0),LDATA.usage&&send_usage_report()}bablic.dontListenToMutations||(bablic.Mutation.listen(),Mutation.observeHead(function(){LDATA&&LDATA.locale&&runHeadEngines(!0)}))}(LDATA.edit||LDATA.suggest)&&addOMGScript()}};var fetchedPackages={};function fetchTranslationFromLocalStorage(e,t,n){var a=Date.now();LocalDB.getByPage(e+"_"+t,function(r,i){bablic.log("indexdb ",Date.now()-a),i&&(fetchedPackages[e+"_"+t]=i),n(r,i)})}function saveTranslationToLocaleStorage(e,t,n){LocalDB.setByPage(n,e+"_"+t)}function decodeTranslationResponse(e,t){var n={};for(var a in e){for(var r in e[a])if("__"!=r&&"tags"!=r&&"keys"!=r){var i=e[a][r];if(t){var o=!1;Array.isArray(i)&&(o=i[0],i=i[1]),o?MACHINES[r]=!0:delete MACHINES[r]}n[a+"_"+r]=i}if(e[a].__)for(var l=e[a].__.split(","),c=0;c<l.length;c++){var s=a+"_"+l[c];s in n||(n[s]="__empty__")}var u=e[a].tags;if(u)for(var d in u)u[d].forEach(function(e){TAGS[a+"_"+e]=TAGS[a+"_"+e]||{},TAGS[a+"_"+e][d]=1});var b=e[a].keys;b&&(BY_KEYS=b)}return n}function getPageTranslationsFromCDN(e,t){var n=bablic.locale;fetchFromCDN("/sites/"+bablic.Site+"/package."+e+"."+n,function(a,r){if(a)return t(a);r&&(r=decodeTranslationResponse(r)),t(null,r),r&&LDATA&&(fetchedPackages[e]=r,saveTranslationToLocaleStorage(n,e,r),LocalDB.setSync("@"+n+"_"+e,LDATA.timestamp))})}function getConfFromCDN(e,t){fetchFromCDN("/sites/"+bablic.Site+"/conf",function(n,a){if(n)return t(n);if(e==fetchRevision){var r=decodeConf(a);r.locale=bablic.locale;var i=r.timestamp;siteConfReceived(r),i!=r.timestamp&&(a[0]=r.timestamp)}t(),e==fetchRevision&&LocalDB.setConf(a)})}function isHomePage(e){if(bablic.getCurrentSubDomain&&bablic.getCurrentSubDomain())return!1;if(bablic.getCurrentOtherDomain&&bablic.getCurrentOtherDomain())return!1;var t=bablic.conf&&bablic.conf.domain||bablic.data&&bablic.data.domain;t=t&&t.indexOf("/")>-1?t.substr(t.indexOf("/")):"/";var n=normalizedCurrentPath();return bablic.subDirBase&&(n=bablic.subDirBase+n),e?n==t.toLowerCase()||"/"==n||0==n.indexOf("/index."):n==t.toLowerCase()}function limitToHomePage(e){if(!isHomePage(!0)){if(bablic.widget.hide(),bablic.locale!==bablic.original){bablic.log("limit to home page");var t=bablic.locale;bablic.languages.hide(t),LocalDB.setSync("locale",t)}e&&showLimitHomeMessage()}}getPageTranslations=function(e,t){if(bablic.locale&&bablic.locale==bablic.original)return e(null,{});if(!LDATA)return e("no conf");var n=getPackageFromCurrentPath();if(bablic.package=n,bablic.dedicated||0==n&&LDATA&&LDATA.packages&&Object.keys(LDATA.packages).length>5){var a=normalizedCurrentPath(),r=LocalDB.getSync("@"+bablic.locale+"_"+a);if(t||!r||Number(r)<LDATA.timestamp-1e3){var i=bablic.locale;ajaxGet("//"+(bablic.dedicated||"d3j4i2vulccply.cloudfront.net")+"?s="+bablic.Site+"&l="+i+"&p="+encodeURIComponent(a)+"&ts="+(LDATA?LDATA.timestamp:""),null,function(t){t&&(t=decodeTranslationResponse(t)),e(null,t),t&&LDATA&&(saveTranslationToLocaleStorage(i,a,t),LocalDB.setSync("@"+i+"_"+a,LDATA.timestamp))},e)}else fetchTranslationFromLocalStorage(bablic.locale,a,function(t,n){if(t)return getPageTranslations(e,!0);e(null,n)})}else{if(bablic.locale+n in fetchedPackages)return e(null,fetchedPackages[bablic.locale+n]);if(!(r=LocalDB.getSync("@"+bablic.locale+"_"+n))||Number(r)<LDATA.timestamp-1e3)return getPageTranslationsFromCDN(n,e);fetchTranslationFromLocalStorage(bablic.locale,n,function(t,a){if(t)return getPageTranslationsFromCDN(n,e);e(null,a)})}},getConf=function(e,t){var n=LocalDB.getConf()||bablic._conf;return 4e3===n?(t(4e3),$.byId("bablic_font_css").remove(),void $.byTag("head").append("<style type='text/css' id='bablic_font_css' bablic-exclude>"+(bablic.locale!=bablic.original?".bablic-hide-all,":"")+".bablic-hide-"+bablic.locale+"{display:none !important;} </style>")):(n&&(Array.isArray(n)&&(n=decodeConf(n)),n&&(LocalDB.getSync("limitHome",!0)&&!isHomePage(!0)||(bablic.locale=n.locale=bablic.detectLocale(n),underlineLocale=n.locale))),n?(e==fetchRevision&&siteConfReceived(n),void t()):getConfFromCDN(e,t))},fetchSequence=function(e,t,n){var a=Date.now(),r={};if(bablic.preview)return LDATA&&LDATA.content&&(stashPreviousContent(LDATA.content),LDATA.content={}),void ajaxGet("/api/engine/editor",null,function(n){r.translationTime=r.confTime=Date.now()-a,e===fetchRevision&&siteConfReceived(n.conf),triggerEvent("locale",[bablic.locale]),n.translations&&(n.translations=decodeTranslationResponse(n.translations,!0)),MACHINES&&Object.keys(MACHINES).length&&bablic.ldata&&(bablic.ldata.machines=bablic.ldata.machines||{},$.extend(bablic.ldata.machines,MACHINES)),bablic.package=getPackageFromCurrentPath(),t(null,r,n.translations)},function(e){console.error(e)});if(bablic.dedicated&&bablic.locale!=bablic.original){var i;parallel([function(t){getConf(e,function(e){if(e)return t(e);r.confTime=Date.now()-a,triggerEvent("locale",[bablic.locale]),t()})},function(e){getPageTranslations(function(t,n){if(t)return e(t);i=n,r.translationTime=Date.now()-a,e()})}],function(e){if(e)return t(e);t(null,r,i)})}else{var o=bablic.locale;if(n||o==bablic.original||WIN.SCAN||!isHomePage())getConf(e,function(e){if(e)return t(e);r.confTime=Date.now()-a,triggerEvent("locale",[o]),a=Date.now(),getPageTranslations(function(e,n){if(e)return t(e);r.translationTime=Date.now()-a,t(null,r,n)})});else{var l=LocalDB.getSync("home_"+o);if(l)try{l=JSON.parse(l)}catch(e){l=null}l?getConf(e,function(e){if(e)return t(e);r.translationTime=r.confTime=Date.now()-a,l=decodeTranslationResponse(l),triggerEvent("locale",[o]),t(null,r,l)}):fetchFromCDN("/sites/"+bablic.Site+"/home."+o,function(n,i){if(n)return bablic.error(n),fetchSequence(e,t,!0);if(r.translationTime=r.confTime=Date.now()-a,e==fetchRevision){var l=decodeConf(i.conf);l.locale=o;var c=l.timestamp;siteConfReceived(l),c!=l.timestamp&&(i.conf[0]=l.timestamp),triggerEvent("locale",[o])}var s=decodeTranslationResponse(i.translations);t(null,r,s),e==fetchRevision&&(LocalDB.setConf(i.conf),LocalDB.setSync("home_"+o,JSON.stringify(i.translations)))})}}},ping=function(e){var t=e.err,n=e.shouldHide,a=e.stats,r=e.detectedLocale,i=e.path;if(bablic.preview)return LDATA.report=!0,LDATA.owner=!0,LDATA.usage=!0,LDATA.machine=!0,send_ldata_report(!0),void send_usage_report();ajaxPost("/api/engine/ping",encodePing({timestamp:LDATA&&Math.round(LDATA.timestamp/1e3),snippetTimestamp:bablic.snippetTimestamp,error:t,locale:bablic.locale,original:bablic.original,didHide:n,confTime:a&&a.confTime,translationTime:a&&a.translationTime,hiddenTime:hiddenTime,detected:detectBrowserLocale(),page:pageUri(),detectedLocale:r,hasLocalStorage:HAS_LOCAL_STORAGE,hasIndexDB:!!WIN.indexedDB,path:i,nonBlocking:nonBlocking,version:bablic.version,parseVersion:bablic.parseVersion}),function(e){if(e.error)return bablic.widget.hide(),bablic.locale!==bablic.original&&bablic.languages.hide(bablic.locale),4e3==e.error&&e.owner&&showTurnedOffMessage(),LocalDB.setConf(4e3),void(fetchedPackages={});var t;(e.machine&&LDATA&&(LDATA.machine=!0),e.owner&&LDATA&&(LDATA.owner=e.owner),e.clear||e.error)&&(turnOffCDN(),LDATA&&(t=LDATA.fallback,LDATA.timestamp=e.ts,LDATA.report=!1,LDATA.fallback=!1),fetchedPackages={},bablic._conf=null,LocalDB.clearAll(function(){if(!e.error){var n=++fetchRevision;fetchSequence(n,function(a,r,i){a&&bablic.error("Error fetching 2nd time",a),e.report&&(LDATA.report=!0),e.usage&&(LDATA.usage=!0),LDATA.fallback=t,i&&n==fetchRevision&&(LDATA.content?fallback_callback(i):translationReceived(i)),shouldShowWidget&&bablic.showFlags()})}}));if(e.block){if(LDATA){LDATA.timestamp=e.block;var n=encodeConf(LDATA);LocalDB.setConf(n),LocalDB.setSync("block",e.block,!0),bablic.locale!=bablic.original&&bablic.redirectTo(bablic.original),LDATA.widget&&(LDATA.widget[0]&&(LDATA.widget[0].show=!1),LDATA.widget[1]&&(LDATA.widget[1].show=!1)),hideWidget(),fetchedPackages={}}e.owner&&("expired"===e.reason?showMessage("trialExpired"):"quota"===e.reason&&showMessage("quota"))}else LocalDB.setSync("block","",!0);e.limitHome?(LocalDB.setSync("limitHome","1",!0),limitToHomePage(e.owner)):LocalDB.getSync("limitHome",!0)&&(LocalDB.setSync("limitHome","",!0),isHomePage(!0)||LOC.reload()),e.expired&&(bablic.expired=!0,shouldShowWidget&&bablic.showFlags(),e.owner&&showMessage("trialExpired")),e.scanning&&LDATA&&(LDATA.scanning=!0),e.report&&!e.clear&&(LDATA.report=!0,send_ldata_report(!0)),e.usage&&!e.clear&&(LDATA.usage=!0,send_usage_report())},!0)};var shouldnt_work=function(){if(window.Squarespace){try{if(parent.location.pathname.indexOf("/config")>-1)return!0;if(parent!=top&&top.location.pathname.indexOf("/config")>-1)return!0}catch(e){}return!1}try{if(top.location.href.indexOf("shopify.com/admin")>-1)return!0;if(window.Weebly&&parent.location.pathname.indexOf("/editor/preview")>-1)return!0}catch(e){}return!1},checkIframeSituation=function(){try{var e=bablic.conf&&bablic.conf.domain||bablic.data&&bablic.data.domain;if(PARENT&&PARENT!=WIN){var t=!0;try{PARENT.location.hostname.indexOf("/")}catch(e){t=!1}if(t&&PARENT.bablic&&!PARENT.bablic.isAdmin)shouldShowWidget=!1,PARENT.bablic.on("locale",function(e){e!=bablic.locale&&bablic.redirectTo(e)}),bablic.widget.hide();else if(!t&&e){e=e.split("/")[0];if(LOC.hostname.lastIndexOf(e)!=LOC.hostname.length-e.length){shouldShowWidget=!1;var n=function(e){try{if("string"!=typeof e.data)return;var t=JSON.parse(e.data);if("locale"!=t.type)return;if(!t.locale)return;t.locale!=bablic.locale&&bablic.redirectTo(t.locale)}catch(e){}};WIN.addEventListener?WIN.addEventListener("message",n,!1):WIN.attachEvent("onmessage",n),PARENT.postMessage(JSON.stringify({type:"ping",site:bablic.Site}),"*")}}}if(shouldShowWidget){n=function(e){try{if("ping"!=JSON.parse(e.data).type)return;var t=e.source;if(t==WIN)return;bablic.on("locale",function(e){t.postMessage(JSON.stringify({type:"locale",locale:e}),"*")})}catch(e){}};WIN.addEventListener?WIN.addEventListener("message",n,!1):WIN.attachEvent("onmessage",n)}}catch(e){bablic.error(e)}};function isNonBlocking(){if(!DOC.body)return!1;var e=DOC.body.lastElementChild;if(!e||"SCRIPT"!==e.tagName||-1===e.src.indexOf("bablic.com"))return!0;if(!NON_VISUAL_TAGS)return!0;for(;e;){if(e.tagName&&!(e.tagName in NON_VISUAL_TAGS))return!0;e=e.previousElementSibling}return!1}function checker(){try{if(!document.querySelector)return 1;var e=document.querySelectorAll("head script:not([src])");if(!e)return 1;for(var t=0;t<e.length;t++){var n=e[t];if(!n._babChk){if(n.innerHTML.indexOf("shopify-bablic-check")>-1)return 1;if(n.innerHTML.indexOf("window.addEventListener('load', asyncLoad')")>-1)return-1;n._babChk=1}}return document.body&&document.body.childNodes&&document.body.childNodes.length?-1:0}catch(e){return 1}}function migrateTranslationResponse(e){var t=e.content,n={},a=!1;for(var r in t)if(42==r.length){a=!0;var o=r.split("_"),l=o[1],c=[];for(i=0;i<20;i++)c.push(String.fromCharCode((parseInt(l[2*i],16)<<4)+parseInt(l[2*i+1],16)));var s=btoa(c.join(""));n[o[0]+"_"+s]=t[r]}else n[r]=t[r];a&&(e.content=n)}bablic.start=function(){if(!bablic.integrateI18n||explicitPage){if(shouldnt_work())return bablic._locked=!0;if(DOC.getElementsByTagName("HEAD")[0]&&DOC.getElementsByTagName("HEAD")[0].attributes["bablic-status"]&&LDATA)return bablic.Mutation.listen(),(LDATA.edit||LDATA.suggest)&&addOMGScript(),void triggerEvent("done",[bablicDTO()]);checkIframeSituation();var e=bablic.detectLocale(null,{initial:!0});if(0!==e){if(LocalDB.getSync("limitHome",!0)&&!isHomePage(!0)&&(e=bablic.original),bablic.detectedLocale=e,bablic.locale=e||bablic.locale,bablic.__defineSetter__){bablic.preview&&(underlineLocale=bablic.locale,bablic.__defineSetter__("locale",function(){}),bablic.__defineGetter__("locale",function(){return underlineLocale}));var t=bablic.localeURL;bablic.__defineSetter__("localeURL",function(){console.log("cannot set localeURL after script load",(new Error).stack)}),bablic.__defineGetter__("localeURL",function(){return t})}var n=!(bablic.dontHide||nonBlocking||bablic.locale&&bablic.original&&bablic.locale[0]==bablic.original[0]&&bablic.locale[1]==bablic.original[1]);n&&WIN.navigator&&navigator.appVersion&&navigator.appVersion.indexOf("Chrome/62")>-1&&(n=!1),bablic.loaded=!0,n&&hidePage();var a=++fetchRevision,r=Date.now();setTimeout(function(){fetchSequence(a,function(t,i,o){bablic.log("fetch time",Date.now()-r),r=Date.now(),onReady(function(){if(bablic.log("dom load",Date.now()-r),o&&a==fetchRevision&&(r=Date.now(),translationReceived(o),bablic.log("process time",Date.now()-r)),n&&showPage2(),t&&bablic.error(t),bablic.setMutationListen(!1),triggerEvent("done",[bablicDTO()]),triggerEvent("translated",[bablicDTO()]),$.byTag("head").attr("bablic-status","loaded"),!WIN.JSON||!JSON.stringify||!JSON.parse){var l=DOC.createElement("script");l.type="text/javascript",l.async=!0,l.src=("https:"==DOC.location.protocol?"https://":"http://")+CDN_PATH+"/js/json.min.js";var c=DOC.getElementsByTagName("script")[0];c.parentNode.insertBefore(l,c)}bablic.setMutationListen(!0),bablic.locales&&shouldShowWidget&&LDATA.widget&&LDATA.widget[0]&&LDATA.widget[0].show&&setInterval(function(){var e=$.grep(bablic.locales,function(e){var t=LocaleSettings[e.key];return!t||!t.hidden});!e.length||1==e.length&&e[0]==originalLocale||$.byId("bablicFlagsWidget").length()||bablic.widgetConf&&!bablic.widgetConf.show||bablic.showFlags(bablic.widgetConf)},1e3),ASYNC_FETCH_OFF||setTimeout(loadAsyncTranslation,1e3);var s=normalizedCurrentPath();bablic.log("hidden time "+hiddenTime),i&&(bablic.log("conf time "+i.confTime),bablic.log("translation time "+i.translationTime)),ping({err:t,shouldHide:n,stats:i,detectedLocale:e,path:s})})})},0),n&&setTimeout(function(){showPage2()},4e3),bablic.registerKey&&bablic.registerKey();var i=WIN.history;if(i&&i.pushState&&i.pushState.bind){onStateChanges=function(){try{var e=LDATA.content,t=function(){var t=LDATA.locale,n=++fetchRevision,a=0;for(var r in new_content)a+=Object.keys(new_content[r]).length;fetchSequence(n,function(r,i,o){if(o&&n==fetchRevision){for(var l in o)l in e&&"__empty__"!=e[l]||(e[l]=o[l]);if(t==LDATA.locale){LDATA.content=e;var c=savedContentNodes;savedContentNodes=[];var s=0;for(var l in new_content)s+=Object.keys(new_content[l]).length;if(_forceTraverse=bablic.preview||s>a,domTraverse($.byTag("html").get(0),bablic.UseInclude),_forceTraverse=!1,mergeContentNodes(c),bablic.preview){flushMergedNodes();var u=new_content[1];savedContentNodes.forEach(function(e){if(e.a){var t=e.hash;if(!(t in LDATA.content)){var n=t.split("_");if("1"===n[0]){var a=n[1];u[a]||(u[a]={_new:!0,content:e.content,elements:[e.element],nodes:[e.node],markup:{},a:!0,tags:{}})}}}}),sentReport={}}ping({})}}})};if(bablic.preview&&WIN.omg){e={};var n=!1,a=function(){n||(n=!0,t())};omg.onPageChanged(a),setTimeout(a,1e4)}else t()}catch(e){bablic.error(e)}};var o=i.pushState,l=i.replaceState;bablic.pushState=o.bind(i),bablic.replaceState=l.bind(i);try{i.pushState=function(){if(!LDATA)return o.apply(i,arguments);var e=normalizedCurrentPath(),t=o.apply(i,arguments);return triggerEvent("pageChange"),e==normalizedCurrentPath()?t:("string"==typeof arguments[2]&&onStateChanges(),t)},i.replaceState=function(){if(!LDATA)return o.apply(i,arguments);var e=normalizedCurrentPath(),t=l.apply(i,arguments);return triggerEvent("pageChange"),e==normalizedCurrentPath()?t:("string"==typeof arguments[2]&&onStateChanges(),t)}}catch(e){}}}}},parallel=function(e,t){var n=e.length,a=new Array(e.length);if(!e.length)return t(null,a);for(var r=0;r<e.length;r++)!function(r){e[r](function(e,i){if(e)return t&&t(e),void(t=null);a[r]=i,0==--n&&(t&&t(null,a),t=null)})}(r)},parallelEach=function(e,t,n){return parallel($.map(e,function(e){return function(n){t(e,n)}}),n)};var CLEAN_TEXT=/Google\s+Imagery|BESbewy/i;function turnOffLJZ(){document.body.setAttribute("notranslate","notranslate"),$.byId("localize-widget").remove();var e=function(t){t.target&&"localize-widget"==t.target.id&&t.target.parentNode&&(t.target.parentNode.removeChild(t.target),$(DOC.body).off("DOMNodeInserted",e))};$(DOC.body).on("DOMNodeInserted",e)}function stashPreviousContent(e){for(var t in PREVIOUSLY_USED_CONTENT=PREVIOUSLY_USED_CONTENT||{},e)PREVIOUSLY_USED_CONTENT[t]=e[t]}if(onReady(function(){window.Localize&&turnOffLJZ(),window.google&&window.google.translate&&delete window.google.translate,$.byClass("goog-te-gadget").remove()}),window.Text&&window.Text.prototype&&!window.Text.prototype.getBoundingClientRect){var fakeRect={width:0};window.Text.prototype.getBoundingClientRect=function(){return fakeRect}}WIN._bab=bablic}(bablic),oY=bablic,onReady(function(){setTimeout(function(){oY.on("locale",function(){var e=oY.getLocale();WIN.$zopim&&WIN.$zopim.livechat&&WIN.$zopim.livechat.setLanguage(e.substr(0,2))})},2e3)}),function(){if(!1!==bablic.checkout&&WIN.Shopify&&LOC.pathname.indexOf("/checkouts/")>-1&&-1==LOC.search.indexOf("locale=")){var e=!0;bablic.on("locale",function(){if(e){e=!1;var t=nonBlocking;nonBlocking=!1;var n=bablic.detectLocale();nonBlocking=t,!n||Shopify.Checkout.locale&&Shopify.Checkout.locale[0]==n[0]&&Shopify.Checkout.locale[1]==n[1]||bablic.redirectTo(n)}})}var t={pt:"pt_PT",en_us:"en"};function n(e){if((e=t[e]||e).includes("_")){var n=e.split("_")[0],a=e.split("_")[1];e=n.toLowerCase()+"-"+a.toUpperCase()}return e}onReady(function(){if(WIN.Shopify){var e=function(){var e;bablic.setMutationListen(!1),e=bablic.getLocale(),$.byTag("form").filter('[action*="account"]').each(function(){var t=bablic.conf&&bablic.conf.domain||bablic.data&&bablic.data.domain;if("custom"==bablic.locale_detection&&t){var n=t.indexOf("/");n>-1&&(t=t.substr(0,n));var a=this.getAttribute("action"),r=parseURL(a);a&&r.hostname!=LOC.hostname&&r.hostname==t&&this.setAttribute("action",r.protocol+"//"+LOC.hostname+r.pathname+r.query+r.hash)}if(this.querySelector){var i=this.querySelector("input.bablicCustomerLocale");i?i.setAttribute("value","babl#"+e+"babl#"):$(this).append('<input type="hidden" class="bablicCustomerLocale" name="customer[tags][locale]" value="babl#'+e+'babl#" />')}}),!1!==bablic.checkout&&($.byTag("form").filter('[action^="/checkout"],[action^="/cart"]').each(function(){var t=$(this);if(this.querySelector){var a=this.querySelector('input[name="attributes[language]"]');a?a.setAttribute("value",e):$(t).append('<input type="hidden" name="attributes[language]" value="'+e+'" />')}var r=t.attr("action"),i=parseURL(r),o=i.query?i.query.replace(/locale=[^&]*&?/,""):"?";"?"==o[o.length-1]||"&"==o[o.length-1]?o+="locale="+n(e):o+="&locale="+n(e);var l=i.pathname+o;if(r!=l){var c=t.children(".bta-loading");c.length()&&"none"!==c.css("display")||t.attr("action",l)}}),$("button[onclick]").each(function(){var t=$(this),a=t.attr("onclick"),r=a.replace(/(['"])(\/(?:checkout|cart)\b.*)(['"])/g,function(t,a,r,i){var o=parseURL(r),l=o.query?o.query.replace(/locale=[^&]*&?/,""):"?";return"?"==l[l.length-1]||"&"==l[l.length-1]?l+="locale="+n(e):l+="&locale="+n(e),a+o.pathname+l+o.hash+i});r!=a&&t.attr("onclick",r)}),$('a[href^="/checkout"],a[href^="/cart"]').each(function(){var t=$(this),a=t.attr("href"),r=parseURL(a),i=r.query?r.query.replace(/locale=[^&]*&?/,""):"?";"?"==i[i.length-1]||"&"==i[i.length-1]?i+="locale="+n(e):i+="&locale="+n(e);var o=r.pathname+i;a!=o&&t.attr("href",o)})),bablic.setMutationListen(!0)};bablic.on("locale",e),setInterval(e,4e3)}})}(),onReady(function(){if(WIN.rendererModel&&bablic.on){var e=function(){bablic.setMutationListen(!1),updateWixWidgets(),bablic.setMutationListen(!0)};bablic.on("locale",e),bablic.on("done",e),setInterval(e,4e3)}}),bablic.Site&&!bablic.loaded&&bablic.start(),triggerEvent("load",[bablicDTO()])}function getLocaleByURL(e,t,n,a,r,i,o,l,c,s,u,d){!d&&u&&(d=u[u.length-1]),!d&&r&&(d=r);var b,f=u?u.join("|"):"\\w\\w?\\w(?:_\\w\\w)?";switch(t){case"querystring":return e.query&&"object"==typeof e.query?e.query.locale:(y=/locale=([^&]+)/.exec(e.query||""))&&2==y.length&&y[1]?y[1]:l||a||i||r;case"subdomain":return"undefined"!=typeof parent&&parent&&parent.Site&&parent.Site.locale?parent.Site.locale:(y=(o?RegExp("(?:^|_)("+f+")_(?:b\\-[mt]\\-)?[0-9a-f]{24,25}_pipe","i"):RegExp("^(?:www\\.)?("+f+")\\.","i")).exec(e.hostname))&&y.length>1&&y[1]?y[1]:r;case"subdir":var p=e.pathname;c&&(p=p.replace(c,""));var g=SUB_DIR.exec(p);return g?s&&u&&s[g[2]]?getLocaleFromFolder(s[g[2]],u)||r:g[2]:l||(a||(i||r));case"tld":return(y=/\.(\w\w?\w)$/.exec(e.hostname))&&y.length>1&&y[1]?y[1]:null;case"custom":var h;for(var m in n){var v=n[m];if(v&&(b=v,Array.isArray(b)?RegExp(b.map(function(e){return e.replace(/([.?+^$[\]\\(){}|-])/g,"\\$1").replace(/\*/g,".*")}).join("|"),"i"):RegExp((b+"").replace(/([.?+^$[\]\\(){}|-])/g,"\\$1").replace(/\*/g,".*"),"i")).test(e.href)){h=m;break}}if(h){if(e.query&&d==h)if((y=/locale=([^&]+)/.exec(e.query||""))&&2==y.length&&y[1])return y[1];return h}return l||d;case"hash":var y;return(y=/^#!locale=(\w\w?\w(?:_\w\w)?)$/.exec(e.hash||""))&&y.length>1&&y[1]?y[1]:a||i||r;default:return a}}function getPackageFromPath(e,t){if(!e)return 0;for(var n in e){var a=e[n];if(a&&a.indexOf&&a.indexOf(t)>-1)return Number(n)}var r=0,i=0;for(var n in e){var o=e[n];if(o.length){for(var l=0,c=o.length-1;c>=0;c--)if(0==t.indexOf(o[c])){l=o[c].length;break}l&&l>r&&(r=l,i=Number(n))}}return i}function getOtherDomain(e,t){if(!t||!t.length)return"";if((n=t.indexOf(e))>-1)return n+1+"";var n,a=e.replace("www.","");return a===e&&(a="www."+e),(n=t.indexOf(a))>-1?n+1+"":""}function getSubDomain(e,t,n,a){if(!(a&&a.length&&t&&e))return"";t=t.replace(/\/.*$/,"");var r=n?RegExp("(^|\\.)("+n.join("|")+")\\.","i"):RegExp("(^|\\.)(\\w\\w?\\w(?:_\\w\\w)?)\\.","i"),i=e.replace(r,"$1").replace(IGNORE_SUBS,""),o=t.replace(IGNORE_SUBS,""),l=i.replace("."+o,"").replace(o,"");a=a.slice().sort(function(e,t){return t.length-e.length});for(var c=0;c<a.length;c++)if(l.indexOf(a[c])>-1)return a[c];return""}function getLocaleFromFolder(e,t){var n=t.indexOf(e);if(n>-1)return t[n];e=e.split("_")[0];for(var a=0;a<t.length;a++){if(t[a].split("_")[0]==e)return t[a]}return""}function normalizePath(e,t,n,a,r,i,o,l,c,s,u){if(r)return"*";var d=EXTRACT_SUB.exec(e);d&&(e=e.replace(EXTRACT_SUB,""));var b=d?"@"+d[1].toUpperCase()+"@":"",f=(e=e.toLowerCase()).split("#"),p=a&&f[1]?"#"+f[1]:"",g=(f=f[0].split("?"))[0],h=f[1];c&&(g=g.replace(c,""));var m=SUB_DIR.exec(g);if(m&&(i.indexOf(m[2])>-1||s&&s[m[2]])&&(g=g.substr(m[1].length)),u||"/"==g[g.length-1]||/\/.*?\.[^/]*$/.test(g)||(g+="/"),u||""!==g||(g="/"),n&&o&&o.length&&h){for(var v=h.split("&"),y=[],_=0;_<v.length;_++){var A=v[_].split("=");"locale"!=A[0]&&y.push([decodeURIComponent(A[0]),A[1]&&decodeURIComponent(A[1])])}o=o.map(function(e){return e.toLowerCase()}),(y=y.filter(function(e){return o&&o.indexOf(e[0])>-1})).sort(function(e,t){return e[0]==t[0]?0:e[0]>t[0]?1:-1}),h=y.length>0?"?"+y.map(function(e){return encodeURIComponent(e[0])+"="+encodeURIComponent(e[1])}).join("&"):""}else h="";return b+g+h+p}function isPageExcluded(e,t,n,a){var r=getExcludedPath(e,t),i=getExcludedPath(e,n),o=a?getExcludedPath(e,a.excludePages):0,l=a?getExcludedPath(e,a.includePages):0;return(r>o?r:o)>(i>l?i:l)}function getExcludedPath(e,t){if(!t||!t.indexOf)return 0;for(var n=0;n<t.length;n++)if(NOT_FOLDER_REGEX.test(t[n])){if(t[n]==e)return 9999999999}else if(0==e.indexOf(t[n]+"/"))return t[n].length+1;return 0}function isPathFolder(e){return!NOT_FOLDER_REGEX.test(e)}function encodeObject(e,t){if(null==t)return 0;if(null===e)return t;if("object"!=typeof e){var n=BEnumRegex.exec(e);if(n){var a=JSON.parse(n[1]);for(var r in a)if(a[r]==t)return Number(r);return 0}return"Boolean"==e?t?1:0:t}if("__obj__"==e[0]){for(var i=[],o=1;o<e.length;o++){var l=e[o];i.push(encodeObject(l[1],t[l[0]]))}return i}for(var c=[],s=0;s<t.length;s++)c.push(encodeObject(e[0],t[s]));return c}function decodeObject(e,t){if(0===t&&"Number"!=e&&(t=null),null===e)return t;if("object"!=typeof e){var n=BEnumRegex.exec(e);if(n){var a=JSON.parse(n[1]);return a[t]||a[0]}return"Boolean"===e?!!t:t}if(!t)return{};var r;if("__obj__"==e[0]){r={};for(var i=1;i<e.length;i++){var o=e[i];r[o[0]]=decodeObject(o[1],t[i-1])}return r}r=[];for(var l=0;l<t.length;l++)r[l]=decodeObject(e[0],t[l]);return r}function encodeWithVersion(e,t,n){var a=encodeObject(t,e);return a.push(["_v",n]),a}function decodeWithVersion(e,t,n){var a=e[e.length-1];if("_v"!=a[0])return null;if(a[1]!=n)return null;e.pop();var r=decodeObject(t,e);return e.push(a),r}function normalizeImageUrl(e){return(e||"").split("#")[0].replace(/^https?\:/i,"")}function getSelectedSource(e,t,n){var a=t.trim().split(/\s*,\s*/).map(function(e,t){return e.split(/\s+/)}),r=-1;e=normalizeImageUrl(e);for(var i=0;i<a.length;i++)if(normalizeImageUrl(a[i][0])==e){r=i;break}r<0&&(r=0);var o=n.trim().split(/\s*,\s+/).map(function(e,t){return e.split(/\s+/)})[r];return o?o[0]:null}function cleanSrc(e,t,n){if(e&&"none"!=e){WIN.BABLIC_RESTORE?e=BABLIC_RESTORE(e):WIN.BABLIC_R&&(e=e.replace(BABLIC_R,BABLIC_V));var a=e.replace(/^(?:https?:)?\/\//i,"");if(LDATA.conf&&LDATA.conf.iq||(a=a.split("?")[0]),BLANK_REGEX.test(a))return null;var r=a;if(a.indexOf(LOC.hostname)>-1)a=a.replace(LOC.hostname,"");else if(WIN.BABLIC_RESTORE){var i=BABLIC_RESTORE(LOC.hostname);a.indexOf(i)>-1&&(a=a.replace(i,""))}var o=[];if(a!=r&&o.push(bablicHash(r)),CLOUDINARY_REGEX.test(e)){var l=a.split("/");l[4].indexOf("_")>-1&&l.length>5&&(l.splice(4,1),o.push(bablicHash(a)),a=l.join("/"))}return n&&"srcset"==n.nodeName.toLowerCase()&&(a+="#srcset",e+="#srcset"),e=parseURL(e).href,{id:bablicHash(a),content:e,m:t,bc:o}}return null}function isInDomain(e){if(!e)return!1;if(e.indexOf("bablic.com")>-1)return!0;var t;if(LDATA.domains&&LDATA.domains.length)t=LDATA.domains;else{var n=LOC.hostname.split(".");t=[n.slice(n.length-2).join(".")]}for(var a=0;a<t.length;a++){var r=t[a];if(r){if("*"==r[0])if(r=r.substr(2),(i=e.lastIndexOf(r))>-1&&i==e.length-r.length)return!0;if((i=e.lastIndexOf(t[a]))>-1&&i==e.length-t[a].length)return!0}}if(LDATA.mountSubs)for(a=0;a<LDATA.mountSubs.length;a++){var i;if(LDATA.mountSubs[a])if((i=e.lastIndexOf(LDATA.mountSubs[a]))>-1&&i==e.length-LDATA.mountSubs[a].length)return!0}return!1}function generateOriginalPath(e,t){if(!reverseKeywordByLocale||!reverseKeywordByLocale[t])return null;var n=e.split("?"),a=n[0],r=a.split("."),i=r.length>1?"."+r[r.length-1]:"",o=r.length>1?r.slice(0,r.length-1).join("."):a,l=reverseKeywordByLocale[t],c=o.split("/").map(function(e){return l[e]||e}).join("/");return c!=o?(n[0]=c+i,n.join("?")):e}function generateTranslatedPath(e,t){if(!keywordsByLocale||!keywordsByLocale[t])return null;var n=e.split("?"),a=n[0],r=a.split("."),i=r.length>1?"."+r[r.length-1]:"",o=r.length>1?r.slice(0,r.length-1).join("."):a,l=keywordsByLocale[t],c=o.split("/").map(function(e){return l[e]||e}).join("/");return c!=o?(n[0]=c+i,n.join("?")):null}function processKeywords(e,t){e&&t&&(keywordsByLocale={},reverseKeywordByLocale={},t.forEach(function(t){var n={},a={};for(var r in e)e[r][t]&&(n[r]=e[r][t],a[e[r][t]]=r);keywordsByLocale[t]=n,reverseKeywordByLocale[t]=a}))}function getPathname(e){var t=e.pathname;return"/"!=t[0]?"/"+t:t}function parseURL(e){var t=myDiv=myDiv||DOC.createElement("div");t.innerHTML="<a></a>",t.firstChild.href=e,t.innerHTML=t.innerHTML;var n=t.firstChild;return{protocol:n.protocol||LOC.protocol,href:n.href,pathname:"/"==n.pathname[0]?n.pathname:"/"+n.pathname,hostname:n.hostname||LOC.hostname,query:n.search||"",search:n.search||"",hash:n.hash||""}}function escapeRegex(e){return(e+"").replace(/([.*?+^$[\]\\/(){}|-])/g,"\\$1")}function getFolder(e,t){for(var n in t)if(t[n]==e)return n;for(var n in e=e.split("_")[0],t){if(t[n].split("_")[0]==e)return n}return e}function updateWixWidgets(){if(targetLocale){var e=targetLocale!==originalLocale,t=targetLocale.key.split("_")[0];$('iframe[src*="ecom.wix.com"]').each(function(){var n=$(this).attr("src").split("#"),a=n[0],r=n[2],i=(n=a.split("?"))[0],o=n[1];if(o){var l={};o.split("&").map(function(e){return e.split("=")}).forEach(function(e){l[e[0]]=l[e[1]]}),l.lang&&l.lang.split("-")[0]!==t&&(l.lang=t,l.locale=t,l.isPrimaryLanguage=e?"true":"false",a=i+"?"+(o=Object.keys(l).map(function(e){return e+"="+l[e]}).join("&")),$(this).attr("src",r?a+"#"+r:a))}})}}};loadAll(bablic,window,parent,top);var _open=window.open,docs=[];window.open=function(){var e,t=_open.apply(this,arguments),n=20,a=Date.now(),r=function(){Date.now()-a>1e4||(n*=1.2,setTimeout(i,Math.floor(n)))},i=function(){try{if(!t.document)return r();if(docs.indexOf(t.document)>-1)return e=t.document,r();if(!t.document.body||!t.location||!t.location.hostname)return r();if(clearInterval(n),t.bablic={Site:bablic.Site,localeURL:bablic.localeURL,folders:bablic.folders,data:bablic.data,conf:bablic.conf},loadAll(t.bablic,t,window,top),e){var a=docs.indexOf(e);a>-1&&docs.splice(a,1)}docs.push(t.document),r()}catch(e){}};return r(),t}}();